(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{439:function(t,e,o){t.exports=o.p+"img/noCoupou.15051fc.png"},440:function(t,e,o){var content=o(460);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("2031029c",content,!0,{sourceMap:!1})},456:function(t,e,o){t.exports=o.p+"img/coupon-back1.f7871e2.png"},457:function(t,e,o){t.exports=o.p+"img/vipCouB.060d77f.png"},458:function(t,e,o){t.exports=o.p+"img/coupon-back2.09ea952.png"},459:function(t,e,o){"use strict";o(440)},460:function(t,e,o){var n=o(2)(!1);n.push([t.i,".vipSwrapp[data-v-53a17f98]{width:226px;height:236px;background-color:#fff;box-shadow:0 2px 20px rgba(0,0,0,.08);border-radius:16px;position:fixed;top:250px;left:50%;margin-left:-123px}.vipSwrapp .tip[data-v-53a17f98]{text-align:center;margin-top:10px;color:#282828;font-weight:400;margin-left:0;font-size:16px}.vipSwrapp .iconfont[data-v-53a17f98]{font-size:20px;color:#ccc;padding-right:14px;padding-top:14px}.vipSwrapp .code[data-v-53a17f98]{width:148px;height:148px;margin:6px auto 0}.vipSwrapp .code img[data-v-53a17f98]{width:100%;height:100%}",""]),t.exports=n},462:function(t,e,o){"use strict";var n={name:"ffVip",props:{showCode:{type:Boolean,default:!1}},data:function(){return{imgUrl:""}},created:function(){this.gainCount()},mounted:function(){},methods:{closeVip:function(){this.$emit("changeVip",!1)},gainCount:function(){var t=this;this.$axios.get("/pc/get_pay_vip_code").then((function(e){t.imgUrl=e.data.url}))}}},c=(o(459),o(16)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return t.showCode?e("div",{staticClass:"vipSwrapp"},[e("div",{staticClass:"close acea-row row-right"},[e("span",{staticClass:"iconfont icon-guanbi",on:{click:t.closeVip}})]),t._v(" "),e("div",{staticClass:"code"},[e("img",{attrs:{src:t.imgUrl}})]),t._v(" "),e("div",{staticClass:"tip"},[t._v("扫码激活付费会员")])]):t._e()}),[],!1,null,"53a17f98",null);e.a=component.exports},496:function(t,e,o){var content=o(612);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("ddf3a8ae",content,!0,{sourceMap:!1})},611:function(t,e,o){"use strict";o(496)},612:function(t,e,o){var n=o(2),c=o(64),r=o(456),d=o(457),l=o(613),v=o(458),m=n(!1),f=c(r),h=c(d),x=c(l),_=c(v);m.push([t.i,".user-coupon .main-section[data-v-c4583258]{flex:1;margin-left:8px;background-color:#fff}.user-coupon .main-hd[data-v-c4583258]{height:60px;border-bottom:1px solid #ececec;font-size:18px;color:#282828}.user-coupon .main-bd[data-v-c4583258]{padding-top:30px;padding-bottom:15px}.user-coupon .user[data-v-c4583258]{width:180px;height:170px;background-color:#fff}.user-coupon .user .image[data-v-c4583258]{width:52px;height:52px;border-radius:50%;margin-bottom:13px;overflow:hidden;font-size:14px;color:#282828}.user-coupon .user .img[data-v-c4583258]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.user-coupon .user .name[data-v-c4583258]{max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.user-coupon .menu[data-v-c4583258]{padding-top:38px;padding-bottom:38px;margin-top:8px;background-color:#fff}.user-coupon .menu .item[data-v-c4583258]{height:25px;border-left:3px solid transparent;font-size:14px;line-height:25px;text-align:center;color:#666;cursor:pointer}.user-coupon .menu .item.on[data-v-c4583258]{border-color:#e93323;color:#e93323}.user-coupon .list .item[data-v-c4583258]{width:300px;height:130px;margin-right:15px;margin-bottom:15px;background:url("+f+") 50%/cover no-repeat;box-shadow:0 3px 20px rgba(0,0,0,.08)}.user-coupon .list .item.svip[data-v-c4583258]{background-image:url("+h+")}.user-coupon .list .item.svip.disabledVip[data-v-c4583258]{background-image:url("+x+")}.user-coupon .list .item.svip.disabledVip .label[data-v-c4583258]{background-color:hsla(0,0%,56.9%,.1);color:#acacac}.user-coupon .list .item.svip.disabledVip .text-cont[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .money[data-v-c4583258],.user-coupon .list .item.svip.disabledVip .name[data-v-c4583258]{color:#bfbfbf}.user-coupon .list .item.svip.disabledVip .time[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.svip.disabledVip .btn[data-v-c4583258]{color:#fff}.user-coupon .list .item.svip .label[data-v-c4583258]{background-color:#fee2b6;color:#863c0d}.user-coupon .list .item.svip .btn[data-v-c4583258],.user-coupon .list .item.svip .money[data-v-c4583258]{color:#863c0d}.user-coupon .list .item.disabled[data-v-c4583258]{background-image:url("+_+")}.user-coupon .list .item.disabled .label[data-v-c4583258]{background-color:hsla(0,0%,56.9%,.1);color:#acacac}.user-coupon .list .item.disabled .text-cont[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item.disabled .money[data-v-c4583258],.user-coupon .list .item.disabled .name[data-v-c4583258]{color:#bfbfbf}.user-coupon .list .item.disabled .time[data-v-c4583258]{color:#d0d0d0}.user-coupon .list .item .text[data-v-c4583258]{flex:1;padding-left:14px}.user-coupon .list .item .text-cont[data-v-c4583258]{margin-top:14px;font-size:14px;color:#969696}.user-coupon .list .item .label[data-v-c4583258]{width:62px;height:24px;background-color:rgba(233,51,35,.1);font-size:14px;line-height:24px;text-align:center;color:#e93323}.user-coupon .list .item .money[data-v-c4583258]{margin-right:14px;font-size:16px;color:#e93323}.user-coupon .list .item .money .num[data-v-c4583258]{font-weight:700;font-size:32px}.user-coupon .list .item .info[data-v-c4583258]{flex:1;min-width:0}.user-coupon .list .item .name[data-v-c4583258]{margin-bottom:6px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:16px;color:#282828;width:140px;display:inline-block}.user-coupon .list .item .time[data-v-c4583258]{margin-top:14px;font-size:12px;color:#969696}.user-coupon .list .item .btn[data-v-c4583258]{width:52px;padding-right:18px;padding-left:18px;font-size:16px;color:#fff;cursor:pointer}",""]),t.exports=m},613:function(t,e,o){t.exports=o.p+"img/vipCouB02.6479202.png"},660:function(t,e,o){"use strict";o.r(e);o(238),o(7);var n=o(111),c=o.n(n),r=o(4),d=(o(34),{auth:"guest",components:{ffVip:o(462).a},props:{},data:function(){return{moneyLevel:-1,showCode:!1,couponList:[]}},fetch:function(t){var e=t.store;e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"领取优惠券-"+this.$store.state.titleCon}},computed:{},watch:{},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.app;case 1:case"end":return e.stop()}}),e)})))()},created:function(){this.getCouponList()},mounted:function(){this.$auth.loggedIn?this.moneyLevel=this.$auth.user.is_money_level:this.moneyLevel=-1,this.$nextTick((function(){}))},methods:{changeVip:function(t){this.showCode=t},getCoupon:function(t,e){var o=this,n=o.couponList;o.$axios.post("/coupon/receive",{couponId:t}).then((function(t){n[e].is_use++,o.$set(o,"couponList",n),c.a.success("领取成功")})).catch((function(t){c.a.error(t)}))},getCouponList:function(){var t=this;this.$axios.get("coupons").then((function(e){t.couponList=e.data})).catch((function(t){c.a.success(t)}))}}}),l=(o(611),o(16)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-coupon"},[e("div",{staticClass:"main-section"},[e("div",{staticClass:"main-hd acea-row row-middle"},[t._v("领取优惠券")]),t._v(" "),e("div",{staticClass:"main-bd"},[e("div",{staticClass:"list acea-row"},t._l(t.couponList,(function(o,n){return e("div",{key:n,staticClass:"item acea-row",class:[4==o.receive_type?"svip":"",o.is_use>=o.receive_limit&&4!=o.receive_type?"disabled":"",o.is_use>=o.receive_limit&&4==o.receive_type?"disabledVip":""]},[e("div",{staticClass:"text"},[0===o.type?e("div",{staticClass:"label"},[t._v("通用券")]):1===o.type?e("div",{staticClass:"label"},[t._v("品类券")]):2===o.type?e("div",{staticClass:"label"},[t._v("商品券")]):t._e(),t._v(" "),e("div",{staticClass:"text-cont acea-row row-middle"},[e("div",{staticClass:"money"},[t._v("\n                ￥"),e("span",{staticClass:"num"},[t._v(t._s(o.coupon_price))])]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(o.coupon_title))]),t._v(" "),e("div",[t._v("满"+t._s(o.use_min_price)+"可用")])])]),t._v(" "),o.start_time?e("div",{staticClass:"time"},[t._v("\n              有效时间："+t._s(o.start_time)+"-"+t._s(o.end_time)+"\n            ")]):e("div",{staticClass:"time"},[t._v("不限时")])]),t._v(" "),o.is_use>=o.receive_limit?e("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领取\n          ")]):o.is_permanent||o.remain_count?e("div",{staticClass:"acea-row row-middle"},[4!=o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){return t.getCoupon(o.id,n)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0!==t.moneyLevel&&4==o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){return t.getCoupon(o.id,n)}}},[t._v("\n              立即领取\n            ")]):t._e(),t._v(" "),0===t.moneyLevel&&4==o.receive_type?e("div",{staticClass:"btn acea-row row-middle",on:{click:function(e){t.showCode=!0}}},[t._v("\n              立即领取\n            ")]):t._e()]):e("div",{staticClass:"btn acea-row row-middle"},[t._v("\n            已领完\n          ")])])})),0),t._v(" "),0==t.couponList.length?e("div",{staticClass:"empty-box"},[e("img",{attrs:{src:o(439),alt:""}}),t._v(" "),e("p",[t._v("亲，暂无可领取的优惠券哟~")])]):t._e()])]),t._v(" "),e("ffVip",{attrs:{showCode:t.showCode},on:{changeVip:t.changeVip}})],1)}),[],!1,null,"c4583258",null);e.default=component.exports}}]);