(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{476:function(e,t,n){var content=n(558);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("4f422ec4",content,!0,{sourceMap:!1})},557:function(e,t,n){"use strict";n(476)},558:function(e,t,n){var o=n(2),r=n(64),c=n(559),l=o(!1),d=r(c);l.push([e.i,".login .header[data-v-0b521e30]{height:110px}.login .header .icon[data-v-0b521e30]{cursor:pointer;width:112px;height:40px}.login .header .icon img[data-v-0b521e30]{width:100%;height:100%}.login .header .name[data-v-0b521e30]{font-size:28px;margin-left:15px;cursor:pointer}.login .header .item[data-v-0b521e30]{margin-left:40px;font-size:16px;color:#666}.login .header .item .iconfont[data-v-0b521e30]{margin-right:6px;font-size:20px}.login .loginBg[data-v-0b521e30]{width:100%;height:608px;background:url("+d+") no-repeat;background-size:100% 100%;position:relative}.login .loginBg .wxLogin[data-v-0b521e30]{width:450px;height:427px;background:#fff;position:absolute;right:360px;top:91px;padding-top:34px}.login .loginBg .wxLogin .title[data-v-0b521e30]{font-weight:400;font-size:20px;padding-left:30px;position:relative}.login .loginBg .wxLogin .title .iconfont[data-v-0b521e30]{font-size:60px;position:absolute;right:0;top:-35px}.login .loginBg .wxLogin .wxCode[data-v-0b521e30]{width:220px;margin:38px auto 0}.login .loginBg .wxLogin .wxCode .iconfont[data-v-0b521e30]{font-size:30px;color:#cbcbcb}.login .loginBg .wxLogin .wxCode .iconfont.right[data-v-0b521e30]{transform:rotateY(180deg)}.login .loginBg .wxLogin .wxCode .iconfont.bottomL[data-v-0b521e30],.login .loginBg .wxLogin .wxCode .iconfont.bottomR[data-v-0b521e30]{transform:rotateX(180deg)}.login .loginBg .wxLogin .wxCode .pictrue[data-v-0b521e30]{width:190px;height:190px;margin:-15px auto}.login .loginBg .wxLogin .wxCode .pictrue img[data-v-0b521e30]{width:100%;height:100%}.login .loginBg .wxLogin .tip[data-v-0b521e30]{color:#666;font-size:16px;margin-top:20px;text-align:center}.login .loginBg .wrapper[data-v-0b521e30]{width:450px;height:427px;background-color:#fff;position:absolute;top:91px;right:360px;text-align:center;padding:70px 0}.login .loginBg .wrapper .title[data-v-0b521e30]{font-size:20px;font-weight:400;position:relative}.login .loginBg .wrapper .title .iconfont[data-v-0b521e30]{position:absolute;top:-71px;right:0;font-size:60px;cursor:pointer}.login .loginBg .wrapper .item[data-v-0b521e30]{width:358px;height:50px;border:1px solid #dbdbdb;margin:0 auto}.login .loginBg .wrapper .item.phone[data-v-0b521e30]{margin-top:34px}.login .loginBg .wrapper .item.phone .number[data-v-0b521e30]{width:65px;height:100%;line-height:50px;color:#666;border-right:1px solid #dbdbdb}.login .loginBg .wrapper .item.phone input[data-v-0b521e30]{width:291px}.login .loginBg .wrapper .item.pwd[data-v-0b521e30]{margin-top:20px}.login .loginBg .wrapper .item.pwd input[data-v-0b521e30]{width:100%}.login .loginBg .wrapper .item.verificat[data-v-0b521e30]{margin-top:20px}.login .loginBg .wrapper .item.verificat input[data-v-0b521e30]{width:246px}.login .loginBg .wrapper .item.verificat .code[data-v-0b521e30]{width:110px;height:100%;border:0;background-color:#fff;border-left:1px solid #dbdbdb}.login .loginBg .wrapper .item.verificat .code.on[data-v-0b521e30]{color:#ccc!important}.login .loginBg .wrapper .item input[data-v-0b521e30]{padding-left:15px;height:100%;border:0;outline:none}.login .loginBg .wrapper .signIn[data-v-0b521e30]{width:358px;height:50px;text-align:center;line-height:50px;margin:24px auto 0;color:#fff;cursor:pointer}.login .loginBg .wrapper .fastLogin[data-v-0b521e30]{margin-top:14px;cursor:pointer}.login .isAgree[data-v-0b521e30]{width:358px;margin:12px auto 0;text-align:left}.login .isAgree .agree[data-v-0b521e30]{margin-left:6px;color:#999;cursor:pointer}.login .isAgree .agree .agreement[data-v-0b521e30]{color:#e93323}.login .footer[data-v-0b521e30]{text-align:center;font-size:12px;color:#555;margin-top:100px}.login .footer .adress[data-v-0b521e30]{margin-left:40px}.login .footer .record[data-v-0b521e30]{margin-top:6px}.login .footer .record .num[data-v-0b521e30]{margin-left:10px}.login .footer .record .num[data-v-0b521e30]:hover{color:#e93323}",""]),e.exports=l},559:function(e,t,n){e.exports=n.p+"img/loginBg.bc8bac3.jpg"},640:function(e,t,n){"use strict";n.r(t);var o=n(4),r=(n(87),n(34),n(472)),c=n(499),l={name:"login",auth:!1,mixins:[r.a],components:{Verify:c.a},data:function(){return{verifyModal:!1,current:1,account:"",password:"",captcha:"",keyCode:"",info:"",isShow:!0,appidNum:"",hosts:"",codes:"",fromPath:"",agreement:!1,userAgreement:!1,agreementCon1:"",agreementCon2:"",agreementCon:"",agreementTitle:""}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,o=e.query,t.next=1,n.$get("/verify_code");case 1:return r=t.sent,t.next=2,n.$get("/pc/get_company_info");case 2:return c=t.sent,t.next=3,n.$get("/pc/get_appid");case 3:return l=t.sent,t.next=4,n.$get("/get_agreement/4");case 4:return d=t.sent,t.next=5,n.$get("/get_agreement/3");case 5:return m=t.sent,t.abrupt("return",{keyCode:r.key,info:c,appidNum:l.appid,codes:o.code||"",agreementCon1:d.content,agreementCon2:m.content});case 6:case"end":return t.stop()}}),t)})))()},fetch:function(e){var t=e.store;t.commit("isHeader",!1),t.commit("isFooter",!1)},head:function(){return{title:this.$store.state.titleCon}},created:function(){this.$auth.loggedIn&&this.$router.push("/")},mounted:function(){window.addEventListener("keydown",this.keyDown),this.hosts=location.origin+location.pathname,this.fromPath=this.$cookies.get("fromPath"),this.codes&&this.loginCode()},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)},methods:{keyDown:function(e){13===e.keyCode&&(1===this.current?this.loginMobile():2===this.current&&this.loginH5())},ewmLogin:function(){if(!this.agreement)return this.$message.error("请确认阅读用户协议");window.location.href="https://open.weixin.qq.com/connect/qrconnect?appid=".concat(this.appidNum,"&redirect_uri=").concat(this.hosts,"&response_type=code&scope=snsapi_login&state=EqMkUDWh8F3euWlt23jHJ8ZJuaTAVPZyiKEoq5U0")},agreementTap:function(e){4==e?(this.agreementTitle="用户协议",this.agreementCon=this.agreementCon1):(this.agreementTitle="隐私协议",this.agreementCon=this.agreementCon2),this.userAgreement=!0},agreementClose:function(){this.userAgreement=!1,this.agreement=!0},goHome:function(){this.$router.push({path:"/"})},loginCode:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=1,n.$auth.loginWith("local3",{params:{code:e.codes}}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))()},loginH5:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=1;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 1:if(n.account){t.next=2;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 2:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=3;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 3:if(n.password){t.next=4;break}return t.abrupt("return",n.$message.error("请填写密码"));case 4:return o={account:n.account,password:n.password},t.next=5,n.$auth.loginWith("local1",{data:o}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){n.$message.error(e)}));case 5:case"end":return t.stop()}}),t)})))()},getVerify:function(){var e=this;return this.account?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.account)?this.agreement?(this.verifyModal=!0,void this.$nextTick((function(t){e.$refs.verify.show()}))):this.$message.error("请确认阅读用户协议"):this.$message.error("请输入正确的手机号码"):this.$message.error("请填写手机号码")},success:function(e){this.closeModel(e)},closeModel:function(e){this.code(e)},loginMobile:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=1;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 1:if(n.account){t.next=2;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 2:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=3;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 3:if(n.captcha){t.next=4;break}return t.abrupt("return",n.$message.error("请填写验证码"));case 4:if(/^[\w\d]+$/i.test(n.captcha)){t.next=5;break}return t.abrupt("return",n.$message.error("请输入正确的验证码"));case 5:return o={phone:n.account,captcha:n.captcha},t.next=6,n.$auth.loginWith("local2",{data:o}).then((function(){if(n.isShow=!1,e.fromPath){var t=e.fromPath.split(n.$router.history.base).join("");n.$router.push(t)}else n.$router.push("/");n.$cookies.remove("fromPath")})).catch((function(e){n.$message.error("验证码错误")}));case 6:case"end":return t.stop()}}),t)})))()},code:function(data){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e).agreement){t.next=1;break}return t.abrupt("return",n.$message.error("请确认阅读用户协议"));case 1:if(n.account){t.next=2;break}return t.abrupt("return",n.$message.error("请填写手机号码"));case 2:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){t.next=3;break}return t.abrupt("return",n.$message.error("请输入正确的手机号码"));case 3:return t.next=4,e.$axios.post("/register/verify",{phone:n.account,type:"mobile",key:n.keyCode,captchaType:"blockPuzzle",captchaVerification:data.captchaVerification}).then((function(e){n.$message.success(e.msg),n.sendCode()})).catch((function(e){n.$message.error(e)}));case 4:case"end":return t.stop()}}),t)})))()}}},d=(n(557),n(16)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"wrapper_1200"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"header acea-row row-between-wrapper"},[t("div",{staticClass:"acea-row row-middle"},[t("div",{staticClass:"icon",on:{click:e.goHome}},[t("img",{attrs:{src:e.info.logoUrl}})]),e._v(" "),t("div",{staticClass:"name",on:{click:e.goHome}},[e._v("官方商城")])]),e._v(" "),e._m(0)])]),e._v(" "),t("div",{staticClass:"loginBg min_wrapper_1200"},[t("div",{directives:[{name:"show",rawName:"v-show",value:1===e.current,expression:"current === 1"}],staticClass:"wrapper"},[t("div",{staticClass:"title"},[e._v("\n        快速登录/注册\n        "),e._v(" "),e.appidNum?t("span",{staticClass:"iconfont icon-weixindenglu1",on:{click:e.ewmLogin}}):e._e()]),e._v(" "),t("div",{staticClass:"item phone acea-row row-middle"},[t("div",{staticClass:"number"},[e._v("+86")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"item verificat acea-row row-between-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.captcha},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),e._v(" "),t("button",{staticClass:"code font-color",class:!0===e.disabled?"on":"",attrs:{disabled:e.disabled},on:{click:e.getVerify}},[e._v("\n          "+e._s(e.text)+"\n        ")])]),e._v(" "),t("div",{staticClass:"isAgree"},[t("el-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}}),t("span",{staticClass:"agree"},[e._v("我已阅读并同意"),t("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(4)}}},[e._v("《用户协议》")]),e._v("和"),t("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(3)}}},[e._v("《隐私协议》")])])],1),e._v(" "),t("div",{staticClass:"signIn bg-color",on:{click:e.loginMobile}},[e._v("登录/注册")]),e._v(" "),t("div",{staticClass:"fastLogin font-color",on:{click:function(t){e.current=2}}},[e._v("账号登录")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:2===e.current,expression:"current === 2"}],staticClass:"wrapper"},[t("div",{staticClass:"title"},[e._v("\n        账号登录\n        "),e._v(" "),e.appidNum?t("span",{staticClass:"iconfont icon-weixindenglu1",on:{click:e.ewmLogin}}):e._e()]),e._v(" "),t("div",{staticClass:"item phone acea-row row-middle"},[t("div",{staticClass:"number"},[e._v("+86")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入手机号",maxlength:"11"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"item pwd"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"isAgree"},[t("el-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}}),t("span",{staticClass:"agree"},[e._v("我已阅读并同意"),t("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(4)}}},[e._v("《用户协议》")]),e._v("和"),t("span",{staticClass:"agreement",on:{click:function(t){return e.agreementTap(3)}}},[e._v("《隐私协议》")])])],1),e._v(" "),t("div",{staticClass:"signIn bg-color",on:{click:e.loginH5}},[e._v("登录")]),e._v(" "),t("div",{staticClass:"fastLogin font-color",on:{click:function(t){e.current=1}}},[e._v("\n        快速登录/注册\n      ")])])]),e._v(" "),t("div",{staticClass:"footer wrapper_1200"},[t("div",[t("span",[e._v("联系电话："+e._s(e.info.contact_number))]),e._v(" "),t("span",{staticClass:"adress"},[e._v("地址："+e._s(e.info.company_address))])]),e._v(" "),t("div",{staticClass:"record"},[e._v("\n      "+e._s(e.info.copyright)),t("a",{staticClass:"num",attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[e._v(e._s(e.info.record_No))])])]),e._v(" "),t("el-dialog",{staticClass:"detail-bd",attrs:{title:e.agreementTitle,visible:e.userAgreement,"show-close":!1,width:"900px",center:""},on:{"update:visible":function(t){e.userAgreement=t}}},[t("div",{staticClass:"userAgree",domProps:{innerHTML:e._s(e.agreementCon)}}),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.agreementClose}},[e._v("确 定")])],1)]),e._v(" "),e.verifyModal?t("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"330px",height:"155px"}},on:{success:e.success}}):e._e()],1)}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"acea-row row-middle"},[t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-pinzhongqiquan font-color"}),e._v("品种齐全\n        ")]),e._v(" "),t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-dijiachangxuan font-color"}),e._v("低价畅选\n        ")]),e._v(" "),t("div",{staticClass:"item"},[t("span",{staticClass:"iconfont icon-zhengpinhanghuo font-color"}),e._v("正品行货\n        ")])])}],!1,null,"0b521e30",null);t.default=component.exports}}]);