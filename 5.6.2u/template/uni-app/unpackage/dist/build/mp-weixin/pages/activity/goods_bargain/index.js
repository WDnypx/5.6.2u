(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_bargain/index"],{"2a41":function(t,i,n){},"2ab9":function(t,i,n){"use strict";n.r(i);var a=n("5357"),e=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(s);i["default"]=e.a},3825:function(t,i,n){"use strict";n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return e})),n.d(i,"a",(function(){}));var a=function(){var t=this.$createElement,i=(this._self._c,this.$t("人正在参与")),n=this.$t("最低"),a=this.$t("￥"),e=this.$t("参与砍价");this.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:a,m3:e}})},e=[]},"4a7c":function(t,i,n){"use strict";(function(t,i){var a=n("47a9");n("4cef");a(n("3240"));var e=a(n("a3b8"));t.__webpack_require_UNI_MP_PLUGIN__=n,i(e.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},5357:function(t,i,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("bc57"),s=n("6a31"),o=n("2b1a"),c=n("9f1b"),r=n("630d"),u=n("8f59"),g=a(n("eef0")),h=n("2501"),l=getApp(),f={mixins:[g.default],components:{home:function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("b5d4"))}.bind(null,n)).catch(n.oe)},authorize:function(){n.e("components/Authorize").then(function(){return resolve(n("755f"))}.bind(null,n)).catch(n.oe)}},data:function(){return{hostUrl:h.HTTP_REQUEST_URL,bargainList:[],page:1,limit:20,loading:!1,loadend:!1,userInfo:{},navH:"",isAuto:!1,isShowAuth:!1,returnShow:!0,picUrl:{},picList:[{bgList:"/statics/system_images/bargain_bg_0.jpeg"},{bgList:"/statics/system_images/bargain_bg_1.jpeg"},{bgList:"/statics/system_images/bargain_bg_2.jpeg"},{bgList:"/statics/system_images/bargain_bg_3.jpeg"},{bgList:"/statics/system_images/bargain_bg_4.jpeg"}]}},computed:(0,u.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,i){t&&(this.getUserInfo(),this.getBargainList())},deep:!0},colorStatus:function(t,i){t&&this.colorShow(t)}},onLoad:function(i){var n=this;this.colorStatus||(0,r.colorChange)("color_change").then((function(t){n.colorShow(t.data.status)}));var a=getCurrentPages();this.returnShow=1!==a.length,t.setNavigationBarTitle({title:this.$t("砍价列表")}),this.navH=2.5*l.globalData.navH,this.getBargainList(),this.isLogin&&this.getUserInfo()},methods:{colorShow:function(t){switch(t){case 1:this.picUrl=this.picList[0];break;case 2:this.picUrl=this.picList[1];break;case 3:this.picUrl=this.picList[2];break;case 4:this.picUrl=this.picList[3];break;case 5:this.picUrl=this.picList[4];break;default:this.picUrl=this.picList[2];break}},authColse:function(t){this.isShowAuth=t},getUserInfo:function(){var t=this;(0,o.getUserInfo)().then((function(i){t.$set(t,"userInfo",i.data)}))},goBack:function(){t.navigateBack({delta:1})},onLoadFun:function(t){this.getBargainList(),this.userInfo=t},openSubscribe:function(i){this.isLogin||(0,c.toLogin)();var n="/pages/activity/goods_bargain_details/index?id="+i.id+"&bargain="+this.userInfo.uid;t.showLoading({title:this.$t("正在加载中")}),(0,s.openBargainSubscribe)().then((function(i){t.hideLoading(),t.navigateTo({url:n})})).catch((function(i){t.hideLoading()}))},getBargainList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,(0,e.getBargainList)({page:t.page,limit:t.limit}).then((function(i){t.$set(t,"bargainList",t.bargainList.concat(i.data)),t.$set(t,"page",t.page+1),t.$set(t,"loadend",t.limit>i.data.length),t.$set(t,"loading",!1)})).catch((function(i){t.loading=!1})))}},onReachBottom:function(){this.getBargainList()}};i.default=f}).call(this,n("df3c")["default"])},a3b8:function(t,i,n){"use strict";n.r(i);var a=n("3825"),e=n("2ab9");for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);n("d5ef");var o=n("828b"),c=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);i["default"]=c.exports},d5ef:function(t,i,n){"use strict";var a=n("2a41"),e=n.n(a);e.a}},[["4a7c","common/runtime","common/vendor"]]]);