{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\sendCoupons\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\sendCoupons\\index.vue","mtime":1731313973055},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCB7IGNvdXBvbkFwaSB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NlbmQnLAogIHByb3BzOiB7CiAgICB1c2VySWRzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgY291cG9uTGlzdDogW10sCiAgICAgIHBhZ2U6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIOW9k+WJjemhtQogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBjb3Vwb25fdGl0bGU6ICcnLAogICAgICAgIHJlY2VpdmVfdHlwZTogMwogICAgICB9LAogICAgICB0b3RhbDogMCAvLyDmgLvmnaHmlbAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDkvJjmg6DliLjliJfooagKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY291cG9uQXBpKHRoaXMucGFnZSkudGhlbigvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Lm4pIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMuY291cG9uTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOihqOagvOaQnOe0ogogICAgdXNlclNlYXJjaHM6IGZ1bmN0aW9uIHVzZXJTZWFyY2hzKCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDlj5HpgIEKICAgIHNlbmRHcmFudDogZnVuY3Rpb24gc2VuZEdyYW50KHJvdywgdGl0LCBudW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogIm1hcmtldGluZy9jb3Vwb24vdXNlci9ncmFudCIsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaWRzOiB7CiAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgdWlkOiB0aGlzLnVzZXJJZHMKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["couponApi","name","props","userIds","type","String","default","data","modals","loading","couponList","page","limit","coupon_title","receive_type","total","methods","getList","id","_this","then","_ref","_asyncToGenerator","_regenerator","m","_callee","res","w","_context","n","status","list","count","$message","error","msg","a","_x","apply","arguments","catch","userSearchs","sendGrant","row","tit","num","_this2","delfromData","title","url","method","ids","uid","$modalSure","success"],"sources":["src/components/sendCoupons/index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-dialog :visible.sync=\"modals\" :z-index=\"100\" title=\"发送优惠券\" :close-on-click-modal=\"false\" width=\"1000px\">\n      <div class=\"acea-row\">\n        <span class=\"sp\">优惠券名称：</span\n        ><el-input clearable v-model=\"page.coupon_title\" placeholder=\"请输入优惠券名称\" class=\"form_content_width\" />\n        <el-button type=\"primary\" v-db-click @click=\"userSearchs\" class=\"ml15\">查询</el-button>\n      </div>\n      <el-table\n        :data=\"couponList\"\n        ref=\"table\"\n        class=\"mt14\"\n        v-loading=\"loading\"\n        highlight-current-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <el-table-column label=\"优惠券名称\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.title }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"优惠券面值\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.coupon_price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"优惠券最低消费\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.use_min_price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"优惠券有效期限\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.coupon_time\">{{ scope.row.coupon_time }}</div>\n            <div v-else>{{ scope.row.use_time }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"90\">\n          <template slot-scope=\"scope\">\n            <a v-db-click @click=\"sendGrant(scope.row, '发送优惠券', index)\">发送</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination v-if=\"total\" :total=\"total\" :page.sync=\"page.page\" :limit.sync=\"page.limit\" @pagination=\"getList\" />\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { couponApi } from '@/api/user';\nexport default {\n  name: 'send',\n  props: {\n    userIds: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      modals: false,\n      loading: false,\n      couponList: [],\n      page: {\n        page: 1, // 当前页\n        limit: 15,\n        coupon_title: '',\n        receive_type: 3,\n      },\n      total: 0, // 总条数\n    };\n  },\n  methods: {\n    // 优惠券列表\n    getList(id) {\n      this.loading = true;\n      couponApi(this.page)\n        .then(async (res) => {\n          if (res.status === 200) {\n            let data = res.data;\n            this.couponList = data.list;\n            this.total = data.count;\n            this.loading = false;\n          } else {\n            this.loading = false;\n            this.$message.error(res.msg);\n          }\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 表格搜索\n    userSearchs() {\n      this.getList();\n    },\n    // 发送\n    sendGrant(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `marketing/coupon/user/grant`,\n        method: 'post',\n        ids: {\n          id: row.id,\n          uid: this.userIds,\n        },\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.sp {\n  font-size: 12px;\n  color: #606266;\n  line-height: 32px;\n}\n</style>\n"],"mappings":";;AAoDA,SAAAA,SAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,OAAA;MACAC,UAAA;MACAC,IAAA;QACAA,IAAA;QAAA;QACAC,KAAA;QACAC,YAAA;QACAC,YAAA;MACA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,OAAA,WAAAA,QAAAC,EAAA;MAAA,IAAAC,KAAA;MACA,KAAAV,OAAA;MACAT,SAAA,MAAAW,IAAA,EACAS,IAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAAC,GAAA;UAAA,IAAAnB,IAAA;UAAA,OAAAgB,YAAA,GAAAI,CAAA,WAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,CAAA;cAAA;gBACA,IAAAH,GAAA,CAAAI,MAAA;kBACAvB,IAAA,GAAAmB,GAAA,CAAAnB,IAAA;kBACAY,KAAA,CAAAT,UAAA,GAAAH,IAAA,CAAAwB,IAAA;kBACAZ,KAAA,CAAAJ,KAAA,GAAAR,IAAA,CAAAyB,KAAA;kBACAb,KAAA,CAAAV,OAAA;gBACA;kBACAU,KAAA,CAAAV,OAAA;kBACAU,KAAA,CAAAc,QAAA,CAAAC,KAAA,CAAAR,GAAA,CAAAS,GAAA;gBACA;cAAA;gBAAA,OAAAP,QAAA,CAAAQ,CAAA;YAAA;UAAA,GAAAX,OAAA;QAAA,CACA;QAAA,iBAAAY,EAAA;UAAA,OAAAhB,IAAA,CAAAiB,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAd,GAAA;QACAP,KAAA,CAAAV,OAAA;QACAU,KAAA,CAAAc,QAAA,CAAAC,KAAA,CAAAR,GAAA,CAAAS,GAAA;MACA;IACA;IACA;IACAM,WAAA,WAAAA,YAAA;MACA,KAAAxB,OAAA;IACA;IACA;IACAyB,SAAA,WAAAA,UAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,WAAA;QACAC,KAAA,EAAAJ,GAAA;QACAC,GAAA,EAAAA,GAAA;QACAI,GAAA;QACAC,MAAA;QACAC,GAAA;UACAjC,EAAA,EAAAyB,GAAA,CAAAzB,EAAA;UACAkC,GAAA,OAAAjD;QACA;MACA;MACA,KAAAkD,UAAA,CAAAN,WAAA,EACA3B,IAAA,WAAAM,GAAA;QACAoB,MAAA,CAAAb,QAAA,CAAAqB,OAAA,CAAA5B,GAAA,CAAAS,GAAA;MACA,GACAK,KAAA,WAAAd,GAAA;QACAoB,MAAA,CAAAb,QAAA,CAAAC,KAAA,CAAAR,GAAA,CAAAS,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}