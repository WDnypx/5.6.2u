{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\system\\crontab\\createModal.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\system\\crontab\\createModal.vue","mtime":1731313973103},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICogYXMgbW9uYWNvIGZyb20gJ21vbmFjby1lZGl0b3InOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdGltZXJUYXNrIGFzIF90aW1lclRhc2ssIHRpbWVySW5mbyBhcyBfdGltZXJJbmZvLCBzYXZlVGltZXIgYXMgX3NhdmVUaW1lciwgdXBkYXRlVGltZXIgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGN1cnJlbnRUYWI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnMCcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIHR5cGVMaXN0OiBbewogICAgICAgIG5hbWU6ICfmr4/pmpRO56eSJywKICAgICAgICB2YWx1ZTogMQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+avj+malE7liIbpkp8nLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5q+P6ZqUTuWwj+aXticsCiAgICAgICAgdmFsdWU6IDMKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmr4/pmpRO5aSpJywKICAgICAgICB2YWx1ZTogNAogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+avj+WkqScsCiAgICAgICAgdmFsdWU6IDUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmr4/mmJ/mnJ8nLAogICAgICAgIHZhbHVlOiA2CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5q+P5pyIJywKICAgICAgICB2YWx1ZTogNwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+avj+W5tCcsCiAgICAgICAgdmFsdWU6IDgKICAgICAgfV0sCiAgICAgIHRhc2s6IHt9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgbWFyazogJ2N1c3RvbVRpbWVyJywKICAgICAgICAvL+mUrgogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGlzX29wZW46IDAsCiAgICAgICAgdHlwZTogMSwKICAgICAgICBtb250aDogMSwKICAgICAgICB3ZWVrOiAxLAogICAgICAgIGRheTogMSwKICAgICAgICBob3VyOiAxLAogICAgICAgIG1pbnV0ZTogMSwKICAgICAgICBzZWNvbmQ6IDEsCiAgICAgICAgY3VzdG9tQ29kZTogJycKICAgICAgfSwKICAgICAgdHJpcDogJycsCiAgICAgIHdlZWtMaXN0OiBbewogICAgICAgIGxhYmVsOiAn5ZGo5LiAJywKICAgICAgICB2YWx1ZTogMQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICflkajkuownLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+WRqOS4iScsCiAgICAgICAgdmFsdWU6IDMKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5ZGo5ZubJywKICAgICAgICB2YWx1ZTogNAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICflkajkupQnLAogICAgICAgIHZhbHVlOiA1CiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+WRqOWFrScsCiAgICAgICAgdmFsdWU6IDYKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5ZGo5pelJywKICAgICAgICB2YWx1ZTogNwogICAgICB9XSwKICAgICAgZWRpdG9yOiAnJyAvL+W9k+WJjee8lui+keWZqOWvueixoQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuVmFsLCBvVmFsKSB7CiAgICAgICAgc3dpdGNoIChuVmFsLnR5cGUpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgdGhpcy50cmlwID0gIlx1NkJDRlx1OTY5NCIuY29uY2F0KG5WYWwuc2Vjb25kLCAiXHU3OUQyXHU2MjY3XHU4ODRDXHU0RTAwXHU2QjIxIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB0aGlzLnRyaXAgPSAiXHU2QkNGXHU5Njk0Ii5jb25jYXQoblZhbC5taW51dGUsICJcdTUyMDZcdTk0OUZcdTYyNjdcdTg4NENcdTRFMDBcdTZCMjEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHRoaXMudHJpcCA9ICJcdTZCQ0ZcdTk2OTQiLmNvbmNhdChuVmFsLmhvdXIsICJcdTVDMEZcdTY1RjZcdTc2ODQiKS5jb25jYXQoblZhbC5taW51dGUsICJcdTUyMDZcdTYyNjdcdTg4NENcdTRFMDBcdTZCMjEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHRoaXMudHJpcCA9ICJcdTZCQ0ZcdTk2OTQiLmNvbmNhdChuVmFsLmRheSwgIlx1NTkyOVx1NzY4NCIpLmNvbmNhdChuVmFsLmhvdXIsICJcdTY1RjYiKS5jb25jYXQoblZhbC5taW51dGUsICJcdTUyMDZcdTYyNjdcdTg4NENcdTRFMDBcdTZCMjEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHRoaXMudHJpcCA9ICJcdTZCQ0ZcdTU5MjkiLmNvbmNhdChuVmFsLmhvdXIsICJcdTY1RjYiKS5jb25jYXQoblZhbC5taW51dGUsICJcdTUyMDYiKS5jb25jYXQoblZhbC5zZWNvbmQsICJcdTc5RDJcdTYyNjdcdTg4NENcdTRFMDBcdTZCMjEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHRoaXMudHJpcCA9ICJcdTZCQ0ZcdTRFMkFcdTY2MUZcdTY3MUYiLmNvbmNhdChuVmFsLndlZWssICJcdTc2ODQiKS5jb25jYXQoblZhbC5ob3VyLCAiXHU2NUY2IikuY29uY2F0KG5WYWwubWludXRlLCAiXHU1MjA2IikuY29uY2F0KG5WYWwuc2Vjb25kLCAiXHU3OUQyXHU2MjY3XHU4ODRDXHU0RTAwXHU2QjIxIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICB0aGlzLnRyaXAgPSAiXHU2QkNGXHU2NzA4Ii5jb25jYXQoblZhbC5kYXksICJcdTY1RTVcdTc2ODQiKS5jb25jYXQoblZhbC5ob3VyLCAiXHU2NUY2IikuY29uY2F0KG5WYWwubWludXRlLCAiXHU1MjA2IikuY29uY2F0KG5WYWwuc2Vjb25kLCAiXHU3OUQyXHU2MjY3XHU4ODRDXHU0RTAwXHU2QjIxIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICB0aGlzLnRyaXAgPSAiXHU2QkNGXHU1RTc0Ii5jb25jYXQoblZhbC5tb250aCwgIlx1NjcwOCIpLmNvbmNhdChuVmFsLmRheSwgIlx1NjVFNVx1NzY4NCIpLmNvbmNhdChuVmFsLmhvdXIsICJcdTY1RjYiKS5jb25jYXQoblZhbC5taW51dGUsICJcdTUyMDYiKS5jb25jYXQoblZhbC5zZWNvbmQsICJcdTc5RDJcdTYyNjdcdTg4NENcdTRFMDBcdTZCMjEiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRpbWVyVGFzaygpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoJ2FkbWluL2xheW91dCcsIFsnc2V0Q29weXJpZ2h0U2hvdyddKSksIHt9LCB7CiAgICBtb2RhbE9wZW46IGZ1bmN0aW9uIG1vZGFsT3BlbigpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFRhYiA9PT0gJzEnKSB7CiAgICAgICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOWIneWni+WMlue8lui+keWZqAogICAgICovCiAgICBpbml0RWRpdG9yOiBmdW5jdGlvbiBpbml0RWRpdG9yKCkgewogICAgICB2YXIgY29uZXRudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHRoYXQuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIOWIneWni+WMlue8lui+keWZqO+8jOehruS/nWRvbeW3sue7j+a4suafkwogICAgICAgICAgdGhhdC5lZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyksIHsKICAgICAgICAgICAgdmFsdWU6IGNvbmV0bnQsCiAgICAgICAgICAgIC8v57yW6L6R5Zmo5Yid5aeL5pi+56S65paH5a2XCiAgICAgICAgICAgIGxhbmd1YWdlOiAncGhwJywKICAgICAgICAgICAgLy/or63oqIDmlK/mjIHoh6rooYzmn6XpmIVkZW1vCiAgICAgICAgICAgIGF1dG9tYXRpY0xheW91dDogdHJ1ZSwKICAgICAgICAgICAgLy/oh6rliqjluIPlsYAKICAgICAgICAgICAgdGhlbWU6ICd2cy1kYXJrJywKICAgICAgICAgICAgLy/lrpjmlrnoh6rluKbkuInnp43kuLvpoph2cywgaGMtYmxhY2ssIG9yIHZzLWRhcmsKICAgICAgICAgICAgZm9sZGluZ1N0cmF0ZWd5OiAnaW5kZW50YXRpb24nLAogICAgICAgICAgICAvLyDku6PnoIHlj6/liIblsI/mrrXmipjlj6AKICAgICAgICAgICAgb3ZlcnZpZXdSdWxlckJvcmRlcjogZmFsc2UsCiAgICAgICAgICAgIC8vIOS4jeimgea7muWKqOadoeeahOi+ueahhgogICAgICAgICAgICBtaW5pbWFwOiB7CiAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2Nyb2xsYmFyOiB7CiAgICAgICAgICAgICAgdmVydGljYWw6ICdoaWRkZW4nLAogICAgICAgICAgICAgIGhvcml6b250YWw6ICdoaWRkZW4nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdvcmRXcmFwOiAnb24nLAogICAgICAgICAgICBhdXRvSW5kZW50OiB0cnVlLAogICAgICAgICAgICAvLyDoh6rliqjluIPlsYAKICAgICAgICAgICAgdGFiU2l6ZTogNCwKICAgICAgICAgICAgLy8gdGFi57yp6L+b6ZW/5bqmCiAgICAgICAgICAgIGF1dG9DbG9zaW5nT3ZlcnR5cGU6ICdhbHdheXMnLAogICAgICAgICAgICByZWFkT25seTogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIHRpbWVyVGFzazogZnVuY3Rpb24gdGltZXJUYXNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGltZXJUYXNrKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudGFzayA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoc3RhdHVzKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1hcms6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIGlzX29wZW46IDAsCiAgICAgICAgdHlwZTogMSwKICAgICAgICBtb250aDogMSwKICAgICAgICB3ZWVrOiAxLAogICAgICAgIGRheTogMSwKICAgICAgICBob3VyOiAxLAogICAgICAgIG1pbnV0ZTogMSwKICAgICAgICBzZWNvbmQ6IDEsCiAgICAgICAgY3VzdG9tQ29kZTogJycKICAgICAgfTsKICAgICAgdGhpcy5tb2RhbCA9IGZhbHNlOwogICAgfSwKICAgIHRpbWVySW5mbzogZnVuY3Rpb24gdGltZXJJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoaWQpIHsKICAgICAgICBfdGltZXJJbmZvKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi5tb2RhbCA9IHRydWU7CiAgICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlID0gcmVzLmRhdGE7CiAgICAgICAgICBfdGhpczIuaW5pdEVkaXRvcihyZXMuZGF0YS5jdXN0b21Db2RlIHx8ICcnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vZGFsID0gdHJ1ZTsKICAgICAgICB0aGlzLmluaXRFZGl0b3IoIjw/cGhwXG5cbi8v56S65L6L5Luj56CBXG5cbi8v55u05o6l5YaZ5YWl5pWw5o2u5bqTXG5cXHRoaW5rXFxmYWNhZGVcXERiOjpuYW1lKCdjYWNoZScpLT5pbnNlcnQoWydrZXknID0+ICdjdXN0b21fdGltZXJfJyAuIHJhbmQoKSwgJ3Jlc3VsdCcgPT4gcmFuZCgpLCAnZXhwaXJlX3RpbWUnID0+IDBdKTtcblxuLy/osIPnlKjns7vnu5/mlrnms5VcbmFwcCgpLT5tYWtlKFxcYXBwXFxzZXJ2aWNlc1xcb3RoZXJcXENhY2hlU2VydmljZXM6OmNsYXNzKS0+c2V0RGJDYWNoZSgnY3VzdG9tX3RpbWVyXycgLiByYW5kKCksIHJhbmQoKSk7Iik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRUYWIpOwogICAgICBpZiAodGhpcy5jdXJyZW50VGFiID09PSAnMScpIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jdXN0b21Db2RlID0gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKTsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5tYXJrID0gJ2N1c3RvbVRpbWVyJzsKICAgICAgfQogICAgICBpZiAoIXRoaXMuZm9ybVZhbGlkYXRlLm1hcmspIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5Lu75Yqh5ZCN56ewJywKICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgIC8vIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuc2F2ZVRpbWVyKHRoaXMuZm9ybVZhbGlkYXRlKTsKICAgIH0sCiAgICB0YXNrQ2hhbmdlOiBmdW5jdGlvbiB0YXNrQ2hhbmdlKHRhc2spIHsKICAgICAgLy8gdGhpcy5mb3JtVmFsaWRhdGUubWFyayA9IHRhc2sudmFsdWU7CiAgICB9LAogICAgc2F2ZVRpbWVyOiBmdW5jdGlvbiBzYXZlVGltZXIoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgX3NhdmVUaW1lcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMzLiRlbWl0KCdzdWJtaXRBc2snKTsKICAgICAgICBfdGhpczMubW9kYWwgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"names":["monaco","mapMutations","timerTask","timerInfo","saveTimer","updateTimer","props","currentTab","type","String","default","data","modal","typeList","name","value","task","loading","formValidate","mark","content","is_open","month","week","day","hour","minute","second","customCode","trip","weekList","label","editor","watch","handler","nVal","oVal","concat","immediate","deep","created","methods","_objectSpread","modalOpen","initEditor","conetnt","arguments","length","undefined","that","$nextTick","create","document","getElementById","language","automaticLayout","theme","foldingStrategy","overviewRulerBorder","minimap","enabled","scrollbar","vertical","horizontal","wordWrap","autoIndent","tabSize","autoClosingOvertype","readOnly","error","console","log","_this","then","res","initData","status","id","_this2","handleSubmit","getValue","$message","message","onClose","taskChange","_this3","success","msg","$emit","catch","err"],"sources":["src/pages/system/crontab/createModal.vue"],"sourcesContent":["<template>\n  <div>\n    <el-drawer\n      :visible.sync=\"modal\"\n      :title=\"formValidate.id ? '编辑定时任务' : '添加定时任务'\"\n      size=\"1000px\"\n      @closed=\"initData\"\n    >\n      <el-form v-if=\"modal\" class=\"pb-20\" ref=\"formValidate\" :model=\"formValidate\" label-width=\"97px\" label-colon>\n        <el-form-item label=\"任务名称：\" v-if=\"currentTab === '1'\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"24\">\n              <el-input v-model=\"formValidate.name\" type=\"text\" placeholder=\"请输入任务名称\"></el-input>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"执行周期：\" required>\n          <el-row :gutter=\"14\">\n            <el-col :span=\"4\">\n              <el-select v-model=\"formValidate.type\">\n                <el-option\n                  v-for=\"item in typeList\"\n                  :key=\"item.value\"\n                  :value=\"item.value\"\n                  :label=\"item.name\"\n                ></el-option>\n              </el-select>\n            </el-col>\n            <el-col v-if=\"formValidate.type == 6\" :span=\"4\">\n              <el-select v-model=\"formValidate.week\">\n                <el-option v-for=\"item in weekList\" :key=\"item.value\" v-bind=\"item\"></el-option>\n              </el-select>\n            </el-col>\n            <el-col v-if=\"[8].includes(formValidate.type)\" :span=\"4\">\n              <div class=\"input-number-wrapper\">\n                <el-input-number :controls=\"false\" v-model=\"formValidate.month\" :max=\"12\" :min=\"1\"></el-input-number>\n                <span class=\"suffix\">月</span>\n              </div>\n            </el-col>\n            <el-col v-if=\"[4, 7, 8].includes(formValidate.type)\" :span=\"4\">\n              <div class=\"input-number-wrapper\">\n                <el-input-number\n                  :controls=\"false\"\n                  v-model=\"formValidate.day\"\n                  :max=\"formValidate.type === 4 ? 10000 : 31\"\n                  :min=\"1\"\n                ></el-input-number>\n                <span class=\"suffix\">日</span>\n              </div>\n            </el-col>\n            <el-col v-if=\"[3, 4, 5, 6, 7, 8].includes(formValidate.type)\" :span=\"4\">\n              <div class=\"input-number-wrapper\">\n                <el-input-number\n                  controls-position=\"right\"\n                  v-model=\"formValidate.hour\"\n                  :max=\"23\"\n                  :min=\"0\"\n                ></el-input-number>\n                <span class=\"suffix\">时</span>\n              </div>\n            </el-col>\n            <el-col v-if=\"[2, 3, 4, 5, 6, 7, 8].includes(formValidate.type)\" :span=\"4\">\n              <div class=\"input-number-wrapper\">\n                <el-input-number\n                  controls-position=\"right\"\n                  v-model=\"formValidate.minute\"\n                  :max=\"formValidate.type === 2 ? 36000 : 59\"\n                  :min=\"0\"\n                ></el-input-number>\n                <span class=\"suffix\">分</span>\n              </div>\n            </el-col>\n            <el-col v-if=\"[1, 5, 6, 7].includes(formValidate.type)\" :span=\"4\">\n              <div class=\"input-number-wrapper\">\n                <el-input-number\n                  controls-position=\"right\"\n                  v-model=\"formValidate.second\"\n                  :max=\"formValidate.type === 1 ? 36000 : 59\"\n                  :min=\"0\"\n                ></el-input-number>\n                <span class=\"suffix\">秒</span>\n              </div>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"12\">\n            <div class=\"trip\">{{ trip }}</div>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"任务说明：\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"24\">\n              <el-input\n                v-model=\"formValidate.content\"\n                type=\"textarea\"\n                :autosize=\"{ minRows: 3, maxRows: 5 }\"\n                placeholder=\"请输入任务说明\"\n              ></el-input>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"执行代码：\" v-if=\"currentTab === '1'\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"24\">\n              <div ref=\"container\" id=\"container\" class=\"monaco-editor\"></div>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"开发密码：\" v-if=\"currentTab === '1'\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"24\">\n              <el-input\n                v-model=\"formValidate.password\"\n                type=\"password\"\n                placeholder=\"请输入系统开发密码，开发密码在crmeb/config/filesystem.php中修改password\"\n              ></el-input>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"是否开启：\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"12\">\n              <el-switch :active-value=\"1\" :inactive-value=\"0\" v-model=\"formValidate.is_open\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </el-switch>\n            </el-col>\n          </el-row>\n        </el-form-item>\n      </el-form>\n      <span class=\"dialog-footer\">\n        <el-button v-db-click @click=\"modal = false\">取 消</el-button>\n        <el-button type=\"primary\" v-db-click @click=\"handleSubmit\">提 交</el-button>\n      </span>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport * as monaco from 'monaco-editor';\nimport { mapMutations } from 'vuex';\nimport { timerTask, timerInfo, saveTimer, updateTimer } from '@/api/system';\nexport default {\n  props: {\n    currentTab: {\n      type: String,\n      default: '0',\n    },\n  },\n  data() {\n    return {\n      modal: false,\n      typeList: [\n        {\n          name: '每隔N秒',\n          value: 1,\n        },\n        {\n          name: '每隔N分钟',\n          value: 2,\n        },\n        {\n          name: '每隔N小时',\n          value: 3,\n        },\n        {\n          name: '每隔N天',\n          value: 4,\n        },\n        {\n          name: '每天',\n          value: 5,\n        },\n        {\n          name: '每星期',\n          value: 6,\n        },\n        {\n          name: '每月',\n          value: 7,\n        },\n        {\n          name: '每年',\n          value: 8,\n        },\n      ],\n      task: {},\n      loading: false,\n      formValidate: {\n        name: '',\n        mark: 'customTimer', //键\n        content: '',\n        is_open: 0,\n        type: 1,\n        month: 1,\n        week: 1,\n        day: 1,\n        hour: 1,\n        minute: 1,\n        second: 1,\n        customCode: '',\n      },\n      trip: '',\n      weekList: [\n        { label: '周一', value: 1 },\n        { label: '周二', value: 2 },\n        { label: '周三', value: 3 },\n        { label: '周四', value: 4 },\n        { label: '周五', value: 5 },\n        { label: '周六', value: 6 },\n        { label: '周日', value: 7 },\n      ],\n      editor: '', //当前编辑器对象\n    };\n  },\n  watch: {\n    formValidate: {\n      handler(nVal, oVal) {\n        switch (nVal.type) {\n          case 1:\n            this.trip = `每隔${nVal.second}秒执行一次`;\n            break;\n          case 2:\n            this.trip = `每隔${nVal.minute}分钟执行一次`;\n            break;\n          case 3:\n            this.trip = `每隔${nVal.hour}小时的${nVal.minute}分执行一次`;\n            break;\n          case 4:\n            this.trip = `每隔${nVal.day}天的${nVal.hour}时${nVal.minute}分执行一次`;\n            break;\n          case 5:\n            this.trip = `每天${nVal.hour}时${nVal.minute}分${nVal.second}秒执行一次`;\n            break;\n          case 6:\n            this.trip = `每个星期${nVal.week}的${nVal.hour}时${nVal.minute}分${nVal.second}秒执行一次`;\n            break;\n          case 7:\n            this.trip = `每月${nVal.day}日的${nVal.hour}时${nVal.minute}分${nVal.second}秒执行一次`;\n            break;\n          case 8:\n            this.trip = `每年${nVal.month}月${nVal.day}日的${nVal.hour}时${nVal.minute}分${nVal.second}秒执行一次`;\n            break;\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  created() {\n    this.timerTask();\n  },\n  methods: {\n    ...mapMutations('admin/layout', ['setCopyrightShow']),\n    modalOpen() {\n      if (this.currentTab === '1') {\n        this.initEditor();\n      }\n    },\n    /**\n     * 初始化编辑器\n     */\n    initEditor(conetnt = '') {\n      try {\n        let that = this;\n        that.$nextTick(() => {\n          // 初始化编辑器，确保dom已经渲染\n          that.editor = monaco.editor.create(document.getElementById('container'), {\n            value: conetnt, //编辑器初始显示文字\n            language: 'php', //语言支持自行查阅demo\n            automaticLayout: true, //自动布局\n            theme: 'vs-dark', //官方自带三种主题vs, hc-black, or vs-dark\n            foldingStrategy: 'indentation', // 代码可分小段折叠\n            overviewRulerBorder: false, // 不要滚动条的边框\n            minimap: { enabled: false },\n            scrollbar: {\n              vertical: 'hidden',\n              horizontal: 'hidden',\n            },\n            wordWrap: 'on',\n            autoIndent: true, // 自动布局\n            tabSize: 4, // tab缩进长度\n            autoClosingOvertype: 'always',\n            readOnly: false,\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    timerTask() {\n      timerTask().then((res) => {\n        this.task = res.data;\n      });\n    },\n    initData(status) {\n      this.formValidate = {\n        name: '',\n        mark: '',\n        content: '',\n        is_open: 0,\n        type: 1,\n        month: 1,\n        week: 1,\n        day: 1,\n        hour: 1,\n        minute: 1,\n        second: 1,\n        customCode: '',\n      };\n      this.modal = false;\n    },\n    timerInfo(id) {\n      if (id) {\n        timerInfo(id).then((res) => {\n          this.modal = true;\n          this.formValidate = res.data;\n          this.initEditor(res.data.customCode || '');\n        });\n      } else {\n        this.modal = true;\n        this.initEditor(\n          \"<?php\\n\\n//示例代码\\n\\n//直接写入数据库\\n\\\\think\\\\facade\\\\Db::name('cache')->insert(['key' => 'custom_timer_' . rand(), 'result' => rand(), 'expire_time' => 0]);\\n\\n//调用系统方法\\napp()->make(\\\\app\\\\services\\\\other\\\\CacheServices::class)->setDbCache('custom_timer_' . rand(), rand());\",\n        );\n      }\n    },\n    // 提交\n    handleSubmit() {\n      console.log(this.currentTab);\n      if (this.currentTab === '1') {\n        this.formValidate.customCode = this.editor.getValue();\n        this.formValidate.mark = 'customTimer';\n      }\n      if (!this.formValidate.mark) {\n        return this.$message.error({\n          message: '请选择任务名称',\n          onClose: () => {\n            // this.loading = false;\n          },\n        });\n      }\n      this.saveTimer(this.formValidate);\n    },\n    taskChange(task) {\n      // this.formValidate.mark = task.value;\n    },\n    saveTimer(data) {\n      saveTimer(data)\n        .then((res) => {\n          this.$message.success({\n            message: res.msg,\n          });\n          this.$emit('submitAsk');\n          this.modal = false;\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-card {\n  margin-bottom: 74px;\n\n  ::v-deep .ivu-card-body {\n    padding: 30px 0;\n  }\n}\n.pb-20 {\n  padding-bottom: 20px;\n}\n.btn-card {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 200px;\n  z-index: 2;\n  text-align: center;\n}\n\n.input-number-wrapper {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  vertical-align: middle;\n  line-height: normal;\n\n  .ivu-input-number {\n    width: 100%;\n    padding-right: 35px;\n  }\n\n  ::v-deep .ivu-input-number-handler-wrap {\n    right: 35px;\n  }\n\n  .suffix {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 1;\n    width: 35px;\n    height: 100%;\n    text-align: center;\n    font-size: 12px;\n    line-height: 33px;\n    color: #333333;\n  }\n}\n\n.trip {\n  padding-left: 15px;\n  color: #aaa;\n}\n::v-deep .el-input-number__increase,\n::v-deep .el-input-number__decrease {\n  display: none;\n}\n.ml30 {\n  margin-left: 30px;\n}\n.dialog-footer {\n  // 固定在底部\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  padding: 10px 20px;\n  background-color: #fff;\n  border-top: 1px solid #e8e8e8;\n  display: flex;\n  justify-content: center;\n}\n.monaco-editor {\n  border: 1px solid var(--prev-border-color-base);\n  border-radius: 4px;\n  height: 400px;\n  overflow: hidden;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}