{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\agreement\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\agreement\\index.vue","mtime":1743041155159},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFdhbmdFZGl0b3IgZnJvbSAnQC9jb21wb25lbnRzL3dhbmdFZGl0b3IvaW5kZXgudnVlJzsKaW1wb3J0IHsgZ2V0QWdyZWVtZW50cywgc2V0QWdyZWVtZW50cyB9IGZyb20gJ0AvYXBpL3N5c3RlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBXYW5nRWRpdG9yOiBXYW5nRWRpdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZ0V4aXN0OiBmYWxzZSwKICAgICAgY3VycmVudFRhYjogJzEnLAogICAgICBoZWFkZXJMaXN0OiBbewogICAgICAgIGxhYmVsOiAn5LuY6LS55Lya5ZGY5Y2P6K6uJywKICAgICAgICB2YWx1ZTogJzEnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+S7o+eQhuWVhuWNj+iuricsCiAgICAgICAgdmFsdWU6ICcyJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfpmpDnp4HljY/orq4nLAogICAgICAgIHZhbHVlOiAnMycKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn55So5oi35Y2P6K6uJywKICAgICAgICB2YWx1ZTogJzQnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+azqOmUgOWNj+iuricsCiAgICAgICAgdmFsdWU6ICc1JwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfnp6/liIbljY/orq4nLAogICAgICAgIHZhbHVlOiAnNicKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5YiG6ZSA5Y2P6K6uJywKICAgICAgICB2YWx1ZTogJzgnCiAgICAgIH1dLAogICAgICB1ZUNvbmZpZzogewogICAgICAgIGF1dG9IZWlnaHRFbmFibGVkOiBmYWxzZSwKICAgICAgICBpbml0aWFsRnJhbWVIZWlnaHQ6IDUwMCwKICAgICAgICBpbml0aWFsRnJhbWVXaWR0aDogJzEwMCUnLAogICAgICAgIFVFRElUT1JfSE9NRV9VUkw6ICcvVUVkaXRvci8nLAogICAgICAgIHNlcnZlclVybDogJycKICAgICAgfSwKICAgICAgaWQ6IDAsCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0sCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBzcGluU2hvdzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6K6+572u5piv5ZCm5pi+56S6IHRhZ3NWaWV3CiAgICBmaXhCb3R0b21XaWR0aDogZnVuY3Rpb24gZml4Qm90dG9tV2lkdGgoKSB7CiAgICAgIHZhciBfdGhpcyQkc3RvcmUkc3RhdGUkdGggPSB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZywKICAgICAgICBsYXlvdXQgPSBfdGhpcyQkc3RvcmUkc3RhdGUkdGgubGF5b3V0LAogICAgICAgIGlzQ29sbGFwc2UgPSBfdGhpcyQkc3RvcmUkc3RhdGUkdGguaXNDb2xsYXBzZTsKICAgICAgdmFyIHc7CiAgICAgIGlmIChbJ2NvbHVtbnMnXS5pbmNsdWRlcyhsYXlvdXQpKSB7CiAgICAgICAgaWYgKGlzQ29sbGFwc2UpIHsKICAgICAgICAgIHcgPSAnODVweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHcgPSAnMjY1cHgnOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChbJ2NsYXNzaWMnXS5pbmNsdWRlcyhsYXlvdXQpKSB7CiAgICAgICAgaWYgKGlzQ29sbGFwc2UpIHsKICAgICAgICAgIHcgPSAnODVweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHcgPSAnMTgwcHgnOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChbJ2RlZmF1bHRzJywgJ2NsYXNzaWMnXS5pbmNsdWRlcyhsYXlvdXQpKSB7CiAgICAgICAgaWYgKGlzQ29sbGFwc2UpIHsKICAgICAgICAgIHcgPSAnNjRweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHcgPSAnMTgwcHgnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB3ID0gJzBweCc7CiAgICAgIH0KICAgICAgcmV0dXJuIHc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jaGFuZ2VUYWIodGhpcy5jdXJyZW50VGFiKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7CiAgICAgIHNldEFncmVlbWVudHModGhpcy5mb3JtVmFsaWRhdGUpLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFZGl0b3JDb250ZW50OiBmdW5jdGlvbiBnZXRFZGl0b3JDb250ZW50KGNvbnRlbnQpIHsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0sCiAgICBjaGFuZ2VUYWI6IGZ1bmN0aW9uIGNoYW5nZVRhYigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSAnICc7CiAgICAgIGdldEFncmVlbWVudHModGhpcy5jdXJyZW50VGFiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLmlkID0gcmVzLmRhdGEuaWQgfHwgMDsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLnR5cGUgPSByZXMuZGF0YS50eXBlOwogICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUudGl0bGUgPSByZXMuZGF0YS50aXRsZTsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSByZXMuZGF0YS5jb250ZW50OwogICAgICAgIF90aGlzMi5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","WangEditor","getAgreements","setAgreements","components","data","loadingExist","currentTab","headerList","label","value","ueConfig","autoHeightEnabled","initialFrameHeight","initialFrameWidth","UEDITOR_HOME_URL","serverUrl","id","formValidate","content","spinShow","computed","fixBottomWidth","_this$$store$state$th","$store","state","themeConfig","layout","isCollapse","w","includes","created","changeTab","methods","save","_this","then","_ref","_asyncToGenerator","_regenerator","m","_callee","res","_context","n","$message","success","msg","a","_x","apply","arguments","catch","error","getEditorContent","_this2","type","title"],"sources":["src/pages/setting/agreement/index.vue"],"sourcesContent":["<template>\n  <div class=\"agreemant\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: '0 20px' }\">\n      <div>\n        <el-tabs v-model=\"currentTab\" @tab-click=\"changeTab\">\n          <el-tab-pane\n            :label=\"item.label\"\n            :name=\"item.value.toString()\"\n            v-for=\"(item, index) in headerList\"\n            :key=\"index\"\n          />\n        </el-tabs>\n      </div>\n    </el-card>\n\n    <el-row class=\"content\">\n      <el-col :span=\"16\">\n        <WangEditor style=\"width: 100%\" :content=\"formValidate.content\" @editorContent=\"getEditorContent\"></WangEditor>\n      </el-col>\n      <el-col :span=\"6\" style=\"width: 33%\">\n        <div class=\"ifam\">\n          <div class=\"content\" v-html=\"content\"></div>\n        </div>\n      </el-col>\n    </el-row>\n    <!-- <el-row class=\"mb10 content\">\n      <el-button class=\"bnt\" type=\"primary\" v-db-click @click=\"save\" :loading=\"loadingExist\"\n        >保存</el-button\n      >\n    </el-row> -->\n\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"fixed-card\" :style=\"{ left: `${fixBottomWidth}` }\">\n      <div class=\"acea-row row-center\">\n        <el-button class=\"bnt\" type=\"primary\" v-db-click @click=\"save\" :loading=\"loadingExist\">保存</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { getAgreements, setAgreements } from '@/api/system';\n\nexport default {\n  components: { WangEditor },\n  data() {\n    return {\n      loadingExist: false,\n      currentTab: '1',\n      headerList: [\n        { label: '付费会员协议', value: '1' },\n        { label: '代理商协议', value: '2' },\n        { label: '隐私协议', value: '3' },\n        { label: '用户协议', value: '4' },\n        { label: '注销协议', value: '5' },\n        { label: '积分协议', value: '6' },\n        { label: '分销协议', value: '8' },\n      ],\n      ueConfig: {\n        autoHeightEnabled: false,\n        initialFrameHeight: 500,\n        initialFrameWidth: '100%',\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      id: 0,\n      formValidate: {\n        content: '',\n      },\n      content: '',\n      spinShow: false,\n    };\n  },\n  computed: {\n    // 设置是否显示 tagsView\n    fixBottomWidth() {\n      let { layout, isCollapse } = this.$store.state.themeConfig.themeConfig;\n      let w;\n      if (['columns'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '265px';\n        }\n      } else if (['classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '180px';\n        }\n      } else if (['defaults', 'classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '64px';\n        } else {\n          w = '180px';\n        }\n      } else {\n        w = '0px';\n      }\n      return w;\n    },\n  },\n  created() {\n    this.changeTab(this.currentTab);\n  },\n  methods: {\n    save() {\n      this.formValidate.content = this.content;\n      setAgreements(this.formValidate)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    getEditorContent(content) {\n      this.content = content;\n    },\n    changeTab() {\n      this.formValidate.content = ' ';\n      getAgreements(this.currentTab).then((res) => {\n        this.formValidate.id = res.data.id || 0;\n        this.formValidate.type = res.data.type;\n        this.formValidate.title = res.data.title;\n        this.formValidate.content = res.data.content;\n        this.content = res.data.content;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n.agreemant {\n  background-color: #fff;\n}\n.content {\n  padding: 10px 16px;\n}\n.ifam {\n  width: 344px;\n  height: 644px;\n  background: url('../../../assets/images/ag-phone.png') no-repeat center top;\n  background-size: 344px 644px;\n  padding: 40px 20px;\n  padding-top: 50px;\n  margin: 0 auto 0 20px;\n  .content {\n    height: 560px;\n    overflow: hidden;\n    scrollbar-width: none; /* firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n  .content::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n}\n.new_tab {\n  ::v-deep .ivu-tabs-nav .ivu-tabs-tab {\n    padding: 4px 16px 20px !important;\n    font-weight: 500;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}