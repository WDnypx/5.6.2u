{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\statistic\\user\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\statistic\\user\\index.vue","mtime":1729039381107},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgdXNlckluZm8gZnJvbSAnLi9jb21wb25lbnRzL3VzZXJJbmZvJzsKaW1wb3J0IHdlY2hldEluZm8gZnJvbSAnLi9jb21wb25lbnRzL3dlY2hldEluZm8nOwppbXBvcnQgdXNlclJlZ2lvbiBmcm9tICcuL2NvbXBvbmVudHMvdXNlclJlZ2lvbic7CmltcG9ydCB7IHN0YXRpc3RpY1VzZXJFeGNlbCB9IGZyb20gJ0AvYXBpL3N0YXRpc3RpYyc7CmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgY29tcG9uZW50czogewogICAgdXNlckluZm86IHVzZXJJbmZvLAogICAgd2VjaGV0SW5mbzogd2VjaGV0SW5mbywKICAgIHVzZXJSZWdpb246IHVzZXJSZWdpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgY2hhbm5lbF90eXBlOiAnJywKICAgICAgICBkYXRhOiAnJwogICAgICB9LAogICAgICBjaGFubmVsX3R5cGU6ICdhbGwnLAogICAgICB0aW1lVmFsOiBbXSwKICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgcGlja2VyT3B0aW9uczogdGhpcy4kdGltZU9wdGlvbnMKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGVuZCA9IG5ldyBEYXRlKCk7CiAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgc3RhcnQuc2V0VGltZShzdGFydC5zZXRUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCBuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDI5KSkpOwogICAgdGhpcy50aW1lVmFsID0gW3N0YXJ0LCBlbmRdOwogICAgdGhpcy5mb3JtSW5saW5lLmRhdGEgPSBmb3JtYXREYXRlKHN0YXJ0LCAneXl5eS9NTS9kZCcpICsgJy0nICsgZm9ybWF0RGF0ZShlbmQsICd5eXl5L01NL2RkJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VUeHQ6IGZ1bmN0aW9uIGNoYW5nZVR4dCgpIHsKICAgICAgdGhpcy5mb3JtSW5saW5lLmNoYW5uZWxfdHlwZSA9IHRoaXMuY2hhbm5lbF90eXBlID09PSAnYWxsJyA/ICcnIDogdGhpcy5jaGFubmVsX3R5cGU7CiAgICB9LAogICAgLy8g5a+85Ye6CiAgICBleGNlbDogZnVuY3Rpb24gZXhjZWwoKSB7CiAgICAgIHN0YXRpc3RpY1VzZXJFeGNlbCh0aGlzLmZvcm1JbmxpbmUpLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcy5kYXRhLnVybC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBpdGVtOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWU6IGZ1bmN0aW9uIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMudGltZVZhbCA9IGU7CiAgICAgIHRoaXMuZm9ybUlubGluZS5kYXRhID0gdGhpcy50aW1lVmFsID8gdGhpcy50aW1lVmFsLmpvaW4oJy0nKSA6ICcnOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLiRyZWZzLnVzZXJJbmZvcy5nZXRTdGF0aXN0aWNzKCk7CiAgICAgIHRoaXMuJHJlZnMudXNlckluZm9zLmdldFRyZW5kKCk7CiAgICAgIHRoaXMuJHJlZnMudXNlclJlZ2lvbnMuZ2V0VHJlbmQoKTsKICAgICAgdGhpcy4kcmVmcy51c2VyUmVnaW9ucy5nZXRTZXgoKTsKICAgICAgaWYgKHRoaXMuZm9ybUlubGluZS5jaGFubmVsX3R5cGUgPT09ICd3ZWNoYXQnKSB7CiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMud2VjaGV0SW5mb3MuZ2V0U3RhdGlzdGljcygpOwogICAgICAgIHRoaXMuJHJlZnMud2VjaGV0SW5mb3MuZ2V0VHJlbmQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["userInfo","wechetInfo","userRegion","statisticUserExcel","formatDate","name","components","data","formInline","channel_type","timeVal","isShow","pickerOptions","$timeOptions","created","end","Date","start","setTime","getFullYear","getMonth","getDate","methods","changeTxt","excel","then","_ref","_asyncToGenerator","_regenerator","m","_callee","res","w","_context","n","url","map","item","window","location","href","a","_x","apply","arguments","onchangeTime","e","join","handleSubmit","$refs","userInfos","getStatistics","getTrend","userRegions","getSex","wechetInfos"],"sources":["src/pages/statistic/user/index.vue"],"sourcesContent":["<template>\n  <div class=\"article-manager\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mb-16\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form ref=\"formInline\" label-width=\"80px\" label-position=\"right\" :model=\"formInline\" inline>\n          <el-form-item label=\"用户渠道：\">\n            <el-select\n              clearable\n              v-model=\"channel_type\"\n              placeholder=\"请选择用户渠道\"\n              @change=\"changeTxt\"\n              class=\"form_content_width\"\n            >\n              <el-option value=\"all\" label=\"全部\"></el-option>\n              <el-option value=\"wechat\" label=\"公众号\"></el-option>\n              <el-option value=\"routine\" label=\"小程序\"></el-option>\n              <el-option value=\"h5\" label=\"H5\"></el-option>\n              <el-option value=\"pc\" label=\"PC\"></el-option>\n              <el-option value=\"app\" label=\"APP\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"选择时间:\">\n            <el-date-picker\n              clearable\n              v-model=\"timeVal\"\n              type=\"daterange\"\n              :editable=\"false\"\n              @change=\"onchangeTime\"\n              format=\"yyyy/MM/dd\"\n              value-format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              :picker-options=\"pickerOptions\"\n              style=\"width: 250px\"\n              class=\"mr20\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" v-db-click @click=\"handleSubmit('formInline')\">查询</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-button v-db-click @click=\"excel\">导出</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <user-info :formInline=\"formInline\" ref=\"userInfos\" key=\"1\"></user-info>\n    <wechet-info :formInline=\"formInline\" ref=\"wechetInfos\" v-if=\"isShow\" key=\"2\"></wechet-info>\n    <user-region :formInline=\"formInline\" ref=\"userRegions\" key=\"3\"></user-region>\n  </div>\n</template>\n\n<script>\nimport userInfo from './components/userInfo';\nimport wechetInfo from './components/wechetInfo';\nimport userRegion from './components/userRegion';\nimport { statisticUserExcel } from '@/api/statistic';\nimport { formatDate } from '@/utils/validate';\nexport default {\n  name: 'index',\n  components: {\n    userInfo,\n    wechetInfo,\n    userRegion,\n  },\n  data() {\n    return {\n      formInline: {\n        channel_type: '',\n        data: '',\n      },\n      channel_type: 'all',\n      timeVal: [],\n      isShow: false,\n      pickerOptions: this.$timeOptions,\n    };\n  },\n  created() {\n    const end = new Date();\n    const start = new Date();\n    start.setTime(start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 29)));\n    this.timeVal = [start, end];\n    this.formInline.data = formatDate(start, 'yyyy/MM/dd') + '-' + formatDate(end, 'yyyy/MM/dd');\n  },\n  methods: {\n    changeTxt() {\n      this.formInline.channel_type = this.channel_type === 'all' ? '' : this.channel_type;\n    },\n    // 导出\n    excel() {\n      statisticUserExcel(this.formInline).then(async (res) => {\n        res.data.url.map((item) => {\n          window.location.href = item;\n        });\n      });\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formInline.data = this.timeVal ? this.timeVal.join('-') : '';\n    },\n    handleSubmit() {\n      this.$refs.userInfos.getStatistics();\n      this.$refs.userInfos.getTrend();\n      this.$refs.userRegions.getTrend();\n      this.$refs.userRegions.getSex();\n      if (this.formInline.channel_type === 'wechat') {\n        this.isShow = true;\n        this.$refs.wechetInfos.getStatistics();\n        this.$refs.wechetInfos.getTrend();\n      } else {\n        this.isShow = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.ivu-form-item {\n  padding-bottom: 10px;\n  margin-bottom: 0;\n}\n</style>\n"],"mappings":";;;;;;;AAqDA,OAAAA,QAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA,SAAAC,kBAAA;AACA,SAAAC,UAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAN,QAAA,EAAAA,QAAA;IACAC,UAAA,EAAAA,UAAA;IACAC,UAAA,EAAAA;EACA;EACAK,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;QACAC,YAAA;QACAF,IAAA;MACA;MACAE,YAAA;MACAC,OAAA;MACAC,MAAA;MACAC,aAAA,OAAAC;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,IAAAC,GAAA,OAAAC,IAAA;IACA,IAAAC,KAAA,OAAAD,IAAA;IACAC,KAAA,CAAAC,OAAA,CAAAD,KAAA,CAAAC,OAAA,KAAAF,IAAA,KAAAA,IAAA,GAAAG,WAAA,QAAAH,IAAA,GAAAI,QAAA,QAAAJ,IAAA,GAAAK,OAAA;IACA,KAAAX,OAAA,IAAAO,KAAA,EAAAF,GAAA;IACA,KAAAP,UAAA,CAAAD,IAAA,GAAAH,UAAA,CAAAa,KAAA,wBAAAb,UAAA,CAAAW,GAAA;EACA;EACAO,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAf,UAAA,CAAAC,YAAA,QAAAA,YAAA,uBAAAA,YAAA;IACA;IACA;IACAe,KAAA,WAAAA,MAAA;MACArB,kBAAA,MAAAK,UAAA,EAAAiB,IAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAAC,GAAA;UAAA,OAAAH,YAAA,GAAAI,CAAA,WAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,CAAA;cAAA;gBACAH,GAAA,CAAAxB,IAAA,CAAA4B,GAAA,CAAAC,GAAA,WAAAC,IAAA;kBACAC,MAAA,CAAAC,QAAA,CAAAC,IAAA,GAAAH,IAAA;gBACA;cAAA;gBAAA,OAAAJ,QAAA,CAAAQ,CAAA;YAAA;UAAA,GAAAX,OAAA;QAAA,CACA;QAAA,iBAAAY,EAAA;UAAA,OAAAhB,IAAA,CAAAiB,KAAA,OAAAC,SAAA;QAAA;MAAA;IACA;IACA;IACAC,YAAA,WAAAA,aAAAC,CAAA;MACA,KAAApC,OAAA,GAAAoC,CAAA;MACA,KAAAtC,UAAA,CAAAD,IAAA,QAAAG,OAAA,QAAAA,OAAA,CAAAqC,IAAA;IACA;IACAC,YAAA,WAAAA,aAAA;MACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,aAAA;MACA,KAAAF,KAAA,CAAAC,SAAA,CAAAE,QAAA;MACA,KAAAH,KAAA,CAAAI,WAAA,CAAAD,QAAA;MACA,KAAAH,KAAA,CAAAI,WAAA,CAAAC,MAAA;MACA,SAAA9C,UAAA,CAAAC,YAAA;QACA,KAAAE,MAAA;QACA,KAAAsC,KAAA,CAAAM,WAAA,CAAAJ,aAAA;QACA,KAAAF,KAAA,CAAAM,WAAA,CAAAH,QAAA;MACA;QACA,KAAAzC,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}