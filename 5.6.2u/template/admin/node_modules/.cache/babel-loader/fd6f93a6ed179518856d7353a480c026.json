{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devisePage\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devisePage\\index.vue","mtime":1731313973093},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCB7IGRpeUdldEluZm8sIGRpeVNhdmUgfSBmcm9tICdAL2FwaS9kaXknOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHJpZ2h0Q29uZmlnIGZyb20gJ0AvY29tcG9uZW50cy9yaWdodENvbmZpZy9pbmRleCc7CmltcG9ydCBsaW5rcyBmcm9tICcuL2xpbmtzJzsKaW1wb3J0IHsgZ2V0Q29va2llcywgc2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgY29tcG9uZW50czogewogICAgcmlnaHRDb25maWc6IHJpZ2h0Q29uZmlnLAogICAgbGlua3M6IGxpbmtzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29uZmlnTmFtZToge30sCiAgICAgIGNvbmZpZ051bTogJ2RlZmF1bHQnLAogICAgICBpZnJhbWVVcmw6ICcnLAogICAgICBzZXRDb25maWc6ICcnLAogICAgICB1cGRhdGFDb25maWc6ICcnLAogICAgICBwYWdlSWQ6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICB2YXIgcGFnZUlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB2YXIgZGVmYXVsdERhdGEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5tb3Jlbi5kZWZhdWx0Q29uZmlnOwogICAgdGhpcy5wYWdlSWQgPSBwYXJzZUludChwYWdlSWQpOwogICAgdmFyIG1vdmVMaW5rID0gZ2V0Q29va2llcygnbW92ZUxpbmsnKTsKICAgIGlmIChOdW1iZXIodGhpcy4kcm91dGUucXVlcnkudHlwZSkgPT09IDEpIHsKICAgICAgdGhpcy5pZnJhbWVVcmwgPSAiIi5jb25jYXQobW92ZUxpbmssICIvcGFnZXMvaW5kZXgvaW5kZXg/bWRUeXBlPWlmcmFtZVdpbmRvdyIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pZnJhbWVVcmwgPSAiIi5jb25jYXQobG9jYXRpb24ub3JpZ2luLCAiL3BhZ2VzL2luZGV4L2luZGV4P21kVHlwZT1pZnJhbWVXaW5kb3ciKTsKICAgIH0KICAgIGRpeUdldEluZm8ocGFyc2VJbnQocGFnZUlkKSkudGhlbihmdW5jdGlvbiAoZGF0YXMpIHsKICAgICAgdmFyIGRhdGEgPSBkYXRhcy5kYXRhLmluZm8udmFsdWU7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgX3RoaXMudXBEYXRhKGRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIGRpeVNhdmUocGFyc2VJbnQocGFnZUlkKSwgewogICAgICAgICAgdmFsdWU6IGRlZmF1bHREYXRhCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7fSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v55uR5ZCs5a2Q6aG16Z2i57uZ5b2T5YmN6aG16Z2i5Lyg5YC8CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuaGFuZGxlTWVzc2FnZSwgZmFsc2UpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/mjqXmlLZpZnJhbWXlgLwKICAgIGhhbmRsZU1lc3NhZ2U6IGZ1bmN0aW9uIGhhbmRsZU1lc3NhZ2UoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmRhdGEubmFtZSkgewogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICBuYW1lOiBldmVudC5kYXRhLm5hbWUsCiAgICAgICAgICBudW06IGV2ZW50LmRhdGEuZGF0YU5hbWUKICAgICAgICB9OwogICAgICAgIHRoaXMuY29uZmlnTmFtZSA9IG9iajsKICAgICAgICB0aGlzLmNvbmZpZ051bSA9IGV2ZW50LmRhdGEuZGF0YU5hbWU7CiAgICAgICAgdGhpcy5hZGQoZXZlbnQuZGF0YS5uYW1lKTsKICAgICAgfQogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGRhdGEpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb3Jlbi9zZXRDb25maWcnLCBkYXRhKTsKICAgIH0sCiAgICB1cERhdGE6IGZ1bmN0aW9uIHVwRGF0YShkYXRhKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9yZW4vdXBkYXRhQ29uZmlnJywgZGF0YSk7CiAgICB9IC8vIC4uLm1hcE11dGF0aW9ucyh7CiAgICAvLyAgICAgYWRkOiAnZGl5L3NldENvbmZpZycsCiAgICAvLyAgICAgdXBEYXRhOidkaXkvdXBkYXRhQ29uZmlnJwogICAgLy8gfSkKICB9Cn07"},{"version":3,"names":["diyGetInfo","diySave","mapMutations","rightConfig","links","getCookies","setCookies","name","components","data","configName","configNum","iframeUrl","setConfig","updataConfig","pageId","created","_this","show","$route","query","id","defaultData","$store","state","moren","defaultConfig","parseInt","moveLink","Number","type","concat","location","origin","then","datas","info","value","upData","res","mounted","window","addEventListener","handleMessage","methods","event","obj","num","dataName","add","commit"],"sources":["src/pages/setting/devisePage/index.vue"],"sourcesContent":["<template>\n  <div>\n    <pages-header ref=\"pageHeader\" title=\"页面设计\" :backUrl=\"$routeProStr + '/setting/pages/devise/0'\"></pages-header>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt15\">\n      <div class=\"flex-wrapper\">\n        <!-- :src=\"iframeUrl\" -->\n        <iframe class=\"iframe-box\" :src=\"iframeUrl\" frameborder=\"0\" ref=\"iframe\"></iframe>\n        <div>\n          <div class=\"content\">\n            <rightConfig :name=\"configName\" :pageId=\"pageId\" :configNum=\"configNum\"></rightConfig>\n          </div>\n        </div>\n        <!-- <links v-if=\"show\"></links> -->\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { diyGetInfo, diySave } from '@/api/diy';\nimport { mapMutations } from 'vuex';\nimport rightConfig from '@/components/rightConfig/index';\nimport links from './links';\nimport { getCookies, setCookies } from '@/libs/util';\nexport default {\n  name: 'index',\n  components: {\n    rightConfig,\n    links,\n  },\n  data() {\n    return {\n      configName: {},\n      configNum: 'default',\n      iframeUrl: '',\n      setConfig: '',\n      updataConfig: '',\n      pageId: 0,\n    };\n  },\n  created() {\n    this.show = true;\n    let pageId = this.$route.query.id;\n    let defaultData = this.$store.state.moren.defaultConfig;\n    this.pageId = parseInt(pageId);\n    let moveLink = getCookies('moveLink');\n    if (Number(this.$route.query.type) === 1) {\n      this.iframeUrl = `${moveLink}/pages/index/index?mdType=iframeWindow`;\n    } else {\n      this.iframeUrl = `${location.origin}/pages/index/index?mdType=iframeWindow`;\n    }\n    diyGetInfo(parseInt(pageId)).then((datas) => {\n      let data = datas.data.info.value;\n      if (data) {\n        this.upData(data);\n      } else {\n        diySave(parseInt(pageId), {\n          value: defaultData,\n        }).then((res) => {});\n      }\n    });\n  },\n  mounted() {\n    //监听子页面给当前页面传值\n    window.addEventListener('message', this.handleMessage, false);\n  },\n  methods: {\n    //接收iframe值\n    handleMessage(event) {\n      if (event.data.name) {\n        let obj = { name: event.data.name, num: event.data.dataName };\n        this.configName = obj;\n        this.configNum = event.data.dataName;\n        this.add(event.data.name);\n      }\n    },\n    add(data) {\n      this.$store.commit('moren/setConfig', data);\n    },\n    upData(data) {\n      this.$store.commit('moren/updataConfig', data);\n    },\n    // ...mapMutations({\n    //     add: 'diy/setConfig',\n    //     upData:'diy/updataConfig'\n    // })\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n}\n.flex-wrapper {\n  display: flex;\n}\n.iframe-box {\n  min-width: 375px;\n  height: 700px;\n  /* border: 1px solid #ddd; */\n  border-radius: 4px;\n  box-shadow: 0 0 7px #cccccc;\n}\n.right-box {\n  width: 500px;\n  margin-left: 50px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  .title-bar {\n    width: 100%;\n    height: 38px;\n    line-height: 38px;\n    padding-left: 24px;\n    color: #333;\n    border-radius: 4px;\n    border-bottom: 1px solid #eee;\n  }\n}\n</style>\n"],"mappings":";;AAmBA,SAAAA,UAAA,EAAAC,OAAA;AACA,SAAAC,YAAA;AACA,OAAAC,WAAA;AACA,OAAAC,KAAA;AACA,SAAAC,UAAA,EAAAC,UAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAL,WAAA,EAAAA,WAAA;IACAC,KAAA,EAAAA;EACA;EACAK,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,SAAA;MACAC,SAAA;MACAC,SAAA;MACAC,YAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,KAAAC,IAAA;IACA,IAAAH,MAAA,QAAAI,MAAA,CAAAC,KAAA,CAAAC,EAAA;IACA,IAAAC,WAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,KAAA,CAAAC,aAAA;IACA,KAAAX,MAAA,GAAAY,QAAA,CAAAZ,MAAA;IACA,IAAAa,QAAA,GAAAvB,UAAA;IACA,IAAAwB,MAAA,MAAAV,MAAA,CAAAC,KAAA,CAAAU,IAAA;MACA,KAAAlB,SAAA,MAAAmB,MAAA,CAAAH,QAAA;IACA;MACA,KAAAhB,SAAA,MAAAmB,MAAA,CAAAC,QAAA,CAAAC,MAAA;IACA;IACAjC,UAAA,CAAA2B,QAAA,CAAAZ,MAAA,GAAAmB,IAAA,WAAAC,KAAA;MACA,IAAA1B,IAAA,GAAA0B,KAAA,CAAA1B,IAAA,CAAA2B,IAAA,CAAAC,KAAA;MACA,IAAA5B,IAAA;QACAQ,KAAA,CAAAqB,MAAA,CAAA7B,IAAA;MACA;QACAR,OAAA,CAAA0B,QAAA,CAAAZ,MAAA;UACAsB,KAAA,EAAAf;QACA,GAAAY,IAAA,WAAAK,GAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,aAAA;EACA;EACAC,OAAA;IACA;IACAD,aAAA,WAAAA,cAAAE,KAAA;MACA,IAAAA,KAAA,CAAApC,IAAA,CAAAF,IAAA;QACA,IAAAuC,GAAA;UAAAvC,IAAA,EAAAsC,KAAA,CAAApC,IAAA,CAAAF,IAAA;UAAAwC,GAAA,EAAAF,KAAA,CAAApC,IAAA,CAAAuC;QAAA;QACA,KAAAtC,UAAA,GAAAoC,GAAA;QACA,KAAAnC,SAAA,GAAAkC,KAAA,CAAApC,IAAA,CAAAuC,QAAA;QACA,KAAAC,GAAA,CAAAJ,KAAA,CAAApC,IAAA,CAAAF,IAAA;MACA;IACA;IACA0C,GAAA,WAAAA,IAAAxC,IAAA;MACA,KAAAc,MAAA,CAAA2B,MAAA,oBAAAzC,IAAA;IACA;IACA6B,MAAA,WAAAA,OAAA7B,IAAA;MACA,KAAAc,MAAA,CAAA2B,MAAA,uBAAAzC,IAAA;IACA,EACA;IACA;IACA;IACA;EACA;AACA","ignoreList":[]}]}