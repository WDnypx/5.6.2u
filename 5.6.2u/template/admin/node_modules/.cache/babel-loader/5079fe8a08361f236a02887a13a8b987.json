{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\index.vue","mtime":1753262701718},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHsgQWNjb3VudExvZ2luLCBsb2dpbkluZm9BcGksIGdldFNhbkNvZGVLZXkgYXMgX2dldFNhbkNvZGVLZXksIHNjYW5TdGF0dXMsIGtlZnVDb25maWcgfSBmcm9tICdAL2FwaS9rZWZ1JzsKaW1wb3J0IG1peGlucyBmcm9tICcuLi9hY2NvdW50L21peGlucyc7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB1dGlsIGZyb20gJ0AvbGlicy91dGlsJzsKaW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGVqczInOwppbXBvcnQgeyBnZXRDb29raWVzLCByZW1vdmVDb29raWVzLCBzZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbbWl4aW5zXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZnVsbFdpZHRoOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsCiAgICAgIHN3aXBlck9wdGlvbjogewogICAgICAgIHBhZ2luYXRpb246ICcuc3dpcGVyLXBhZ2luYXRpb24nLAogICAgICAgIGF1dG9wbGF5OiB0cnVlCiAgICAgIH0sCiAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgIGF1dG9Mb2dpbjogdHJ1ZSwKICAgICAgaW1nY29kZTogJycsCiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNvZGU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVJbmxpbmU6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6aqM6K+B56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGVycm9yTnVtOiAwLAogICAgICBqaWdzYXc6IG51bGwsCiAgICAgIGxvZ2luX2xvZ286ICcnLAogICAgICBzd2lwZXJMaXN0OiBbXSwKICAgICAgZGVmYXVsdFN3aXBlckxpc3Q6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9zdy5qcGcnKSwKICAgICAgbG9naW5UeXBlOiAwLAogICAgICAvLyAwIOi0puWPtyAxIOaJq+eggQogICAgICBjb2RlS2V5OiAnJywKICAgICAgc2NhblRpbWU6ICcnLAogICAgICByeHBpcmVkOiBmYWxzZSwKICAgICAgLy8g5omr56CB5piv5ZCm6L+H5pyfCiAgICAgIGlzTW9iaWxlOiBmYWxzZSwKICAgICAgdmVyc2lvbjogJ3Y1LjYuMicsCiAgICAgIC8v54mI5pys5Y+3CiAgICAgIGlzU2NhbjogZmFsc2UsCiAgICAgIHRpbWVOdW06IDAsCiAgICAgIGNvcHlyaWdodDogJycsCiAgICAgIGNvcHlyaWdodEltZzogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2xvZ28tZGFyay5wbmcnKQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIGtlZnVDb25maWcoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMyLnZlcnNpb24gPSByZXMuZGF0YS52ZXJzaW9uOwogICAgICBfdGhpczIuY29weXJpZ2h0ID0gcmVzLmRhdGEuY29weXJpZ2h0OwogICAgICBpZiAocmVzLmRhdGEuc2l0ZV9uYW1lKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSByZXMuZGF0YS5zaXRlX25hbWU7CiAgICAgIH0KICAgICAgaWYgKHJlcy5kYXRhLmNvcHlyaWdodEltZykgewogICAgICAgIF90aGlzMi5jb3B5cmlnaHRJbWcgPSByZXMuZGF0YS5jb3B5cmlnaHRJbWc7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5pc01vYmlsZSA9IHRoaXMuJHN0b3JlLnN0YXRlLm1lZGlhLmlzTW9iaWxlOwogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRvcCAhPSB3aW5kb3cgJiYgKHRvcC5sb2NhdGlvbi5ocmVmID0gbG9jYXRpb24uaHJlZik7CiAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoX3RoaXMuJHJvdXRlLm5hbWUgPT09ICdsb2dpbicpIHsKICAgICAgICB2YXIga2V5ID0gd2luZG93LmV2ZW50LmtleUNvZGU7CiAgICAgICAgaWYgKGtleSA9PT0gMTMpIHsKICAgICAgICAgIF90aGlzLmhhbmRsZVN1Ym1pdCgnZm9ybUlubGluZScpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CiAgfSwKICB3YXRjaDogewogICAgZnVsbFdpZHRoOiBmdW5jdGlvbiBmdWxsV2lkdGgodmFsKSB7CiAgICAgIC8vIOS4uuS6humBv+WFjemikee5geinpuWPkXJlc2l6ZeWHveaVsOWvvOiHtOmhtemdouWNoemhv++8jOS9v+eUqOWumuaXtuWZqAogICAgICBpZiAoIXRoaXMudGltZXIpIHsKICAgICAgICAvLyDkuIDml6bnm5HlkKzliLDnmoRzY3JlZW5XaWR0aOWAvOaUueWPmO+8jOWwseWwhuWFtumHjeaWsOi1i+e7mWRhdGHph4znmoRzY3JlZW5XaWR0aAogICAgICAgIHRoaXMuc2NyZWVuV2lkdGggPSB2YWw7CiAgICAgICAgdGhpcy50aW1lciA9IHRydWU7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g5omT5Y2wc2NyZWVuV2lkdGjlj5jljJbnmoTlgLwKICAgICAgICAgIHRoYXQudGltZXIgPSBmYWxzZTsKICAgICAgICB9LCA0MDApOwogICAgICB9CiAgICB9LAogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUobikgewogICAgICB0aGlzLmNhcHRjaGFzKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge30pOwogICAgdGhpcy5jYXB0Y2hhcygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5YiH5o2i5omr56CBCiAgICBiaW5kU2NhbjogZnVuY3Rpb24gYmluZFNjYW4oKSB7CiAgICAgIGlmICghdGhpcy5pc1NjYW4pIHsKICAgICAgICB0aGlzLmlzU2NhbiA9IHRydWU7CiAgICAgICAgdGhpcy5nZXRTYW5Db2RlS2V5KCk7CiAgICAgIH0KICAgICAgdGhpcy5sb2dpblR5cGUgPSAxOwogICAgfSwKICAgIC8vIOeUn+aIkOS6jOe7tOeggQogICAgY3JlYXRRckNvZGU6IGZ1bmN0aW9uIGNyZWF0UXJDb2RlKCkgewogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCwgIi8vIikuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5ob3N0LCAiL3BhZ2VzL3VzZXJzL3NjYW5fbG9naW4vaW5kZXg/a2V5PSIpLmNvbmNhdCh0aGlzLmNvZGVLZXkpOwogICAgICB2YXIgcXJjb2RlID0gbmV3IFFSQ29kZSh0aGlzLiRyZWZzLnFyQ29kZVVybCwgewogICAgICAgIHRleHQ6IHVybCwKICAgICAgICAvLyDpnIDopoHovazmjaLkuLrkuoznu7TnoIHnmoTlhoXlrrkKICAgICAgICB3aWR0aDogMTYwLAogICAgICAgIGhlaWdodDogMTYwLAogICAgICAgIGNvbG9yRGFyazogJyMwMDAwMDAnLAogICAgICAgIGNvbG9yTGlnaHQ6ICcjZmZmZmZmJywKICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuSAogICAgICB9KTsKICAgIH0sCiAgICAvLyDlhbPpl63mqKHmgIHmoYYKICAgIGNsb3NlTW9kZWw6IGZ1bmN0aW9uIGNsb3NlTW9kZWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBBY2NvdW50TG9naW4oewogICAgICAgIGFjY291bnQ6IHRoaXMuZm9ybUlubGluZS51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtSW5saW5lLnBhc3N3b3JkLAogICAgICAgIGltZ2NvZGU6IHRoaXMuZm9ybUlubGluZS5jb2RlCiAgICAgIH0pLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgZXhwaXJlczsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZXhwaXJlcyA9IF90aGlzMy5nZXRFeHBpcmVzVGltZShyZXMuZGF0YS5leHBfdGltZSk7IC8vIOiusOW9leeUqOaIt+eZu+W9leS/oeaBrwogICAgICAgICAgICAgICAgc2V0Q29va2llcygna2VmdV91dWlkJywgcmVzLmRhdGEua2VmdUluZm8udWlkLCBleHBpcmVzKTsKICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ2tlZnVfdG9rZW4nLCByZXMuZGF0YS50b2tlbiwgZXhwaXJlcyk7CiAgICAgICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1X2V4cGlyZXNfdGltZScsIHJlcy5kYXRhLmV4cF90aW1lLCBleHBpcmVzKTsKICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ2tlZnVJbmZvJywgcmVzLmRhdGEua2VmdUluZm8sIGV4cGlyZXMpOwoKICAgICAgICAgICAgICAgIC8vIOiusOW9leeUqOaIt+S/oeaBrwogICAgICAgICAgICAgICAgX3RoaXMzLiRzdG9yZS5jb21taXQoJ2tlZnUvc2V0SW5mbycsIHJlcy5kYXRhLmtlZnVJbmZvKTsKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLiRzdG9yZS5zdGF0ZS5tZWRpYS5pc01vYmlsZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uID0gMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBfdGhpczMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgcGF0aDogX3RoaXMzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCB8fCAnL2tlZnUvbW9iaWxlX2xpc3QnCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMiwgX3RoaXMzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgIHBhdGg6IF90aGlzMy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJy9rZWZ1L3BjX2xpc3QnCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzID09PSB1bmRlZmluZWQgPyB7fSA6IHJlczsKICAgICAgICBfdGhpczMuZXJyb3JOdW0rKzsKICAgICAgICBfdGhpczMuY2FwdGNoYXMoKTsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cgfHwgJ+eZu+W9leWksei0pScpOwogICAgICAgIGlmIChfdGhpczMuamlnc2F3KSBfdGhpczMuamlnc2F3LnJlc2V0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEV4cGlyZXNUaW1lOiBmdW5jdGlvbiBnZXRFeHBpcmVzVGltZShleHBpcmVzVGltZSkgewogICAgICB2YXIgbm93VGltZU51bSA9IE1hdGgucm91bmQobmV3IERhdGUoKSAvIDEwMDApOwogICAgICB2YXIgZXhwaXJlc1RpbWVOdW0gPSBleHBpcmVzVGltZSAtIG5vd1RpbWVOdW07CiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQocGFyc2VGbG9hdChleHBpcmVzVGltZU51bSAvIDYwKSAvIDYwKSAvIDI0KTsKICAgIH0sCiAgICBjbG9zZWZhaWw6IGZ1bmN0aW9uIGNsb3NlZmFpbCgpIHsKICAgICAgaWYgKHRoaXMuamlnc2F3KSB0aGlzLmppZ3Nhdy5yZXNldCgpOwogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmoKHpqozplJnor68nKTsKICAgIH0sCiAgICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShldmVudCkgewogICAgICB0aGlzLmZ1bGxXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgIH0sCiAgICBjYXB0Y2hhczogZnVuY3Rpb24gY2FwdGNoYXMoKSB7CiAgICAgIHRoaXMuaW1nY29kZSA9IFNldHRpbmcuYXBpQmFzZVVSTCArICcvY2FwdGNoYV9wcm8/JyArIERhdGUucGFyc2UobmV3IERhdGUoKSk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQobmFtZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNC5jbG9zZU1vZGVsKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5blrqLmnI3miavnoIFrZXkKICAgIGdldFNhbkNvZGVLZXk6IGZ1bmN0aW9uIGdldFNhbkNvZGVLZXkoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBfZ2V0U2FuQ29kZUtleSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS5jb2RlS2V5ID0gcmVzLmRhdGEua2V5OwogICAgICAgIF90aGlzNS5jcmVhdFFyQ29kZSgpOwogICAgICAgIF90aGlzNS5zY2FuVGltZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS50aW1lTnVtKys7CiAgICAgICAgICBpZiAoX3RoaXM1LnRpbWVOdW0gPj0gNjApIHsKICAgICAgICAgICAgX3RoaXM1LnRpbWVOdW0gPSAwOwogICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChfdGhpczUuc2NhblRpbWUpOwogICAgICAgICAgICBfdGhpczUucnhwaXJlZCA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUuZ2V0U2NhblN0YXR1cygpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczUudGltZU51bSA9IDA7CiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoX3RoaXM1LnNjYW5UaW1lKTsKICAgICAgICBfdGhpczUucnhwaXJlZCA9IHRydWU7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJq+eggeeZu+W9leaDheWGtQogICAgZ2V0U2NhblN0YXR1czogZnVuY3Rpb24gZ2V0U2NhblN0YXR1cygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHNjYW5TdGF0dXModGhpcy5jb2RlS2V5KS50aGVuKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZXhwaXJlczsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyAwID0g5LqM57u056CB6L+H5pyf6ZyA6KaB6YeN5paw6I635Y+W5o6I5p2D5Yet6K+BCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnRpbWVOdW0gPSAwOwogICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChfdGhpczYuc2NhblRpbWUpOwogICAgICAgICAgICAgICAgICBfdGhpczYucnhwaXJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAxPeato+WcqOaJq+aPjwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAxKSB7fQogICAgICAgICAgICAgICAgLy8gMyDmiavmj4/miJDlip/mraPlnKjnmbvlvZUKICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLnN0YXR1cyA9PSAzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoX3RoaXM2LnNjYW5UaW1lKTsKICAgICAgICAgICAgICAgIGV4cGlyZXMgPSBfdGhpczYuZ2V0RXhwaXJlc1RpbWUocmVzLmRhdGEuZXhwX3RpbWUpOyAvLyDorrDlvZXnlKjmiLfnmbvlvZXkv6Hmga8KICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ2tlZnVfdXVpZCcsIHJlcy5kYXRhLmtlZnVJbmZvLnVpZCwgZXhwaXJlcyk7CiAgICAgICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1X3Rva2VuJywgcmVzLmRhdGEudG9rZW4sIGV4cGlyZXMpOwogICAgICAgICAgICAgICAgc2V0Q29va2llcygna2VmdV9leHBpcmVzX3RpbWUnLCByZXMuZGF0YS5leHBfdGltZSwgZXhwaXJlcyk7CiAgICAgICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1SW5mbycsIHJlcy5kYXRhLmtlZnVJbmZvLCBleHBpcmVzKTsKICAgICAgICAgICAgICAgIC8vIOiusOW9leeUqOaIt+S/oeaBrwogICAgICAgICAgICAgICAgX3RoaXM2LiRzdG9yZS5jb21taXQoJ2tlZnUvc2V0SW5mbycsIHJlcy5kYXRhLmtlZnVJbmZvKTsKICAgICAgICAgICAgICAgIGlmICghX3RoaXM2LiRzdG9yZS5zdGF0ZS5tZWRpYS5pc01vYmlsZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hKDIsIF90aGlzNi4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgICBwYXRoOiBfdGhpczYuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0IHx8ICcva2VmdS9tb2JpbGVfbGlzdCcKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMiwgX3RoaXM2LiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgIHBhdGg6IF90aGlzNi4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJy9rZWZ1L3BjX2xpc3QnCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hKDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzNi4kbWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogICAgICAgIF90aGlzNi50aW1lTnVtID0gMDsKICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChfdGhpczYuc2NhblRpbWUpOwogICAgICAgIF90aGlzNi5yeHBpcmVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yi35paw5LqM57u056CBCiAgICBiaW5kUmVmcmVzaDogZnVuY3Rpb24gYmluZFJlZnJlc2goKSB7CiAgICAgIHRoaXMuJHJlZnMucXJDb2RlVXJsLmlubmVySFRNTCA9ICcnOwogICAgICB0aGlzLnJ4cGlyZWQgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRTYW5Db2RlS2V5KCk7CiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHt9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnRpbWVOdW0gPSAwOwogICAgdGhpcy4kcmVmcy5xckNvZGVVcmwuaW5uZXJIVE1MID0gJyc7CiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnNjYW5UaW1lKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CiAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycsICdpbmRleF9iZycpOwogIH0KfTs="},null]}