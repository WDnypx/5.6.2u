{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\diyComponents\\c_goods.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\diyComponents\\c_goods.vue","mtime":1750064202514},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgdnVlZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZSc7CmltcG9ydCBnb29kc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGlzdCc7CmltcG9ydCBzb3J0TGlzdCBmcm9tICdAL2NvbXBvbmVudHMvc29ydExpc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NfZ29vZHMnLAogIHByb3BzOiB7CiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGNvbmZpZ0RhdGE6IHsKICAgICAgdHlwZTogbnVsbAogICAgfSwKICAgIGNvbmZpZ051bTogewogICAgICB0eXBlOiBOdW1iZXIgfCBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdkZWZhdWx0JwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgZ29vZHNMaXN0OiBnb29kc0xpc3QsCiAgICBzb3J0TGlzdDogc29ydExpc3QsCiAgICBkcmFnZ2FibGU6IHZ1ZWRyYWdnYWJsZQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbmZpZ0RhdGE6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuVmFsLCBvVmFsKSB7CiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IG5WYWxbdGhpcy5jb25maWdOdW1dOwogICAgICAgIHZhciBnb29kVHlwZSA9IG5WYWxbdGhpcy5jb25maWdOdW1dLnRpdGxlSW5mbyA/IG5WYWxbdGhpcy5jb25maWdOdW1dLnRpdGxlSW5mby50eXBlIDogMDsKICAgICAgICB0aGlzLnR5cGUgPSBuVmFsW3RoaXMuY29uZmlnTnVtXS5zZWxlY3RDb25maWcudHlwZSA/IG5WYWxbdGhpcy5jb25maWdOdW1dLnNlbGVjdENvbmZpZy50eXBlIDogZ29vZFR5cGUgPyBnb29kVHlwZSA6IDA7CiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgdGhpcy50aXRsZXMgPSAn5ZWG5ZOB5YiX6KGoJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHRoaXMudGl0bGVzID0gJ+WIhuexu+WIl+ihqCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICB0aGlzLnRpdGxlcyA9ICfnoI3ku7fliJfooagnOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgdGhpcy50aXRsZXMgPSAn56eS5p2A5YiX6KGoJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHRoaXMudGl0bGVzID0gJ+aLvOWbouWIl+ihqCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgIGdvb2RzTGlzdDogW10sCiAgICAgIHRlbXBHb29kczogW10sCiAgICAgIGRlZmF1bHRzOiB7fSwKICAgICAgdHlwZTogJycsCiAgICAgIGlzX25ldzogJycsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHRpdGxlczogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kZWZhdWx0cyA9IHRoaXMuY29uZmlnRGF0YVt0aGlzLmNvbmZpZ051bV07CiAgICB0aGlzLmlzX25ldyA9IHRoaXMuY29uZmlnRGF0YVt0aGlzLmNvbmZpZ051bV0uaXNfbmV3OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdERpeTogZnVuY3Rpb24gZ2V0UHJvZHVjdERpeShkYXRhKSB7CiAgICAgIHRoaXMudGVtcEdvb2RzID0gZGF0YTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMudGVtcEdvb2RzID0gW107CiAgICB9LAogICAgLy/lr7nosaHmlbDnu4Tljrvph43vvJsKICAgIHVuaXF1ZTogZnVuY3Rpb24gdW5pcXVlKGFycikgewogICAgICB2YXIgcmVzID0gbmV3IE1hcCgpOwogICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgcmV0dXJuICFyZXMuaGFzKGFyci5pZCkgJiYgcmVzLnNldChhcnIuaWQsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICBvazogZnVuY3Rpb24gb2soKSB7CiAgICAgIGlmICghdGhpcy50ZW1wR29vZHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI6YCJ5oup5ZWG5ZOBJyk7CiAgICAgIH0KICAgICAgdmFyIGxpc3QgPSB0aGlzLmRlZmF1bHRzLmdvb2RzTGlzdC5saXN0OwogICAgICBsaXN0LnB1c2guYXBwbHkobGlzdCwgdGhpcy50ZW1wR29vZHMpOwogICAgICAvLyBsaXN0LnB1c2godGhpcy50ZW1wR29vZHMpOwogICAgICB2YXIgcGljTGlzdCA9IHRoaXMudW5pcXVlKGxpc3QpOwogICAgICB0aGlzLmRlZmF1bHRzLmdvb2RzTGlzdC5saXN0ID0gcGljTGlzdDsKICAgICAgLy8gdGhpcy5kZWZhdWx0cy5nb29kc0xpc3QubGlzdC5wdXNoKHRoaXMudGVtcEdvb2RzKTsKICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgIH0sCiAgICBiaW5kRGVsZXRlOiBmdW5jdGlvbiBiaW5kRGVsZXRlKGluZGV4KSB7CiAgICAgIHRoaXMuZGVmYXVsdHMuZ29vZHNMaXN0Lmxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["vuedraggable","goodsList","sortList","name","props","type","String","configData","configNum","Number","default","components","draggable","watch","handler","nVal","oVal","defaults","goodType","titleInfo","selectConfig","titles","immediate","deep","data","modals","tempGoods","is_new","loading","created","methods","getProductDiy","cancel","unique","arr","res","Map","filter","has","id","set","ok","length","$message","warning","list","push","apply","picList","bindDelete","index","splice"],"sources":["src/components/diyComponents/c_goods.vue"],"sourcesContent":["<template>\n  <div class=\"goods-box\" v-if=\"defaults.goodsList\">\n    <div class=\"wrapper\">\n      <draggable class=\"dragArea list-group\" :list=\"defaults.goodsList.list\" group=\"peoples\">\n        <div\n          class=\"item\"\n          v-for=\"(goods, index) in defaults.goodsList.list\"\n          :key=\"index\"\n          v-show=\"defaults.goodsList.list.length\"\n        >\n          <img :src=\"type == 1 ? goods.pic : goods.image\" alt=\"\" />\n          <span class=\"iconfont icondel_1\" v-db-click @click.stop=\"bindDelete(index)\"></span>\n        </div>\n        <div class=\"add-item item\" v-db-click @click=\"modals = true\"><span class=\"iconfont iconaddto\"></span></div>\n      </draggable>\n    </div>\n\n    <el-dialog\n      :visible.sync=\"modals\"\n      :title=\"titles\"\n      class=\"paymentFooter\"\n      :class=\"type ? '' : 'middleTop'\"\n      width=\"900px\"\n    >\n      <sort-list ref=\"goodslist\" @getProductDiy=\"getProductDiy\" v-if=\"modals && type == 1\"></sort-list>\n      <goods-list\n        ref=\"goodslist\"\n        @getProductDiy=\"getProductDiy\"\n        :ischeckbox=\"true\"\n        :type=\"type\"\n        :is_new=\"is_new\"\n        :diy=\"true\"\n        v-if=\"modals && type != 1\"\n      ></goods-list>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button v-db-click @click=\"cancel\">取 消</el-button>\n        <el-button type=\"primary\" v-db-click @click=\"ok\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nimport goodsList from '@/components/goodsList';\nimport sortList from '@/components/sortList';\nexport default {\n  name: 'c_goods',\n  props: {\n    name: {\n      type: String,\n    },\n    configData: {\n      type: null,\n    },\n    configNum: {\n      type: Number | String,\n      default: 'default',\n    },\n  },\n  components: {\n    goodsList,\n    sortList,\n    draggable: vuedraggable,\n  },\n  watch: {\n    configData: {\n      handler(nVal, oVal) {\n        this.defaults = nVal[this.configNum];\n        let goodType = nVal[this.configNum].titleInfo ? nVal[this.configNum].titleInfo.type : 0;\n        this.type = nVal[this.configNum].selectConfig.type\n          ? nVal[this.configNum].selectConfig.type\n          : goodType\n          ? goodType\n          : 0;\n        switch (this.type) {\n          case 0:\n            this.titles = '商品列表';\n            break;\n          case 1:\n            this.titles = '分类列表';\n            break;\n          case 8:\n            this.titles = '砍价列表';\n            break;\n          case 2:\n            this.titles = '秒杀列表';\n            break;\n          case 3:\n            this.titles = '拼团列表';\n            break;\n          default:\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      modals: false,\n      goodsList: [],\n      tempGoods: [],\n      defaults: {},\n      type: '',\n      is_new: '',\n      loading: true,\n      titles: '',\n    };\n  },\n  created() {\n    this.defaults = this.configData[this.configNum];\n    this.is_new = this.configData[this.configNum].is_new;\n  },\n  methods: {\n    getProductDiy(data) {\n      this.tempGoods = data;\n      this.loading = false;\n    },\n    cancel() {\n      this.tempGoods = [];\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1));\n    },\n    ok() {\n      if (!this.tempGoods.length) {\n        return this.$message.warning('请先选择商品');\n      }\n      let list = this.defaults.goodsList.list;\n      list.push.apply(list, this.tempGoods);\n      // list.push(this.tempGoods);\n      let picList = this.unique(list);\n      this.defaults.goodsList.list = picList;\n      // this.defaults.goodsList.list.push(this.tempGoods);\n      this.modals = false;\n    },\n    bindDelete(index) {\n      this.defaults.goodsList.list.splice(index, 1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.middleTop ::v-deep .ivu-modal-wrap .ivu-modal {\n  top: 50% !important;\n  margin-top: -350px;\n}\n.goods-box {\n  padding: 16px 0;\n  margin-bottom: 16px;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  .wrapper,\n  .list-group {\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .add-item {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 80px;\n    height: 80px;\n    margin-bottom: 10px;\n    background: #f7f7f7;\n    .iconfont {\n      font-size: 18px;\n      color: #d8d8d8;\n    }\n  }\n  .item {\n    position: relative;\n    width: 80px;\n    height: 80px;\n    margin-bottom: 20px;\n    margin-right: 12px;\n    &:nth-child(4n) {\n      margin-right: 0;\n    }\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    .icondel_1 {\n      position: absolute;\n      right: -10px;\n      top: -16px;\n      color: #999999;\n      font-size: 28px;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;AA2CA,OAAAA,YAAA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAD,IAAA;MACAE,IAAA,EAAAC;IACA;IACAC,UAAA;MACAF,IAAA;IACA;IACAG,SAAA;MACAH,IAAA,EAAAI,MAAA,GAAAH,MAAA;MACAI,OAAA;IACA;EACA;EACAC,UAAA;IACAV,SAAA,EAAAA,SAAA;IACAC,QAAA,EAAAA,QAAA;IACAU,SAAA,EAAAZ;EACA;EACAa,KAAA;IACAN,UAAA;MACAO,OAAA,WAAAA,QAAAC,IAAA,EAAAC,IAAA;QACA,KAAAC,QAAA,GAAAF,IAAA,MAAAP,SAAA;QACA,IAAAU,QAAA,GAAAH,IAAA,MAAAP,SAAA,EAAAW,SAAA,GAAAJ,IAAA,MAAAP,SAAA,EAAAW,SAAA,CAAAd,IAAA;QACA,KAAAA,IAAA,GAAAU,IAAA,MAAAP,SAAA,EAAAY,YAAA,CAAAf,IAAA,GACAU,IAAA,MAAAP,SAAA,EAAAY,YAAA,CAAAf,IAAA,GACAa,QAAA,GACAA,QAAA,GACA;QACA,aAAAb,IAAA;UACA;YACA,KAAAgB,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;QACA;MACA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAxB,SAAA;MACAyB,SAAA;MACAT,QAAA;MACAZ,IAAA;MACAsB,MAAA;MACAC,OAAA;MACAP,MAAA;IACA;EACA;EACAQ,OAAA,WAAAA,QAAA;IACA,KAAAZ,QAAA,QAAAV,UAAA,MAAAC,SAAA;IACA,KAAAmB,MAAA,QAAApB,UAAA,MAAAC,SAAA,EAAAmB,MAAA;EACA;EACAG,OAAA;IACAC,aAAA,WAAAA,cAAAP,IAAA;MACA,KAAAE,SAAA,GAAAF,IAAA;MACA,KAAAI,OAAA;IACA;IACAI,MAAA,WAAAA,OAAA;MACA,KAAAN,SAAA;IACA;IACA;IACAO,MAAA,WAAAA,OAAAC,GAAA;MACA,IAAAC,GAAA,OAAAC,GAAA;MACA,OAAAF,GAAA,CAAAG,MAAA,WAAAH,GAAA;QAAA,QAAAC,GAAA,CAAAG,GAAA,CAAAJ,GAAA,CAAAK,EAAA,KAAAJ,GAAA,CAAAK,GAAA,CAAAN,GAAA,CAAAK,EAAA;MAAA;IACA;IACAE,EAAA,WAAAA,GAAA;MACA,UAAAf,SAAA,CAAAgB,MAAA;QACA,YAAAC,QAAA,CAAAC,OAAA;MACA;MACA,IAAAC,IAAA,QAAA5B,QAAA,CAAAhB,SAAA,CAAA4C,IAAA;MACAA,IAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAF,IAAA,OAAAnB,SAAA;MACA;MACA,IAAAsB,OAAA,QAAAf,MAAA,CAAAY,IAAA;MACA,KAAA5B,QAAA,CAAAhB,SAAA,CAAA4C,IAAA,GAAAG,OAAA;MACA;MACA,KAAAvB,MAAA;IACA;IACAwB,UAAA,WAAAA,WAAAC,KAAA;MACA,KAAAjC,QAAA,CAAAhB,SAAA,CAAA4C,IAAA,CAAAM,MAAA,CAAAD,KAAA;IACA;EACA;AACA","ignoreList":[]}]}