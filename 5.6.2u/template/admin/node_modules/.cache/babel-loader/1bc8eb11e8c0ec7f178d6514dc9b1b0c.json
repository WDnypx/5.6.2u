{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\storeLabelList\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\storeLabelList\\index.vue","mtime":1750064202514},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgcHJvZHVjdExhYmVsVXNlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N0b3JlTGFiZWxMaXN0JywKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsTGlzdDogW10sCiAgICAgIGRhdGFMYWJlbDogW10sCiAgICAgIGlzU3RvcmU6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGluQXJyYXk6IGZ1bmN0aW9uIGluQXJyYXkoc2VhcmNoLCBhcnJheSkgewogICAgICBmb3IgKHZhciBpIGluIGFycmF5KSB7CiAgICAgICAgaWYgKGFycmF5W2ldLmlkID09PSBzZWFyY2gpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc3RvcmVMYWJlbDogZnVuY3Rpb24gc3RvcmVMYWJlbChkYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuZGF0YUxhYmVsID0gZGF0YSB8fCBbXTsKICAgICAgcHJvZHVjdExhYmVsVXNlTGlzdEFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIGlmIChlbC5saXN0ICYmIGVsLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIF90aGlzLmlzU3RvcmUgPSB0cnVlOwogICAgICAgICAgICBlbC5saXN0Lm1hcChmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5BcnJheShsYWJlbC5pZCwgX3RoaXMuZGF0YUxhYmVsKSkgewogICAgICAgICAgICAgICAgbGFiZWwuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsYWJlbC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMubGFiZWxMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0TGFiZWw6IGZ1bmN0aW9uIHNlbGVjdExhYmVsKGxhYmVsLCBpbmRleCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGFMYWJlbCk7CiAgICAgIGlmIChsYWJlbC5kaXNhYmxlZCkgewogICAgICAgIHZhciBfaW5kZXggPSB0aGlzLmRhdGFMYWJlbC5pbmRleE9mKHRoaXMuZGF0YUxhYmVsLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQuaWQgPT09IGxhYmVsLmlkOwogICAgICAgIH0pWzBdKTsKICAgICAgICB0aGlzLmRhdGFMYWJlbC5zcGxpY2UoX2luZGV4LCAxKTsKICAgICAgICBsYWJlbC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGF0YUxhYmVsLnB1c2goewogICAgICAgICAgbGFiZWxfbmFtZTogbGFiZWwubmFtZSwKICAgICAgICAgIGlkOiBsYWJlbC5pZAogICAgICAgIH0pOwogICAgICAgIGxhYmVsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOehruWumgogICAgc3ViQnRuOiBmdW5jdGlvbiBzdWJCdG4oKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2FjdGl2ZURhdGEnLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YUxhYmVsKSkpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfQogIH0KfTs="},{"version":3,"names":["productLabelUseListApi","name","props","data","labelList","dataLabel","isStore","mounted","methods","inArray","search","array","i","id","storeLabel","_this","then","res","map","el","list","length","label","disabled","catch","$message","error","msg","selectLabel","index","console","log","indexOf","filter","d","splice","push","label_name","subBtn","$emit","JSON","parse","stringify","cancel"],"sources":["src/components/storeLabelList/index.vue"],"sourcesContent":["<template>\n  <div class=\"label-wrapper\">\n    <div v-if=\"!labelList.length\" class=\"nonefont\">暂无标签</div>\n    <div v-else class=\"label-box\" v-for=\"(item, index) in labelList\" :key=\"index\">\n      <div class=\"title\">{{ item.cate_name }}</div>\n      <div class=\"list\">\n        <div\n          class=\"label\"\n          :class=\"{ on: label.disabled }\"\n          v-for=\"(label, j) in item.list\"\n          :key=\"j\"\n          v-db-click\n          @click=\"selectLabel(label, index)\"\n        >\n          <div\n            class=\"label-item\"\n            :style=\"{\n              backgroundColor: label.bg_color,\n              color: label.font_color,\n              border: label.border_color ? '1px solid ' + label.border_color : 'none',\n            }\"\n            v-if=\"!label.image\"\n          >\n            {{ label.name }}\n          </div>\n          <img :src=\"label.image\" class=\"img-tag\" v-else />\n          <div class=\"sanjiao\" v-show=\"label.disabled\">\n            <span class=\"iconfont iconwancheng\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"footer\">\n      <el-button type=\"primary\" class=\"btns\" ghost @click=\"cancel\">取消</el-button>\n      <el-button type=\"primary\" class=\"btns\" @click=\"subBtn\">确定</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { productLabelUseListApi } from '@/api/product';\nexport default {\n  name: 'storeLabelList',\n  props: {},\n  data() {\n    return {\n      labelList: [],\n      dataLabel: [],\n      isStore: false,\n    };\n  },\n  mounted() {},\n  methods: {\n    inArray: function (search, array) {\n      for (const i in array) {\n        if (array[i].id === search) {\n          return true;\n        }\n      }\n      return false;\n    },\n    storeLabel(data) {\n      this.dataLabel = data || [];\n      productLabelUseListApi()\n        .then((res) => {\n          res.data.map((el) => {\n            if (el.list && el.list.length) {\n              this.isStore = true;\n              el.list.map((label) => {\n                if (this.inArray(label.id, this.dataLabel)) {\n                  label.disabled = true;\n                } else {\n                  label.disabled = false;\n                }\n              });\n            }\n          });\n          this.labelList = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    selectLabel(label, index) {\n      console.log(this.dataLabel);\n      if (label.disabled) {\n        const index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id === label.id)[0]);\n        this.dataLabel.splice(index, 1);\n        label.disabled = false;\n      } else {\n        this.dataLabel.push({ label_name: label.name, id: label.id });\n        label.disabled = true;\n      }\n    },\n    // 确定\n    subBtn() {\n      this.$emit('activeData', JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    cancel() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.label-wrapper {\n  .list {\n    display: flex;\n    flex-wrap: wrap;\n    .label {\n      position: relative;\n      border: 1px solid #ffffff;\n      padding: 2px;\n      border-radius: 4px;\n      margin: 0 8px 10px 0;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      &.on {\n        border: 1px solid #2d8cf0;\n      }\n    }\n    .label-item {\n      padding: 3px 8px;\n      background: #eeeeee;\n      color: #333333;\n      border-radius: 2px;\n      cursor: pointer;\n      font-size: 12px;\n    }\n\n    .img-tag {\n      height: 22px;\n      border-radius: 2px;\n    }\n    .sanjiao {\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      width: 20px;\n      height: 20px;\n      background: #2d8cf0;\n      clip-path: polygon(100% 100%, 100% 0, 0 100%);\n      color: #fff;\n      text-align: right;\n      .iconfont {\n        font-size: 10px;\n      }\n    }\n  }\n\n  .footer {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 40px;\n\n    button {\n      margin-left: 10px;\n    }\n  }\n}\n.label-box {\n  margin-bottom: 10px;\n}\n.btn {\n  width: 60px;\n  height: 24px;\n}\n\n.title {\n  font-size: 13px;\n  margin-bottom: 8px;\n}\n\n.nonefont {\n  text-align: center;\n  padding-top: 20px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;AAwCA,SAAAA,sBAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA;IACAC,OAAA,WAAAA,QAAAC,MAAA,EAAAC,KAAA;MACA,SAAAC,CAAA,IAAAD,KAAA;QACA,IAAAA,KAAA,CAAAC,CAAA,EAAAC,EAAA,KAAAH,MAAA;UACA;QACA;MACA;MACA;IACA;IACAI,UAAA,WAAAA,WAAAX,IAAA;MAAA,IAAAY,KAAA;MACA,KAAAV,SAAA,GAAAF,IAAA;MACAH,sBAAA,GACAgB,IAAA,WAAAC,GAAA;QACAA,GAAA,CAAAd,IAAA,CAAAe,GAAA,WAAAC,EAAA;UACA,IAAAA,EAAA,CAAAC,IAAA,IAAAD,EAAA,CAAAC,IAAA,CAAAC,MAAA;YACAN,KAAA,CAAAT,OAAA;YACAa,EAAA,CAAAC,IAAA,CAAAF,GAAA,WAAAI,KAAA;cACA,IAAAP,KAAA,CAAAN,OAAA,CAAAa,KAAA,CAAAT,EAAA,EAAAE,KAAA,CAAAV,SAAA;gBACAiB,KAAA,CAAAC,QAAA;cACA;gBACAD,KAAA,CAAAC,QAAA;cACA;YACA;UACA;QACA;QACAR,KAAA,CAAAX,SAAA,GAAAa,GAAA,CAAAd,IAAA;MACA,GACAqB,KAAA,WAAAP,GAAA;QACAF,KAAA,CAAAU,QAAA,CAAAC,KAAA,CAAAT,GAAA,CAAAU,GAAA;MACA;IACA;IACAC,WAAA,WAAAA,YAAAN,KAAA,EAAAO,KAAA;MACAC,OAAA,CAAAC,GAAA,MAAA1B,SAAA;MACA,IAAAiB,KAAA,CAAAC,QAAA;QACA,IAAAM,MAAA,QAAAxB,SAAA,CAAA2B,OAAA,MAAA3B,SAAA,CAAA4B,MAAA,WAAAC,CAAA;UAAA,OAAAA,CAAA,CAAArB,EAAA,KAAAS,KAAA,CAAAT,EAAA;QAAA;QACA,KAAAR,SAAA,CAAA8B,MAAA,CAAAN,MAAA;QACAP,KAAA,CAAAC,QAAA;MACA;QACA,KAAAlB,SAAA,CAAA+B,IAAA;UAAAC,UAAA,EAAAf,KAAA,CAAArB,IAAA;UAAAY,EAAA,EAAAS,KAAA,CAAAT;QAAA;QACAS,KAAA,CAAAC,QAAA;MACA;IACA;IACA;IACAe,MAAA,WAAAA,OAAA;MACA,KAAAC,KAAA,eAAAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,MAAArC,SAAA;IACA;IACAsC,MAAA,WAAAA,OAAA;MACA,KAAAJ,KAAA;IACA;EACA;AACA","ignoreList":[]}]}