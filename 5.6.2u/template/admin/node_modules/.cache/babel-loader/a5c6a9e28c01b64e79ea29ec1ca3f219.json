{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\mobile\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\mobile\\index.vue","mtime":1731313973068},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgeyBTb2NrZXQgfSBmcm9tICdAL2xpYnMvc29ja2V0JzsKaW1wb3J0IHV0aWwgZnJvbSAnQC9saWJzL3V0aWwnOwppbXBvcnQgZW1vamlMaXN0IGZyb20gJ0AvdXRpbHMvZW1vamknOwppbXBvcnQgeyBzZXJ2aWNlTGlzdCwgc2VydmljZUxpc3RBcGksIGdldE9yZGVyQXBpLCBjaGF0TGlzdEFwaSwgcHJvZHVjdEFwaSB9IGZyb20gJ0AvYXBpL2tlZnUnOwppbXBvcnQgeyBnZXRDb29raWVzLCByZW1vdmVDb29raWVzLCBzZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwppbXBvcnQgeyBpc1BpY1VwbG9hZCB9IGZyb20gJ0AvdXRpbHMnOwp2YXIgY2h1bmsgPSBmdW5jdGlvbiBjaHVuayhhcnIsIG51bSkgewogIG51bSA9IG51bSAqIDEgfHwgMTsKICB2YXIgcmV0ID0gW107CiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgIGlmIChpICUgbnVtID09PSAwKSB7CiAgICAgIHJldC5wdXNoKFtdKTsKICAgIH0KICAgIHJldFtyZXQubGVuZ3RoIC0gMV0ucHVzaChpdGVtKTsKICB9KTsKICByZXR1cm4gcmV0Owp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NoYXRfbW9iaWxlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BzOiB7CiAgICAgICAgdnVlc2Nyb2xsOiB7CiAgICAgICAgICBtb2RlOiAnc2xpZGUnLAogICAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICAgIGF1dG86IGZhbHNlLAogICAgICAgICAgYXV0b0xvYWREaXN0YW5jZTogMCwKICAgICAgICAgIHB1bGxSZWZyZXNoOiB7CiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSwKICAgICAgICAgICAgYXV0bzogZmFsc2UsCiAgICAgICAgICAgIGF1dG9Mb2FkRGlzdGFuY2U6IDAsCiAgICAgICAgICAgIHRpcHM6IHsKICAgICAgICAgICAgICBkZWFjdGl2ZTogJycsCiAgICAgICAgICAgICAgYWN0aXZlOiAn5LiK5ouJ5Yqg6L295pu05aSaJywKICAgICAgICAgICAgICBzdGFydDogJ0xvYWRpbmcuLi4nLAogICAgICAgICAgICAgIGJlZm9yZURlYWN0aXZlOiAnICcKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHB1c2hMb2FkOiB7CiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJhcjogewogICAgICAgICAgYmFja2dyb3VuZDogJyMzOTMyMzInLAogICAgICAgICAgb3BhY2l0eTogJy41JywKICAgICAgICAgIHNpemU6ICcycHgnCiAgICAgICAgfQogICAgICB9LAogICAgICBzd2lwZXJPcHRpb25zOiB7fSwKICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlzVG9vbDogZmFsc2UsCiAgICAgIGlzU3dpcGVyOiBmYWxzZSwKICAgICAgaXNXb3JkczogZmFsc2UsCiAgICAgIGF1dG9wbGF5OiBmYWxzZSwKICAgICAgY2lyY3VsYXI6IHRydWUsCiAgICAgIGludGVydmFsOiAzMDAwLAogICAgICBkdXJhdGlvbjogNTAwLAogICAgICBlbW9qaUdyb3VwOiBjaHVuayhlbW9qaUxpc3QsIDIxKSwKICAgICAgY29uOiAnJywKICAgICAgdG9VaWQ6ICcnLAogICAgICBsaW1pdDogMTUsCiAgICAgIHVwcGVySWQ6IDAsCiAgICAgIGNoYXRMaXN0OiBbXSwKICAgICAga2VmdUluZm86IHt9LAogICAgICBzY3JvbGxUb3A6IDAsCiAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgaXNTY3JvbGw6IHRydWUsCiAgICAgIG9sZEhlaWdodDogMCwKICAgICAgc2VsZWN0b3I6ICcnLAogICAgICB0cmFuc2Zlckxpc3Q6IFtdLAogICAgICAvL+i9rOaOpeWIl+ihqAogICAgICBpc1RyYW5zZmVyOiBmYWxzZSwKICAgICAgdXBsb2FkRGF0YToge30sCiAgICAgIC8vIOS4iuS8oOWPguaVsAogICAgICBoZWFkZXI6IHt9LAogICAgICBmaWxlVXJsOiAnJywKICAgICAgdXNlclRva2VuOiAnJywKICAgICAgdG91cmlzdF91aWQ6ICcnLAogICAgICAvL+a4uOWuoueahHVpZAogICAgICBvcmRlcklkOiAnJywKICAgICAgb3JkZXJJbmZvOiAnJywKICAgICAgY2FydEluZm86ICcnLAogICAgICBwcm9kdWN0SWQ6ICcnLAogICAgICBwcm9kdWN0SW5mbzogJycsCiAgICAgIHRvdXJpc3RfYXZhdGFyOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1NlbmQ6IGZ1bmN0aW9uIGlzU2VuZCgpIHsKICAgICAgaWYgKHRoaXMuY29uLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVjb3JkczogZnVuY3Rpb24gcmVjb3JkcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMuY2hhdExpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIGl0ZW0udGltZSA9IF90aGlzLiRtb21lbnQoaXRlbS5hZGRfdGltZSAqIDEwMDApLmZvcm1hdCgnTU1NRG8gaDptbScpOwogICAgICAgIGlmIChpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0uYWRkX3RpbWUgLSBfdGhpcy5jaGF0TGlzdFtpbmRleCAtIDFdLmFkZF90aW1lID49IDMwMCkgewogICAgICAgICAgICBpdGVtLnNob3cgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaXRlbS5zaG93ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW0uc2hvdyA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnTE9HSU5fU1RBVFVTX1RPS0VOJykgfHwgJyc7CiAgICB0aGlzLmZpbGVVcmwgPSBTZXR0aW5nLmFwaUJhc2VVUkwucmVwbGFjZSgnYWRtaW5hcGknLCAna2VmdWFwaScpICsgJy90b3VyaXN0L3VwbG9hZCc7CiAgICB0aGlzLnVzZXJUb2tlbiA9IHRva2VuOwogICAgdGhpcy50b1VpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRvVWlkIHx8ICcnOwogICAgdGhpcy5uaWNrbmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5pY2tuYW1lIHx8ICcnOwogICAgdGhpcy5vcmRlcklkID0gdGhpcy4kcm91dGUucXVlcnkub3JkZXJJZCB8fCAnJzsKICAgIHRoaXMucHJvZHVjdElkID0gdGhpcy4kcm91dGUucXVlcnkucHJvZHVjdF9pZCB8fCAnJzsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIGlmICghdGhpcy4kd2VjaGF0Ll9pc01vYmlsZSgpKSB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2tlZnUvYXBwQ2hhdCcpOwogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5nZXRTZXJ2aWNlTGlzdCgpOwogICAgaWYgKHRoaXMudXNlclRva2VuKSB7CiAgICAgIHRoaXMuZ2V0T3JkZXJJbmZvKCk7CiAgICAgIHRoaXMuZ2V0R29vZHNJbmZvKCk7CiAgICB9CiAgICAvLyDkuIrkvKDlpLTpg6h0b2tlbgogICAgdGhpcy5oZWFkZXJbJ0F1dGhvcmktemF0aW9uJ10gPSAnQmVhcmVyICcgKyBnZXRDb29raWVzKCdrZWZ1X3Rva2VuJyk7CiAgICBTb2NrZXQudGhlbihmdW5jdGlvbiAod3MpIHsKICAgICAgaWYgKF90aGlzMi51c2VyVG9rZW4pIHsKICAgICAgICB3cy5zZW5kKHsKICAgICAgICAgIHR5cGU6ICdsb2dpbicsCiAgICAgICAgICBkYXRhOiBfdGhpczIudXNlclRva2VuCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8g5raI5oGv5o6l5pS2CiAgICAgIHdzLiRvbihbJ3JlcGx5JywgJ2NoYXQnXSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5tc25fdHlwZSA9PSAxIHx8IGRhdGEubXNuX3R5cGUgPT0gMikgewogICAgICAgICAgZGF0YS5tc24gPSBfdGhpczIucmVwbGFjZV9lbShkYXRhLm1zbik7CiAgICAgICAgfQogICAgICAgIF90aGlzMi5jaGF0TGlzdC5wdXNoKGRhdGEpOwogICAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRyZWZzWydzY3JvbGxCb3gnXS5yZWZyZXNoKCk7CiAgICAgICAgICBfdGhpczIuc2Nyb2xsQm9tKCk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIuJHJlZnNbJ3Njcm9sbEJveCddLnJlZnJlc2goKTsKICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgICAgd3MuJG9uKCdzb2NrZXRfZXJyb3InLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfov57mjqXlpLHotKUnKTsKICAgICAgfSk7CiAgICAgIHdzLiRvbignZXJyb3InLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfov57mjqXlpLHotKUnKTsKICAgICAgfSk7CiAgICAgIHdzLiRvbigndG9fdHJhbnNmZXInLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHdzLnNlbmQoewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBpZDogZGF0YS50b1VpZAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICd0b19jaGF0JwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgd3MuJG9uKCdvbmxpbmUnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhLm9ubGluZSA9PSAwICYmIGRhdGEudWlkID09IHRoYXQudG9VaWQpIHsKICAgICAgICAgIHRoYXQuJE1vZGFsLmNvbmZpcm0oewogICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgIGNvbnRlbnQ6ICflrqLmnI3lt7Lnprvnur/vvIzmmK/lkKbpnIDopoHlj43ppojvvJ8nLAogICAgICAgICAgICBva1RleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICBwYXRoOiAnL2tlZnUvbW9iaWxlX2ZlZWRiYWNrJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7fSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcjogZnVuY3Rpb24gaGFuZGxlRm9ybWF0RXJyb3IoZmlsZSkgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYflj6rog73mmK8ganBn44CBanBn44CBanBlZ+OAgWdpZiDmoLzlvI8hJyk7CiAgICB9LAogICAgLy8g6I635Y+W5ZWG5ZOB5L+h5oGvCiAgICBnZXRHb29kc0luZm86IGZ1bmN0aW9uIGdldEdvb2RzSW5mbygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5wcm9kdWN0SWQpIHJldHVybjsKICAgICAgcHJvZHVjdEFwaSh0aGlzLnByb2R1Y3RJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLnByb2R1Y3RJbmZvID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluiuouWNleS/oeaBrwogICAgZ2V0T3JkZXJJbmZvOiBmdW5jdGlvbiBnZXRPcmRlckluZm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAoIXRoaXMub3JkZXJJZCkgcmV0dXJuOwogICAgICBnZXRPcmRlckFwaSh0aGlzLm9yZGVySWQsIHsKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0Lm9yZGVySW5mbyA9IHJlcy5kYXRhOwogICAgICAgIGlmIChfdGhpczQub3JkZXJJbmZvLmFkZF90aW1lX2gpIHsKICAgICAgICAgIF90aGlzNC5vcmRlckluZm8uYWRkX3RpbWVfaCA9IF90aGlzNC5vcmRlckluZm8uYWRkX3RpbWVfaC5zdWJzdHJpbmcoMCwgX3RoaXM0Lm9yZGVySW5mby5hZGRfdGltZV9oLmxhc3RJbmRleE9mKCc6JykpOwogICAgICAgIH0KICAgICAgICBpZiAoX3RoaXM0Lm9yZGVySW5mby5jYXJ0SW5mby5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzNC5jYXJ0SW5mbyA9IF90aGlzNC5vcmRlckluZm8uY2FydEluZm9bMF07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bpmo/mnLrlrqLmnI0KICAgIGdldFNlcnZpY2VMaXN0OiBmdW5jdGlvbiBnZXRTZXJ2aWNlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHNlcnZpY2VMaXN0QXBpKHsKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LnRvVWlkID0gcmVzLmRhdGEudWlkOwogICAgICAgIF90aGlzNS50b3VyaXN0X3VpZCA9IHJlcy5kYXRhLnRvdXJpc3RfdWlkOwogICAgICAgIGRvY3VtZW50LnRpdGxlID0gcmVzLmRhdGEubmlja25hbWU7CiAgICAgICAgX3RoaXM1LnRvdXJpc3RfYXZhdGFyID0gcmVzLmRhdGEudG91cmlzdF9hdmF0YXI7CiAgICAgICAgaWYgKF90aGlzNS51c2VyVG9rZW4pIHsKICAgICAgICAgIF90aGlzNS5nZXRDaGF0TGlzdCgpOwogICAgICAgIH0KICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBpZDogcmVzLmRhdGEudWlkLAogICAgICAgICAgICB0b3VyaXN0X3VpZDogX3RoaXM1LnRvdXJpc3RfdWlkCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogJ3RvX2NoYXQnCiAgICAgICAgfTsKICAgICAgICBTb2NrZXQudGhlbihmdW5jdGlvbiAod3MpIHsKICAgICAgICAgIHdzLnNlbmQob2JqKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczUuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgcGF0aDogJy9rZWZ1L21vYmlsZV9mZWVkYmFjaycKICAgICAgICAgIH0pOwogICAgICAgIH0sIDIwMDApOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkvKDkuYvliY0KICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBpc0ltYWdlID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJzsKICAgICAgaWYgKCFpc0ltYWdlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5Y+q6IO95pivIEpQR+OAgVBORyDmoLzlvI8hJyk7CiAgICAgIH0KICAgICAgdGhpcy51cGxvYWREYXRhID0gewogICAgICAgIGZpbGVuYW1lOiBmaWxlLAogICAgICAgIHRva2VuOiB0aGlzLnVzZXJUb2tlbgogICAgICB9OwogICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3RoaXM2LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHByb21pc2U7CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICBoYW5kbGVTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB0aGlzLnNlbmRNc2cocmVzLmRhdGEudXJsLCAzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9CiAgICB9LAogICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICBzY3JvbGxCb206IGZ1bmN0aW9uIHNjcm9sbEJvbSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0Qm94Jykub2Zmc2V0SGVpZ2h0KTsKICAgICAgICBpZiAoX3RoaXM3LiRyZWZzWydzY3JvbGxCb3gnXSkgewogICAgICAgICAgX3RoaXM3LiRyZWZzWydzY3JvbGxCb3gnXS5zY3JvbGxUbyh7CiAgICAgICAgICAgIHk6IG51bQogICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g6K6i5Y2V6K+m5oOFCiAgICBnb09yZGVyRGV0YWlsOiBmdW5jdGlvbiBnb09yZGVyRGV0YWlsKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIva2VmdS9vcmRlckRldGFpbC8iLmNvbmNhdChpdGVtLm9yZGVySW5mby5pZCkKICAgICAgfSk7CiAgICB9LAogICAgLy8g5bqV6YOo5Yqf6IO95Yy65omT5byACiAgICBvcGVuQm94OiBmdW5jdGlvbiBvcGVuQm94KGtleSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgaWYgKGtleSA9PSAxKSB7CiAgICAgICAgdGhpcy5pc1Rvb2wgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzU3dpcGVyID0gIXRoaXMuaXNTd2lwZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc1N3aXBlciA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNUb29sID0gIXRoaXMuaXNUb29sOwogICAgICB9CiAgICAgIHRoaXMuJHJlZnNbJ3Njcm9sbEJveCddLnJlZnJlc2goKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOC5zY3JvbGxCb20oKTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1dvcmRzOiBmdW5jdGlvbiBzaG93V29yZHMoKSB7CiAgICAgIHRoaXMuaXNXb3JkcyA9IHRydWU7CiAgICB9LAogICAgLy8g6L2s5o6lCiAgICBnb1RyYW5zZmVyOiBmdW5jdGlvbiBnb1RyYW5zZmVyKCkgewogICAgICB0aGlzLmlzVHJhbnNmZXIgPSB0cnVlOwogICAgfSwKICAgIC8vIOi9rOaOpeWFs+mXrQogICAgY2xvc2VUcmFuc2ZlcjogZnVuY3Rpb24gY2xvc2VUcmFuc2ZlcigpIHsKICAgICAgdGhpcy50cmFuc2Zlckxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7CiAgICAgICAgZWwuaXNDaGVjayA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy5pc1RyYW5zZmVyID0gZmFsc2U7CiAgICB9LAogICAgLy8g5ZWG5ZOB5L+h5oGvCiAgICBnb29kc0luZm86IGZ1bmN0aW9uIGdvb2RzSW5mbygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcva2VmdS9nb29kcy9saXN0P3RvVWlkPScgKyB0aGlzLnRvVWlkCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOihqOaDheeCueWHuwogICAgYWRkRW1vamk6IGZ1bmN0aW9uIGFkZEVtb2ppKGl0ZW0pIHsKICAgICAgdmFyIHZhbCA9ICJbIi5jb25jYXQoaXRlbSwgIl0iKTsKICAgICAgdGhpcy5jb24gKz0gdmFsOwogICAgfSwKICAgIC8vIOiBiuWkqeihqOaDhei9rOaNogogICAgcmVwbGFjZV9lbTogZnVuY3Rpb24gcmVwbGFjZV9lbShzdHIpIHsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xbZW0tKFtcc1xTXSopXF0vZywgIjxzcGFuIGNsYXNzPSdlbSBlbS0kMScvPjwvc3Bhbj4iKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICAvLyDojrflj5bogYrlpKnliJfooagKICAgIGdldENoYXRMaXN0OiBmdW5jdGlvbiBnZXRDaGF0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgY2hhdExpc3RBcGkoewogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LAogICAgICAgIHVpZDogdGhpcy50b1VpZCwKICAgICAgICB1cHBlcklkOiB0aGlzLnVwcGVySWQsCiAgICAgICAgdG9rZW46IHRoaXMudXNlclRva2VuCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBzSCA9IDA7CiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIGlmIChlbC5tc25fdHlwZSA9PSAxIHx8IGVsLm1zbl90eXBlID09IDIpIHsKICAgICAgICAgICAgZWwubXNuID0gX3RoaXM5LnJlcGxhY2VfZW0oZWwubXNuKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgc2VsZWN0b3IgPSAnJzsKICAgICAgICBpZiAoX3RoaXM5LnVwcGVySWQgPT0gMCkgewogICAgICAgICAgc2VsZWN0b3IgPSAiY2hhdF8iLmNvbmNhdChyZXMuZGF0YVtyZXMuZGF0YS5sZW5ndGggLSAxXS5pZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGVjdG9yID0gImNoYXRfIi5jb25jYXQoX3RoaXM5LmNoYXRMaXN0WzBdLmlkKTsKICAgICAgICB9CiAgICAgICAgX3RoaXM5LnNlbGVjdG9yID0gc2VsZWN0b3I7CiAgICAgICAgX3RoaXM5LmNoYXRMaXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YSksIF90b0NvbnN1bWFibGVBcnJheShfdGhpczkuY2hhdExpc3QpKTsKICAgICAgICBfdGhpczkubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzOS5pc1Njcm9sbCA9IHJlcy5kYXRhLmxlbmd0aCA+PSBfdGhpczkubGltaXQ7CiAgICAgICAgX3RoaXM5LiRyZWZzWydzY3JvbGxCb3gnXS5yZWZyZXNoKCk7CiAgICAgICAgX3RoaXM5LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczkuJGVtaXQoJ2NoYW5nZScsIHRydWUpOwogICAgICAgICAgdmFyIG51bSA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3IpLm9mZnNldFRvcCkgLSA2MDsKICAgICAgICAgIF90aGlzOS4kcmVmc1snc2Nyb2xsQm94J10uc2Nyb2xsVG8oewogICAgICAgICAgICB5OiBudW0KICAgICAgICAgIH0sIDApOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5HpgIHorqLljZUKICAgIHNlbmRPcmRlcjogZnVuY3Rpb24gc2VuZE9yZGVyKCkgewogICAgICB0aGlzLnNlbmRNc2codGhpcy5vcmRlcklkLCA2KTsKICAgICAgdGhpcy5vcmRlcklkID0gMDsKICAgICAgdGhpcy5vcmRlckluZm8gPSB7fTsKICAgIH0sCiAgICAvLyDlj5HpgIHllYblk4EKICAgIHNlbmRQcm9kdWN0OiBmdW5jdGlvbiBzZW5kUHJvZHVjdCgpIHsKICAgICAgdGhpcy5zZW5kTXNnKHRoaXMucHJvZHVjdElkLCA1KTsKICAgICAgdGhpcy5wcm9kdWN0SWQgPSAwOwogICAgICB0aGlzLnByb2R1Y3RJbmZvID0ge307CiAgICB9LAogICAgLy8g5Y+R6YCB5raI5oGvCiAgICBzZW5kVGV4dDogZnVuY3Rpb24gc2VuZFRleHQoKSB7CiAgICAgIGlmICghdGhpcy5pc1NlbmQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXlhoXlrrknKTsKICAgICAgfQogICAgICB0aGlzLnNlbmRNc2codGhpcy5jb24sIDEpOwogICAgICB0aGlzLmNvbiA9ICcnOwogICAgfSwKICAgIC8vIHdz5Y+R6YCBCiAgICBzZW5kTXNnOiBmdW5jdGlvbiBzZW5kTXNnKG1zbiwgdHlwZSkgewogICAgICB2YXIgb2JqID0gewogICAgICAgIHR5cGU6ICdjaGF0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBtc246IG1zbiwKICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICBpc190b3VyaXN0OiB0aGlzLnVzZXJUb2tlbiA/IDAgOiAxLAogICAgICAgICAgdG9fdWlkOiB0aGlzLnRvVWlkLAogICAgICAgICAgdG91cmlzdF91aWQ6IHRoaXMudG91cmlzdF91aWQsCiAgICAgICAgICBmb3JtX3R5cGU6IHRoaXMuJHdlY2hhdC5pc1dlaXhpbigpID8gMSA6IDMsCiAgICAgICAgICB0b3VyaXN0X2F2YXRhcjogdGhpcy51c2VyVG9rZW4gPyAnJyA6IHRoaXMudG91cmlzdF9hdmF0YXIKICAgICAgICB9CiAgICAgIH07CiAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgIHdzLnNlbmQob2JqKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Zu+54mH5LiK5LygCiAgICB1cGxvYWRJbWc6IGZ1bmN0aW9uIHVwbG9hZEltZygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBzZWxmLiR1dGlsLnVwbG9hZEltYWdlT25lKCd1cGxvYWQvaW1hZ2UnLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBzZWxmLnNlbmRNc2cocmVzLmRhdGEudXJsLCAzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vICDllYblk4Hor6bmg4XpobUKICAgIGdvUHJvZHVjdDogZnVuY3Rpb24gZ29Qcm9kdWN0KGl0ZW0pIHsKICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvcGFnZXMvZ29vZHNfZGV0YWlscy9pbmRleD9pZD0nICsgaXRlbS5tc247CiAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOeUqOaIt+iuouWNlQogICAgZ29BZG1pbk9yZGVyOiBmdW5jdGlvbiBnb0FkbWluT3JkZXIoKSB7CiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgLy8gICAgIHBhdGg6Jy9rZWZ1L29yZGVyTGlzdC8wLycrdGhpcy50b1VpZAogICAgICAvLyB9KQogICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJy9wYWdlcy9nb29kcy9vcmRlcl9kZXRhaWxzL2luZGV4P29yZGVyX2lkPScgKyBpdGVtLm1zbjsKICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICB9LAogICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICBoZWlnaHQ6IGZ1bmN0aW9uIGhlaWdodCgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgc2Nyb2xsVG9wID0gMDsKICAgICAgdmFyIGluZm8gPSB1bmkuY3JlYXRlU2VsZWN0b3JRdWVyeSgpLnNlbGVjdCgnLmNoYXQnKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaW5mby5ib3VuZGluZ0NsaWVudFJlY3QoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIC8vZGF0YSAtIOWQhOenjeWPguaVsAogICAgICAgICAgc2Nyb2xsVG9wID0gZGF0YS5oZWlnaHQ7CiAgICAgICAgICBpZiAoc2VsZi5hY3RpdmUpIHsKICAgICAgICAgICAgc2VsZi5zY3JvbGxUb3AgPSBwYXJzZUludChzY3JvbGxUb3ApICsgNTAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5zY3JvbGxUb3AgPSBwYXJzZUludChzY3JvbGxUb3ApICsgMTAwOwogICAgICAgICAgfQogICAgICAgIH0pLmV4ZWMoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgaGFuZGxlQWN0aXZhdGU6IGZ1bmN0aW9uIGhhbmRsZUFjdGl2YXRlKHZtLCByZWZyZXNoRG9tKSB7CiAgICAgIHRoaXMudXBwZXJJZCA9IHRoaXMuY2hhdExpc3RbMF0uaWQ7CiAgICB9LAogICAgaGFuZGxlU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KHZtLCByZWZyZXNoRG9tLCBkb25lKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGxvYWQgZmluaXNoZWQKICAgICAgICBkb25lKCk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIGhhbmRsZUJlZm9yZURlYWN0aXZhdGU6IGZ1bmN0aW9uIGhhbmRsZUJlZm9yZURlYWN0aXZhdGUodm0sIHJlZnJlc2hEb20sIGRvbmUpIHsKICAgICAgaWYgKHRoaXMudXNlclRva2VuKSB7CiAgICAgICAgdGhpcy5nZXRDaGF0TGlzdCgpOwogICAgICAgIHRoaXMuJG9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKGRhdGEpIGRvbmUoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb25lKCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVEZWFjdGl2YXRlOiBmdW5jdGlvbiBoYW5kbGVEZWFjdGl2YXRlKHZtLCByZWZyZXNoRG9tKSB7CiAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2VsZWN0b3IpLm9mZnNldFRvcCkgLSA2MDsKICAgICAgdGhpcy4kcmVmc1snc2Nyb2xsQm94J10uc2Nyb2xsVG8oewogICAgICAgIHk6IG51bQogICAgICB9LCAwKTsKICAgIH0KICB9Cn07"},null]}