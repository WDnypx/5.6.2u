{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\product\\productAdd\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\product\\productAdd\\index.vue","mtime":1751246651273},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0FycmF5IGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9BcnJheS5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2NvcGFibGVzLmZsYXQtbWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZsYXQtbWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaW50ZXJzZWN0aW9uLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmlzLWRpc2pvaW50LWZyb20udjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuaXMtc3Vic2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmlzLXN1cGVyc2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LnN5bW1ldHJpYy1kaWZmZXJlbmNlLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LnVuaW9uLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL2xhYmVsTGlzdCc7CmltcG9ydCB1c2VMYWJlbCBmcm9tICdAL2NvbXBvbmVudHMvZ29vZHNMYWJlbC91c2VMYWJlbCc7CmltcG9ydCBnb29kc0xhYmVsIGZyb20gJ0AvY29tcG9uZW50cy9nb29kc0xhYmVsJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHVwbG9hZFBpY3R1cmVzIGZyb20gJ0AvY29tcG9uZW50cy91cGxvYWRQaWN0dXJlcyc7CmltcG9ydCBmcmVpZ2h0VGVtcGxhdGUgZnJvbSAnQC9jb21wb25lbnRzL2ZyZWlnaHRUZW1wbGF0ZSc7CmltcG9ydCBjb3Vwb25MaXN0IGZyb20gJ0AvY29tcG9uZW50cy9jb3Vwb25MaXN0JzsKaW1wb3J0IGFkZEF0dHIgZnJvbSAnLi4vcHJvZHVjdEF0dHIvYWRkQXR0cic7CmltcG9ydCBnb29kc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGlzdC9pbmRleCc7CmltcG9ydCB0YW9CYW8gZnJvbSAnLi90YW9CYW8nOwppbXBvcnQgeyB1c2VyTGFiZWxBZGRBcGkgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgcHJvZHVjdEluZm9BcGksIGNhc2NhZGVyTGlzdEFwaSwgcHJvZHVjdEFkZEFwaSwgZ2VuZXJhdGVBdHRyQXBpLCBwcm9kdWN0R2V0UnVsZUFwaSwgcHJvZHVjdEdldFRlbXBsYXRlQXBpLCBwcm9kdWN0R2V0VGVtcEtleXNBcGksIGNoZWNrQWN0aXZpdHlBcGksIHByb2R1Y3RDYWNoZSwgY2FjaGVEZWxldGUsIHVwbG9hZFR5cGUgYXMgX3VwbG9hZFR5cGUsIGltcG9ydENhcmQsIHByb2R1Y3RDcmVhdGVBcGksIGdldFByb2R1Y3RUeXBlQ29uZmlnLCBydWxlQWRkQXBpLCBwYXJhbUxpc3RBcGksIHBhcmFtSW5mb0FwaSwgcHJvZHVjdFByb3RlY3Rpb25MaXN0QXBpLCBwcm9kdWN0TGFiZWxVc2VMaXN0QXBpIH0gZnJvbSAnQC9hcGkvcHJvZHVjdCc7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IGdldENvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCB7IHVwbG9hZEJ5UGllY2VzIH0gZnJvbSAnQC91dGlscy91cGxvYWQnOyAvL+W8leWFpXVwbG9hZEJ5UGllY2Vz5pa55rOVCmltcG9ydCB7IGlzRmlsZVVwbG9hZCwgaXNWaWRlb1VwbG9hZCwgYXJyYXlzRXF1YWwgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IGNoZWNrQXJyYXkgZnJvbSAnQC9saWJzL3Blcm1pc3Npb24nOwppbXBvcnQgeyBHb29kc1RhYmxlSGVhZCwgVmlydHVhbFRhYmxlSGVhZCwgVmlydHVhbFRhYmxlSGVhZDIsIGNvbHVtbnMyLCBjb2x1bW5zMywgQ3VzdG9tTGlzdCwgUnVsZVZhbGlkYXRlIH0gZnJvbSAnLi9kZWZhdWx0RGF0YS5qcyc7CmltcG9ydCBCYXNpY0luZm8gZnJvbSAnLi9jb21wb25lbnRzL0Jhc2ljSW5mby52dWUnOwppbXBvcnQgU3BlY1N0b2NrIGZyb20gJy4vY29tcG9uZW50cy9TcGVjU3RvY2sudnVlJzsKaW1wb3J0IFByb2R1Y3REZXRhaWwgZnJvbSAnLi9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWwudnVlJzsKaW1wb3J0IExvZ2lzdGljc1NldHRpbmcgZnJvbSAnLi9jb21wb25lbnRzL0xvZ2lzdGljc1NldHRpbmcudnVlJzsKaW1wb3J0IFByaWNlQ29tbWlzc2lvbiBmcm9tICcuL2NvbXBvbmVudHMvUHJpY2VDb21taXNzaW9uLnZ1ZSc7CmltcG9ydCBNYXJrZXRpbmdTZXR0aW5nIGZyb20gJy4vY29tcG9uZW50cy9NYXJrZXRpbmdTZXR0aW5nLnZ1ZSc7CmltcG9ydCBPdGhlclNldHRpbmcgZnJvbSAnLi9jb21wb25lbnRzL090aGVyU2V0dGluZy52dWUnOwppbXBvcnQgeyBmb3JtYXRSaWNoVGV4dCB9IGZyb20gJ0AvdXRpbHMvZWRpdG9ySW1nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9kdWN0QWRkJywKICBjb21wb25lbnRzOiB7CiAgICB1cGxvYWRQaWN0dXJlczogdXBsb2FkUGljdHVyZXMsCiAgICBmcmVpZ2h0VGVtcGxhdGU6IGZyZWlnaHRUZW1wbGF0ZSwKICAgIGFkZEF0dHI6IGFkZEF0dHIsCiAgICBjb3Vwb25MaXN0OiBjb3Vwb25MaXN0LAogICAgdGFvQmFvOiB0YW9CYW8sCiAgICBnb29kc0xpc3Q6IGdvb2RzTGlzdCwKICAgIHVzZXJMYWJlbDogdXNlckxhYmVsLAogICAgZ29vZHNMYWJlbDogZ29vZHNMYWJlbCwKICAgIHVzZUxhYmVsOiB1c2VMYWJlbCwKICAgIEJhc2ljSW5mbzogQmFzaWNJbmZvLAogICAgU3BlY1N0b2NrOiBTcGVjU3RvY2ssCiAgICBQcm9kdWN0RGV0YWlsOiBQcm9kdWN0RGV0YWlsLAogICAgTG9naXN0aWNzU2V0dGluZzogTG9naXN0aWNzU2V0dGluZywKICAgIFByaWNlQ29tbWlzc2lvbjogUHJpY2VDb21taXNzaW9uLAogICAgTWFya2V0aW5nU2V0dGluZzogTWFya2V0aW5nU2V0dGluZywKICAgIE90aGVyU2V0dGluZzogT3RoZXJTZXR0aW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFiZWxTaG93OiBmYWxzZSwKICAgICAgdGFnU2hvdzogZmFsc2UsCiAgICAgIGRhdGFMYWJlbDogW10sCiAgICAgIGhlYWRUYWI6IFt7CiAgICAgICAgdGl0OiAn5Z+656GA5L+h5oGvJywKICAgICAgICBuYW1lOiAnMScKICAgICAgfSwgewogICAgICAgIHRpdDogJ+inhOagvOW6k+WtmCcsCiAgICAgICAgbmFtZTogJzInCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfllYblk4Hor6bmg4UnLAogICAgICAgIG5hbWU6ICczJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn54mp5rWB6K6+572uJywKICAgICAgICBuYW1lOiAnNCcKICAgICAgfSwgewogICAgICAgIHRpdDogJ+S8muWRmOS7ty/kvaPph5EnLAogICAgICAgIG5hbWU6ICc1JwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn6JCl6ZSA6K6+572uJywKICAgICAgICBuYW1lOiAnNicKICAgICAgfSwgewogICAgICAgIHRpdDogJ+WFtuS7luiuvue9ricsCiAgICAgICAgbmFtZTogJzcnCiAgICAgIH1dLAogICAgICB2aXJ0dWFsOiBbewogICAgICAgIHRpdDogJ+aZrumAmuWVhuWTgScsCiAgICAgICAgaWQ6IDAsCiAgICAgICAgdGl0MjogJ+eJqea1geWPkei0pycKICAgICAgfSwgewogICAgICAgIHRpdDogJ+WNoeWvhi/nvZHnm5gnLAogICAgICAgIGlkOiAxLAogICAgICAgIHRpdDI6ICfoh6rliqjlj5HotKcnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfkvJjmg6DliLgnLAogICAgICAgIGlkOiAyLAogICAgICAgIHRpdDI6ICfoh6rliqjlj5HotKcnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfomZrmi5/llYblk4EnLAogICAgICAgIGlkOiAzLAogICAgICAgIHRpdDI6ICfomZrmi5/lj5HotKcnCiAgICAgIH1dLAogICAgICBzZWxldFZpZGVvOiAwLAogICAgICAvL+mAieaLqeinhumikeexu+WeiwogICAgICBjdXN0b21CdG46IDAsCiAgICAgIC8v6Ieq5a6a5LmJ55WZ6KiA5byA5YWzCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBjb250ZW50czogJycsCiAgICAgIGZpbGVVcmw6IFNldHRpbmcuYXBpQmFzZVVSTCArICcvZmlsZS91cGxvYWQnLAogICAgICBmaWxlVXJsMjogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3ZpZGVvX3VwbG9hZCcsCiAgICAgIGNhcmRVcmw6IFNldHRpbmcuYXBpQmFzZVVSTCArICcvZmlsZS91cGxvYWQvMScsCiAgICAgIHVwbG9hZF90eXBlOiAnJywKICAgICAgLy/op4bpopHkuIrkvKDnsbvlnosgMSDmnKzlnLDkuIrkvKAgMiAzIDQgT1NT5LiK5LygCiAgICAgIHVwbG9hZERhdGE6IHt9LAogICAgICAvLyDkuIrkvKDlj4LmlbAKICAgICAgaGVhZGVyOiB7fSwKICAgICAgdHlwZTogMCwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgZ29vZHNfbW9kYWxzOiBmYWxzZSwKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBvcGVuU3ViaW1pdDogZmFsc2UsCiAgICAgIHZpcnR1YWxMaXN0OiBbewogICAgICAgIGtleTogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH1dLAogICAgICAvLyDmibnph4/orr7nva7ooajmoLxkYXRhCiAgICAgIG9uZUZvcm1CYXRjaDogW3sKICAgICAgICBwaWM6ICcnLAogICAgICAgIHByaWNlOiB2b2lkIDAsCiAgICAgICAgY29zdDogdm9pZCAwLAogICAgICAgIG90X3ByaWNlOiB2b2lkIDAsCiAgICAgICAgc3RvY2s6IHZvaWQgMCwKICAgICAgICBiYXJfY29kZTogJycsCiAgICAgICAgYmFyX2NvZGVfbnVtYmVyOiAnJywKICAgICAgICB3ZWlnaHQ6IHZvaWQgMCwKICAgICAgICB2b2x1bWU6IHZvaWQgMCwKICAgICAgICB2aXJ0dWFsX2xpc3Q6IFtdCiAgICAgIH1dLAogICAgICAvLyDop4TmoLzmlbDmja4KICAgICAgZm9ybUR5bmFtaWM6IHsKICAgICAgICBhdHRyc05hbWU6ICcnLAogICAgICAgIGF0dHJzVmFsOiAnJwogICAgICB9LAogICAgICBkaXNrX3R5cGU6IDEsCiAgICAgIC8v5Y2h5a+G57G75Z6LCiAgICAgIHRhYkluZGV4OiAwLAogICAgICB0YWJOYW1lOiAnJywKICAgICAgZm9ybUR5bmFtaWNOYW1lRGF0YTogW10sCiAgICAgIGlzQnRuOiBmYWxzZSwKICAgICAgY29sdW1uczI6IGNvbHVtbnMyLAogICAgICBjb2x1bW5zMzogY29sdW1uczMsCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICBjb2x1bW5zSW5zdGFsbDogW10sCiAgICAgIGNvbHVtbnNJbnN0YWwyOiBbXSwKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyCiAgICAgIH0sCiAgICAgIGdyaWRCdG46IHsKICAgICAgICB4bDogNCwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogOCwKICAgICAgICB4czogOAogICAgICB9LAogICAgICAvL+iHquWumuS5ieeVmeiogOS4i+aLiemAieaLqQogICAgICBDdXN0b21MaXN0OiBDdXN0b21MaXN0LAogICAgICAvL+iHquWumuS5ieeVmeiogOWGheWuuQogICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGRpc2tfaW5mbzogJycsCiAgICAgICAgLy/ljaHlr4bnsbvlnosKICAgICAgICBsb2dpc3RpY3M6IFsnMSddLAogICAgICAgIC8v6YCJ5oup54mp5rWB5pa55byPCiAgICAgICAgZnJlaWdodDogMiwKICAgICAgICAvL+i/kOi0ueiuvue9rgogICAgICAgIHBvc3RhZ2U6IDAsCiAgICAgICAgLy/orr7nva7ov5DotLnph5Hpop0KICAgICAgICByZWNvbW1lbmQ6IFtdLAogICAgICAgIC8v5ZWG5ZOB5o6o6I2QCiAgICAgICAgcHJlc2FsZV9kYXk6IDEsCiAgICAgICAgLy/pooTllK7lj5HotKfml7bpl7Qt57uT5p2fCiAgICAgICAgcHJlc2FsZTogZmFsc2UsCiAgICAgICAgLy/pooTllK7llYblk4HlvIDlhbMKICAgICAgICBpc19saW1pdDogZmFsc2UsCiAgICAgICAgbGltaXRfdHlwZTogMCwKICAgICAgICBsaW1pdF9udW06IDAsCiAgICAgICAgdmlwX3Byb2R1Y3Q6IGZhbHNlLAogICAgICAgIC8v5LuY6LS55Lya5ZGY5LiT5bGe5byA5YWzCiAgICAgICAgY3VzdG9tX2Zvcm06IFtdLAogICAgICAgIC8v6Ieq5a6a5LmJ55WZ6KiACiAgICAgICAgc3RvcmVfbmFtZTogJycsCiAgICAgICAgY2F0ZV9pZDogW10sCiAgICAgICAgbGFiZWxfaWQ6IFtdLAogICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgIHVuaXRfbmFtZTogJycsCiAgICAgICAgc3RvcmVfaW5mbzogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIHJlY29tbWVuZF9pbWFnZTogJycsCiAgICAgICAgc2xpZGVyX2ltYWdlOiBbXSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgZmljdGk6IDAsCiAgICAgICAgZ2l2ZV9pbnRlZ3JhbDogMCwKICAgICAgICBzb3J0OiAwLAogICAgICAgIGlzX3Nob3c6IDEsCiAgICAgICAgaXNfZ2lmdDogMCwKICAgICAgICAvLyDlvIDlkK/pgIHnpLzlk4EKICAgICAgICBnaWZ0X3ByaWNlOiAwLAogICAgICAgIGlzX2hvdDogMCwKICAgICAgICBpc19iZW5lZml0OiAwLAogICAgICAgIGlzX2Jlc3Q6IDAsCiAgICAgICAgaXNfbmV3OiAwLAogICAgICAgIGlzX2dvb2Q6IDAsCiAgICAgICAgaXNfcG9zdGFnZTogMCwKICAgICAgICBpc19zdWI6IFtdLAogICAgICAgIHJlY29tbWVuZF9saXN0OiBbXSwKICAgICAgICBwYXJhbXNfbGlzdDogW10sCiAgICAgICAgLy/llYblk4Hlj4LmlbAKICAgICAgICB2aXJ0dWFsX3R5cGU6IDAsCiAgICAgICAgLy8gaXNfc3ViOiAwLAogICAgICAgIGlkOiAwLAogICAgICAgIHNwZWNfdHlwZTogMCwKICAgICAgICBpc192aXJ0dWFsOiAwLAogICAgICAgIHZpZGVvX2xpbms6ICcnLAogICAgICAgIC8vIHBvc3RhZ2U6IDAsCiAgICAgICAgdGVtcF9pZDogJycsCiAgICAgICAgYXR0cnM6IFtdLAogICAgICAgIGl0ZW1zOiBbewogICAgICAgICAgcGljOiAnJywKICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgY29zdDogMCwKICAgICAgICAgIG90X3ByaWNlOiAwLAogICAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgICBiYXJfY29kZTogJycsCiAgICAgICAgICBiYXJfY29kZV9udW1iZXI6ICcnCiAgICAgICAgfV0sCiAgICAgICAgYWN0aXZpdHk6IFsn6buY6K6kJywgJ+enkuadgCcsICfnoI3ku7cnLCAn5ou85ZuiJ10sCiAgICAgICAgY291cG9uTmFtZTogW10sCiAgICAgICAgaGVhZGVyOiBbXSwKICAgICAgICBzZWxlY3RSdWxlOiAnJywKICAgICAgICBjb3Vwb25faWRzOiBbXSwKICAgICAgICBjb21tYW5kX3dvcmQ6ICcnLAogICAgICAgIG1pbl9xdHk6IDEsCiAgICAgICAgbGFiZWxfbGlzdDogW10sCiAgICAgICAgcHJvdGVjdGlvbl9saXN0OiBbXQogICAgICB9LAogICAgICBydWxlTGlzdDogW10sCiAgICAgIHRlbXBsYXRlTGlzdDogW10sCiAgICAgIGNyZWF0ZUJudDogdHJ1ZSwKICAgICAgc2hvd0lwdXQ6IGZhbHNlLAogICAgICBtYW55Rm9ybVZhbGlkYXRlOiBbXSwKICAgICAgLy8g5Y2V6KeE5qC86KGo5qC8ZGF0YQogICAgICBvbmVGb3JtVmFsaWRhdGU6IFt7CiAgICAgICAgcGljOiAnJywKICAgICAgICBwcmljZTogMCwKICAgICAgICBjb3N0OiAwLAogICAgICAgIG90X3ByaWNlOiAwLAogICAgICAgIHN0b2NrOiAwLAogICAgICAgIGJhcl9jb2RlOiAnJywKICAgICAgICBiYXJfY29kZV9udW1iZXI6ICcnLAogICAgICAgIHdlaWdodDogMCwKICAgICAgICB2b2x1bWU6IDAsCiAgICAgICAgYnJva2VyYWdlOiAwLAogICAgICAgIGJyb2tlcmFnZV90d286IDAsCiAgICAgICAgdmlwX3ByaWNlOiAwLAogICAgICAgIHZpcnR1YWxfbGlzdDogW10sCiAgICAgICAgY291cG9uX2lkOiAwCiAgICAgIH1dLAogICAgICBpbWFnZXM6IFtdLAogICAgICBpbWFnZXNUYWJsZTogJycsCiAgICAgIGN1cnJlbnRUYWI6ICcxJywKICAgICAgaXNDaG9pY2U6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICBhZGRWaXJ0dWFsTW9kZWw6IGZhbHNlLAogICAgICB0ZW1wbGF0ZTogZmFsc2UsCiAgICAgIHVwbG9hZExpc3Q6IFtdLAogICAgICB0cmVlU2VsZWN0OiBbXSwKICAgICAgcGljVGl0OiAnJywKICAgICAgdGFibGVJbmRleDogMCwKICAgICAgcnVsZVZhbGlkYXRlOiBSdWxlVmFsaWRhdGUsCiAgICAgIG1hbnlCcm9rZXJhZ2U6IHVuZGVmaW5lZCwKICAgICAgbWFueUJyb2tlcmFnZVR3bzogdW5kZWZpbmVkLAogICAgICBtYW55VmlwUHJpY2U6IHVuZGVmaW5lZCwKICAgICAgbWFueVZpcERpc2NvdW50OiB1bmRlZmluZWQsCiAgICAgIHVwbG9hZDogewogICAgICAgIHZpZGVvSW5nOiBmYWxzZSAvLyDmmK/lkKbmmL7npLrov5vluqbmnaHvvJsKICAgICAgfSwKICAgICAgdmlkZW9Jbmc6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrov5vluqbmnaHvvJsKICAgICAgcHJvZ3Jlc3M6IDAsCiAgICAgIC8vIOi/m+W6puadoem7mOiupDAKICAgICAgc3RvY2s6IDAsCiAgICAgIGRpc2tfaW5mbzogJycsCiAgICAgIHZpZGVvTGluazogJycsCiAgICAgIGF0dHJzOiBbXSwKICAgICAgYWN0aXZpdHk6IHsKICAgICAgICDpu5jorqQ6ICdyZWQnLAogICAgICAgIOenkuadgDogJ2JsdWUnLAogICAgICAgIOegjeS7tzogJ2dyZWVuJywKICAgICAgICDmi7zlm6I6ICd5ZWxsb3cnCiAgICAgIH0sCiAgICAgIGNvdXBvbk5hbWU6IFtdLAogICAgICB1cGRhdGVJZHM6IFtdLAogICAgICB1cGRhdGVOYW1lOiBbXSwKICAgICAgY291cG9uSWRzOiAnJywKICAgICAgY291cG9uTmFtZXM6IFtdLAogICAgICByYWtlQmFjazogW3sKICAgICAgICB0aXRsZTogJ+S4gOe6p+i/lOS9oyjlhYMpJywKICAgICAgICBzbG90OiAnYnJva2VyYWdlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+S6jOe6p+i/lOS9oyjlhYMpJywKICAgICAgICBzbG90OiAnYnJva2VyYWdlX3R3bycsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHdpZHRoOiA5NQogICAgICB9XSwKICAgICAgbWVtYmVyOiBbewogICAgICAgIHRpdGxlOiAn5Lya5ZGY5Lu3JywKICAgICAgICBzbG90OiAndmlwX3ByaWNlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+S8muWRmOaKmOaJoycsCiAgICAgICAgc2xvdDogJ3ZpcF9wcm9wb3J0aW9uJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDk1CiAgICAgIH1dLAogICAgICBjb2x1bW5zSW5zdGFsTTogW10sCiAgICAgIG1vdmVJbmRleDogJycsCiAgICAgIGFkZFZhbHVlOiAnJywKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHR5cGVDb25maWc6IFtdLAogICAgICBnb29kc1R5cGU6IFtdLAogICAgICBwYXJhbXNUeXBlTGlzdDogW10sCiAgICAgIHBhcmFtc1R5cGU6IG51bGwsCiAgICAgIGNhblNlbDogdHJ1ZSwKICAgICAgLy8g6KeE5qC85Zu+54mH5re75Yqg5Yik5patCiAgICAgIGNoYW5nZUF0dHJWYWx1ZTogJycsCiAgICAgIC8v5L+u5pS555qE6KeE5qC85YC8CiAgICAgIHRhYmxlS2V5OiAwLAogICAgICBwcm90ZWN0aW9uTGlzdDogW10sCiAgICAgIC8vIOacjeWKoeS/nemanAogICAgICBsYWJlbExpc3Q6IFtdLAogICAgICB0aWxlTGFiZWxMaXN0OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSkpLCB7fSwgewogICAgbGFiZWxXaWR0aDogZnVuY3Rpb24gbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAnMTIwcHgnOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb246IGZ1bmN0aW9uIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfSwKICAgIGxhYmVsQm90dG9tOiBmdW5jdGlvbiBsYWJlbEJvdHRvbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAnMTVweCc7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIHR5cGVDb25maWc6IGZ1bmN0aW9uIHR5cGVDb25maWcodmFsKSB7CiAgICAgIGlmICh2YWwubGVuZ3RoKSB7CiAgICAgICAgLy8g5a+5dmlydHVhbOS4reeahGlk562J5LqOdmFs5Lit55qEaWTnmoQKICAgICAgICB0aGlzLmdvb2RzVHlwZSA9IHRoaXMudmlydHVhbC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB2YWwuaW5jbHVkZXMoaXRlbS5pZCArICcnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdvb2RzVHlwZSA9IHRoaXMudmlydHVhbDsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlUm91dGVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB0aGlzLmJ1cy4kZW1pdCgnb25UYWdzVmlld1JlZnJlc2hSb3V0ZXJWaWV3JywgdGhpcy4kcm91dGUucGF0aCk7CiAgICBuZXh0KCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jb2x1bW5zID0gdGhpcy5jb2x1bW5zMi5zbGljZSgwLCA4KTsKICAgIHRoaXMuZ2V0VG9rZW4oKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Lm4pIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEoX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gJzAnICYmIF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubiA9IDE7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRJbmZvKCk7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcwJykgewogICAgICAgICAgICAgIF90aGlzLmdldFByb2R1Y3RDYWNoZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLmdldHByb2R1Y3RMYWJlbFVzZUxpc3RBcGkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBpZiAoX3RoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUpIHsKICAgICAgICAgICAgICBfdGhpcy5tb2RhbHMgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzLnR5cGUgPSBfdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy50eXBlID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5nb29kc0NhdGVnb3J5KCk7CiAgICAgICAgICAgIF90aGlzLnByb2R1Y3RHZXRSdWxlKCk7CiAgICAgICAgICAgIF90aGlzLnByb2R1Y3RHZXRUZW1wbGF0ZSgpOwogICAgICAgICAgICBfdGhpcy5wYXJhbXNHZXRUZW1wbGF0ZSgpOwogICAgICAgICAgICBfdGhpcy51cGxvYWRUeXBlKCk7CiAgICAgICAgICAgIF90aGlzLnByb2R1Y3RDb25maWcoKTsKICAgICAgICAgICAgX3RoaXMud2F0Y2hBY3Rpdml0eSgpOwogICAgICAgICAgICBfdGhpcy5nZXRQcm90ZWN0aW9uTGlzdCgpOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdWN0Q2FjaGU6IGZ1bmN0aW9uIGdldFByb2R1Y3RDYWNoZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHByb2R1Y3RDYWNoZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuaW5mbzsKICAgICAgICBfdGhpczIuZ2V0cHJvZHVjdExhYmVsVXNlTGlzdEFwaSgpOwogICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkgewogICAgICAgICAgdmFyIGNhdGVfaWQgPSBkYXRhLmNhdGVfaWQubWFwKE51bWJlcik7CiAgICAgICAgICB2YXIgbGFiZWxfaWQgPSBkYXRhLmxhYmVsX2lkLm1hcChOdW1iZXIpOwogICAgICAgICAgX3RoaXMyLmF0dHJzID0gZGF0YS5pdGVtcyB8fCBbXTsKICAgICAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgICAgIGlmIChkYXRhLmNvdXBvbnMpIHsKICAgICAgICAgICAgZGF0YS5jb3Vwb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMyLmNvdXBvbk5hbWUgPSBkYXRhLmNvdXBvbnM7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlID0gZGF0YTsKICAgICAgICAgIF90aGlzMi5kYXRhTGFiZWwgPSBkYXRhLmxhYmVsX2lkOwogICAgICAgICAgX3RoaXMyLmZvcm1WYWxpZGF0ZS5jb3Vwb25faWRzID0gaWRzOwogICAgICAgICAgX3RoaXMyLnVwZGF0ZUlkcyA9IGlkczsKICAgICAgICAgIF90aGlzMi51cGRhdGVOYW1lID0gZGF0YS5jb3Vwb25zOwogICAgICAgICAgX3RoaXMyLmZvcm1WYWxpZGF0ZS5jYXRlX2lkID0gY2F0ZV9pZDsKICAgICAgICAgIF90aGlzMi5vbmVGb3JtVmFsaWRhdGUgPSBkYXRhLmF0dHJzOwogICAgICAgICAgX3RoaXMyLmdlbmVyYXRlSGVhZGVyKF90aGlzMi5hdHRycyk7CiAgICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLmxvZ2lzdGljcyA9IGRhdGEubG9naXN0aWNzIHx8IFsnMSddOwogICAgICAgICAgX3RoaXMyLmZvcm1WYWxpZGF0ZS5oZWFkZXIgPSBbXTsKICAgICAgICAgIF90aGlzMi5tYW55Rm9ybVZhbGlkYXRlID0gZGF0YS5hdHRyczsKICAgICAgICAgIF90aGlzMi5zcGVjX3R5cGUgPSBkYXRhLnNwZWNfdHlwZTsKICAgICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUuaXNfdmlydHVhbCA9IGRhdGEuaXNfdmlydHVhbDsKICAgICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0gPSBkYXRhLmN1c3RvbV9mb3JtIHx8IFtdOwogICAgICAgICAgaWYgKF90aGlzMi5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0ubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgX3RoaXMyLmN1c3RvbUJ0biA9IDE7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIuYXR0cnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmFkZF9waWMpIF90aGlzMi5jYW5TZWwgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMyLnZpcnR1YWxidG4oZGF0YS52aXJ0dWFsX3R5cGUsIDEpOwogICAgICAgICAgaWYgKGRhdGEuc3BlY190eXBlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzMi5tYW55Rm9ybVZhbGlkYXRlID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuY3JlYXRlQm50ID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMyLm9uZUZvcm1WYWxpZGF0ZSA9IFt7CiAgICAgICAgICAgICAgcGljOiBkYXRhLmltYWdlLAogICAgICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgICAgIGNvc3Q6IDAsCiAgICAgICAgICAgICAgb3RfcHJpY2U6IDAsCiAgICAgICAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgICAgICAgYmFyX2NvZGU6ICcnLAogICAgICAgICAgICAgIGJhcl9jb2RlX251bWJlcjogJycsCiAgICAgICAgICAgICAgd2VpZ2h0OiAwLAogICAgICAgICAgICAgIHZvbHVtZTogMCwKICAgICAgICAgICAgICBicm9rZXJhZ2U6IDAsCiAgICAgICAgICAgICAgYnJva2VyYWdlX3R3bzogMCwKICAgICAgICAgICAgICB2aXBfcHJpY2U6IDAsCiAgICAgICAgICAgICAgdmlydHVhbF9saXN0OiBbXSwKICAgICAgICAgICAgICBjb3Vwb25faWQ6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIud2F0Y2hBY3Rpdml0eSgpOwogICAgICAgICAgX3RoaXMyLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQcm90ZWN0aW9uTGlzdDogZnVuY3Rpb24gZ2V0UHJvdGVjdGlvbkxpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBwcm9kdWN0UHJvdGVjdGlvbkxpc3RBcGkoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGltaXQ6IDAsCiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5wcm90ZWN0aW9uTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGdldHByb2R1Y3RMYWJlbFVzZUxpc3RBcGk6IGZ1bmN0aW9uIGdldHByb2R1Y3RMYWJlbFVzZUxpc3RBcGkoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBwcm9kdWN0TGFiZWxVc2VMaXN0QXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5ZCI5bm25pWw57uE5Lit5omA5pyJ55qEbGlzdAogICAgICAgIF90aGlzNC50aWxlTGFiZWxMaXN0ID0gcmVzLmRhdGEuZmxhdE1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ubGlzdDsKICAgICAgICB9KTsKICAgICAgICB2YXIgbGFiZWxMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgaWYgKF90aGlzNC5mb3JtVmFsaWRhdGUubGFiZWxfbGlzdC5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUubGFiZWxfbGlzdC5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIGxhYmVsTGlzdC5tYXAoZnVuY3Rpb24gKHJlKSB7CiAgICAgICAgICAgICAgcmUubGlzdC5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICBpZiAobGFiZWwuaWQgPT09IGVsKSB7CiAgICAgICAgICAgICAgICAgIGxhYmVsLmFjdGl2ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBsYWJlbC5hY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGFiZWxMaXN0Lm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgZWwubGlzdC5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgbGFiZWwuYWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIF90aGlzNC5sYWJlbExpc3QgPSBsYWJlbExpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFByb3RlY3Rpb246IGZ1bmN0aW9uIGFkZFByb3RlY3Rpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiB0aGlzLiRyb3V0ZVByb1N0ciArICcvcHJvZHVjdC9wcm90ZWN0aW9uL2xpc3QnCiAgICAgIH0pOwogICAgfSwKICAgIHByb2R1Y3RDb25maWc6IGZ1bmN0aW9uIHByb2R1Y3RDb25maWcoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBnZXRQcm9kdWN0VHlwZUNvbmZpZygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS50eXBlQ29uZmlnID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgcmV0dXJuIGlzRmlsZVVwbG9hZChmaWxlKTsKICAgIH0sCiAgICAvLyDliIbniYfkuIrkvKAKICAgIHZpZGVvU2F2ZVRvVXJsOiBmdW5jdGlvbiB2aWRlb1NhdmVUb1VybChmaWxlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICBpZiAoaXNWaWRlb1VwbG9hZChmaWxlKSkgewogICAgICAgIHVwbG9hZEJ5UGllY2VzKHsKICAgICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgICAvLyDop4bpopHlrp7kvZMKICAgICAgICAgIHBpZWNlU2l6ZTogMywKICAgICAgICAgIC8vIOWIhueJh+Wkp+WwjwogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgICAgIF90aGlzNi5mb3JtVmFsaWRhdGUudmlkZW9fbGluayA9IGRhdGEuZmlsZV9wYXRoOwogICAgICAgICAgICBfdGhpczYucHJvZ3Jlc3MgPSAxMDA7CiAgICAgICAgICB9LAogICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGUpIHsKICAgICAgICAgICAgX3RoaXM2LiRtZXNzYWdlLmVycm9yKGUubXNnKTsKICAgICAgICAgIH0sCiAgICAgICAgICB1cGxvYWRpbmc6IGZ1bmN0aW9uIHVwbG9hZGluZyhjaHVuaywgYWxsQ2h1bmspIHsKICAgICAgICAgICAgX3RoaXM2LnZpZGVvSW5nID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIHN0ID0gTWF0aC5mbG9vcihjaHVuayAvIGFsbENodW5rICogMTAwKTsKICAgICAgICAgICAgX3RoaXM2LnByb2dyZXNzID0gc3Q7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIC8vIOexu+Wei+mAieaLqS/loavlhaXlhoXlrrnliKTmlq0KICAgIHZpcnR1YWxidG46IGZ1bmN0aW9uIHZpcnR1YWxidG4oaW5kZXgsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIGlmICh0eXBlICE9IDEpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign57yW6L6R5ZWG5ZOB5LiN5pSv5oyB5YiH5o2i5ZWG5ZOB57G75Z6LJyk7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfc3ViID0gW107CiAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgIGlmIChpZCkgewogICAgICAgICAgY2hlY2tBY3Rpdml0eUFwaShpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7fSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczcuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9IF90aGlzNy5zcGVjX3R5cGU7CiAgICAgICAgICAgIF90aGlzNy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09IDEpIHsKICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZSgxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8g5a6a5LmJ5Z+656GA5ZWG5ZOB5ZKM6Jma5ouf5ZWG5ZOB55qE5qCH562+6aG16YWN572uCiAgICAgIHZhciBiYXNlSGVhZFRhYnMgPSBbewogICAgICAgIHRpdDogJ+WfuuehgOS/oeaBrycsCiAgICAgICAgbmFtZTogJzEnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfop4TmoLzlupPlrZgnLAogICAgICAgIG5hbWU6ICcyJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn5ZWG5ZOB6K+m5oOFJywKICAgICAgICBuYW1lOiAnMycKICAgICAgfSwgewogICAgICAgIHRpdDogJ+eJqea1geiuvue9ricsCiAgICAgICAgbmFtZTogJzQnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfkvJrlkZjku7cv5L2j6YeRJywKICAgICAgICBuYW1lOiAnNScKICAgICAgfSwgewogICAgICAgIHRpdDogJ+iQpemUgOiuvue9ricsCiAgICAgICAgbmFtZTogJzYnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICflhbbku5borr7nva4nLAogICAgICAgIG5hbWU6ICc3JwogICAgICB9XTsKICAgICAgdmFyIHZpcnR1YWxIZWFkVGFicyA9IFt7CiAgICAgICAgdGl0OiAn5Z+656GA5L+h5oGvJywKICAgICAgICBuYW1lOiAnMScKICAgICAgfSwgewogICAgICAgIHRpdDogJ+inhOagvOW6k+WtmCcsCiAgICAgICAgbmFtZTogJzInCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfllYblk4Hor6bmg4UnLAogICAgICAgIG5hbWU6ICczJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn5Lya5ZGY5Lu3L+S9o+mHkScsCiAgICAgICAgbmFtZTogJzQnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfokKXplIDorr7nva4nLAogICAgICAgIG5hbWU6ICc1JwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn5YW25LuW6K6+572uJywKICAgICAgICBuYW1lOiAnNicKICAgICAgfV07CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAvLyDmma7pgJrllYblk4EKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDA7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gMDsKICAgICAgICAgIHRoaXMuaGVhZFRhYiA9IGJhc2VIZWFkVGFiczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMToKICAgICAgICAgIC8vIOWNoeWvhi/nvZHnm5jllYblk4EKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDE7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wb3N0YWdlID0gMDsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX3ZpcnR1YWwgPSAxOwogICAgICAgICAgdGhpcy5oZWFkVGFiID0gdmlydHVhbEhlYWRUYWJzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgLy8g5LyY5oOg5Yi45ZWG5ZOBCiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPSAyOwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfdmlydHVhbCA9IDE7CiAgICAgICAgICB0aGlzLmhlYWRUYWIgPSB2aXJ0dWFsSGVhZFRhYnM7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICAvLyDomZrmi5/llYblk4EKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDM7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gMTsKICAgICAgICAgIHRoaXMuaGVhZFRhYiA9IHZpcnR1YWxIZWFkVGFiczsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgLy8g5paw5aKe5YiG57G7CiAgICBhZGRDYXRlOiBmdW5jdGlvbiBhZGRDYXRlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHByb2R1Y3RDcmVhdGVBcGkoKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOC5nb29kc0NhdGVnb3J5KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeJqea1geaWueW8j+mAieaLqQogICAgbG9naXN0aWNzQnRuOiBmdW5jdGlvbiBsb2dpc3RpY3NCdG4oZSkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3MgPSBlOwogICAgfSwKICAgIC8vIOaWsOWinuagh+etvgogICAgYWRkTGFiZWw6IGZ1bmN0aW9uIGFkZExhYmVsKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHVzZXJMYWJlbEFkZEFwaSgwKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOS51c2VyTGFiZWwoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCJ5oup5qCH562+CiAgICBhZGRHb29kc1RhZzogZnVuY3Rpb24gYWRkR29vZHNUYWcoKSB7CiAgICAgIHRoaXMudGFnU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g6Ieq5a6a5LmJ55WZ6KiAIOW8gOWQr+WFs+mXrQogICAgY3VzdG9tTWVzc0J0bjogZnVuY3Rpb24gY3VzdG9tTWVzc0J0bihlKSB7CiAgICAgIGlmICghZSkgewogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtID0gW107CiAgICAgIH0KICAgICAgdGhpcy5jdXN0b21CdG4gPSBlOwogICAgfSwKICAgIC8vIOiHquWumuS5ieeVmeiogCDmlrDlop7ooajljZUKICAgIGFkZGN1c3RvbTogZnVuY3Rpb24gYWRkY3VzdG9tKCkgewogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0ubGVuZ3RoID4gOSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pyA5aSa5re75YqgMTDmnaEnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jdXN0b21fZm9ybS5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgIGxhYmVsOiAndGV4dCcsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBzdGF0dXM6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbGN1c3RvbTogZnVuY3Rpb24gZGVsY3VzdG9tKGluZGV4KSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g6aKE5ZSu5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWU6IGZ1bmN0aW9uIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnByZXNhbGVfdGltZSA9IGU7CiAgICB9LAogICAgLy8g5ZWG5ZOB6K+m5oOFCiAgICBnZXRFZGl0b3JDb250ZW50OiBmdW5jdGlvbiBnZXRFZGl0b3JDb250ZW50KGRhdGEpIHsKICAgICAgdGhpcy5jb250ZW50ID0gZGF0YTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDkuIrkvKDlpLTpg6h0b2tlbgogICAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkgewogICAgICB0aGlzLmhlYWRlclsnQXV0aG9yaS16YXRpb24nXSA9ICdCZWFyZXIgJyArIGdldENvb2tpZXMoJ3Rva2VuJyk7CiAgICB9LAogICAgLy8g5a+85YWl5Y2h5a+GCiAgICB1cEZpbGU6IGZ1bmN0aW9uIHVwRmlsZShyZXMpIHsKICAgICAgdmFyIF90aGlzMCA9IHRoaXM7CiAgICAgIGltcG9ydENhcmQoewogICAgICAgIGZpbGU6IHJlcy5kYXRhLnNyYwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczAudmlydHVhbExpc3QgPSBfdGhpczAudmlydHVhbExpc3QuY29uY2F0KHJlcy5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bop4bpopHkuIrkvKDnsbvlnosKICAgIHVwbG9hZFR5cGU6IGZ1bmN0aW9uIHVwbG9hZFR5cGUoKSB7CiAgICAgIHZhciBfdGhpczEgPSB0aGlzOwogICAgICBfdXBsb2FkVHlwZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMS51cGxvYWRfdHlwZSA9IHJlcy5kYXRhLnVwbG9hZF90eXBlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJbmlbDmja7lsZXnpLoKICAgIGluZm9EYXRhOiBmdW5jdGlvbiBpbmZvRGF0YShkYXRhLCBpc0NvcHkpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICB2YXIgY2F0ZV9pZCA9IGRhdGEuY2F0ZV9pZC5tYXAoTnVtYmVyKTsKICAgICAgdmFyIGxhYmVsX2lkID0gZGF0YS5sYWJlbF9pZC5tYXAoTnVtYmVyKTsKICAgICAgdGhpcy5hdHRycyA9IGRhdGEuaXRlbXMgfHwgW107CiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgZGF0YS5jb3Vwb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSBkYXRhOwogICAgICB0aGlzLnNlbGV0VmlkZW8gPSBkYXRhLnNlbGV0VmlkZW87CiAgICAgIHRoaXMuY29udGVudHMgPSBkYXRhLmRlc2NyaXB0aW9uOwogICAgICB0aGlzLmNvdXBvbk5hbWUgPSBkYXRhLmNvdXBvbnM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvdXBvbl9pZHMgPSBpZHM7CiAgICAgIHRoaXMudXBkYXRlSWRzID0gaWRzOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGEubGFiZWxfaWQ7CiAgICAgIHRoaXMudXBkYXRlTmFtZSA9IGRhdGEuY291cG9uczsKICAgICAgdGhpcy52aXJ0dWFsYnRuKGRhdGEudmlydHVhbF90eXBlLCAxKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUubG9naXN0aWNzID0gZGF0YS5sb2dpc3RpY3MgfHwgWycxJ107CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtID0gZGF0YS5jdXN0b21fZm9ybSB8fCBbXTsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgdGhpcy5jdXN0b21CdG4gPSAxOwogICAgICB9CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNhdGVfaWQgPSBjYXRlX2lkOwogICAgICBpZiAoZGF0YS5hdHRyKSB7CiAgICAgICAgdGhpcy5vbmVGb3JtVmFsaWRhdGUgPSBbZGF0YS5hdHRyXTsKICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZVswXS52aXBfcHJvcG9ydGlvbiA9ICh0aGlzLm9uZUZvcm1WYWxpZGF0ZVswXS52aXBfcHJpY2UgLyB0aGlzLm9uZUZvcm1WYWxpZGF0ZVswXS5wcmljZSAqIDEwMCkudG9GaXhlZCgyKTsKICAgICAgfQogICAgICB0aGlzLmdldHByb2R1Y3RMYWJlbFVzZUxpc3RBcGkoKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaGVhZGVyID0gW107CiAgICAgIHRoaXMuc3BlY190eXBlID0gZGF0YS5zcGVjX3R5cGU7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9IHRoaXMuc3BlY190eXBlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gZGF0YS5pc192aXJ0dWFsOwogICAgICB0aGlzLmF0dHJzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmFkZF9waWMpIF90aGlzMTAuY2FuU2VsID0gZmFsc2U7CiAgICAgIH0pOwogICAgICBpZiAoZGF0YS5zcGVjX3R5cGUgPT09IDApIHsKICAgICAgICB0aGlzLm1hbnlGb3JtVmFsaWRhdGUgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNyZWF0ZUJudCA9IHRydWU7CiAgICAgICAgdGhpcy5vbmVGb3JtVmFsaWRhdGUgPSBbewogICAgICAgICAgcGljOiAnJywKICAgICAgICAgIHByaWNlOiAwLAogICAgICAgICAgY29zdDogMCwKICAgICAgICAgIG90X3ByaWNlOiAwLAogICAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgICBiYXJfY29kZTogJycsCiAgICAgICAgICBiYXJfY29kZV9udW1iZXI6ICcnLAogICAgICAgICAgd2VpZ2h0OiAwLAogICAgICAgICAgdm9sdW1lOiAwLAogICAgICAgICAgYnJva2VyYWdlOiAwLAogICAgICAgICAgYnJva2VyYWdlX3R3bzogMCwKICAgICAgICAgIHZpcF9wcmljZTogMCwKICAgICAgICAgIHZpcnR1YWxfbGlzdDogW10sCiAgICAgICAgICBjb3Vwb25faWQ6IDAKICAgICAgICB9XTsKICAgICAgICB0aGlzLmdlbmVyYXRlSGVhZGVyKHRoaXMuYXR0cnMpOwogICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5vbmVGb3JtQmF0Y2gpLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5hdHRycykpOwogICAgICB9CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczEwLmNoZWNrQWxsR3JvdXAoZGF0YS5pc19zdWIpOwogICAgICB9LCAxMDAwKTsKICAgICAgdGhpcy53YXRjaEFjdGl2aXR5KCk7CiAgICB9LAogICAgLy/lhbPpl63mt5jlrp3lvLnnqpflubbnlJ/miJDmlbDmja7vvJsKICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoZGF0YSkgewogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgICB0aGlzLmluZm9EYXRhKGRhdGEsIDEpOwogICAgfSwKICAgIGNoZWNrTW92ZTogZnVuY3Rpb24gY2hlY2tNb3ZlKGV2dCkgewogICAgICB0aGlzLm1vdmVJbmRleCA9IGV2dC5kcmFnZ2VkQ29udGV4dC5pbmRleDsKICAgIH0sCiAgICBlbmQ6IGZ1bmN0aW9uIGVuZCgpIHsKICAgICAgdGhpcy5tb3ZlSW5kZXggPSAnJzsKICAgICAgdGhpcy5nZW5lcmF0ZSgxKTsKICAgIH0sCiAgICAvLyDljZXni6zorr7nva7kvJrlkZjorr7nva4KICAgIGNoZWNrQWxsR3JvdXBDaGFuZ2U6IGZ1bmN0aW9uIGNoZWNrQWxsR3JvdXBDaGFuZ2UoZGF0YSkgewogICAgICB0aGlzLmNoZWNrQWxsR3JvdXAoZGF0YSk7CiAgICB9LAogICAgY2hlY2tBbGxHcm91cDogZnVuY3Rpb24gY2hlY2tBbGxHcm91cChkYXRhKSB7CiAgICAgIHZhciBlbmRMZW5ndGggPSB0aGlzLmF0dHJzLmxlbmd0aCArIDM7CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5zcGVjX3R5cGUgPT09IDApIHsKICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbGwgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIGVuZExlbmd0aCkuY29uY2F0KHRoaXMucmFrZUJhY2spLmNvbmNhdCh0aGlzLm1lbWJlcik7CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmluZGV4T2YoMCkgPiAtMSkgewogICAgICAgICAgdGhpcy5jb2x1bW5zSW5zdGFsbCA9IHRoaXMuY29sdW1uczIuc2xpY2UoMCwgZW5kTGVuZ3RoKS5jb25jYXQodGhpcy5tZW1iZXIpOwogICAgICAgIH0gZWxzZSBpZiAoZGF0YS5pbmRleE9mKDEpID4gLTEpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbGwgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIGVuZExlbmd0aCkuY29uY2F0KHRoaXMucmFrZUJhY2spOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNJbnN0YWxsID0gdGhpcy5jb2x1bW5zMi5zbGljZSgwLCBlbmRMZW5ndGgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbDIgPSB0aGlzLmNvbHVtbnNJbnN0YWxNLnNsaWNlKDAsIGVuZExlbmd0aCArIDEpLmNvbmNhdCh0aGlzLnJha2VCYWNrKS5jb25jYXQodGhpcy5tZW1iZXIpOwogICAgICAgIH0gZWxzZSBpZiAoZGF0YS5pbmRleE9mKDApID4gLTEpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbDIgPSB0aGlzLmNvbHVtbnNJbnN0YWxNLnNsaWNlKDAsIGVuZExlbmd0aCkuY29uY2F0KHRoaXMubWVtYmVyKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaW5kZXhPZigxKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNJbnN0YWwyID0gdGhpcy5jb2x1bW5zSW5zdGFsTS5zbGljZSgwLCBlbmRMZW5ndGgpLmNvbmNhdCh0aGlzLnJha2VCYWNrKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb2x1bW5zSW5zdGFsMiA9IHRoaXMuY29sdW1uc0luc3RhbE0uc2xpY2UoMCwgZW5kTGVuZ3RoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmt7vliqDkvJjmg6DliLgKICAgIGFkZENvdXBvbjogZnVuY3Rpb24gYWRkQ291cG9uKCkgewogICAgICB0aGlzLiRyZWZzLmNvdXBvblRlbXBsYXRlcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5jb3Vwb25UZW1wbGF0ZXMudGFibGVMaXN0KCk7CiAgICB9LAogICAgLy8g6KeE5qC85Lit5LyY5oOg5Yi45p+l55yLCiAgICBzZWU6IGZ1bmN0aW9uIHNlZShkYXRhLCBuYW1lLCBpbmRleCkgewogICAgICB0aGlzLnRhYk5hbWUgPSBuYW1lOwogICAgICB0aGlzLnRhYkluZGV4ID0gaW5kZXg7CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPT09IDEpIHsKICAgICAgICBpZiAoZGF0YS5kaXNrX2luZm8gIT0gJycpIHsKICAgICAgICAgIHRoaXMuZGlza190eXBlID0gMTsKICAgICAgICAgIHRoaXMuZGlza19pbmZvID0gZGF0YS5kaXNrX2luZm87CiAgICAgICAgICB0aGlzLnN0b2NrID0gZGF0YS5zdG9jazsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEudmlydHVhbF9saXN0Lmxlbmd0aCkgewogICAgICAgICAgdGhpcy5kaXNrX3R5cGUgPSAyOwogICAgICAgICAgdGhpcy52aXJ0dWFsTGlzdCA9IGRhdGEudmlydHVhbF9saXN0OwogICAgICAgIH0KICAgICAgICB0aGlzLmFkZFZpcnR1YWxNb2RlbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5nb29kc0NvdXBvbi5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRyZWZzLmdvb2RzQ291cG9uLnRhYmxlTGlzdCgzKTsKICAgICAgfQogICAgfSwKICAgIC8vIOS/ruaUueWIhuS9o+avlOS+iwogICAgY2hhbmdlRGlzY291bnQ6IGZ1bmN0aW9uIGNoYW5nZURpc2NvdW50KGluZGV4KSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnbWFueUZvcm1WYWxpZGF0ZSc7CiAgICAgIC8vIOagueaNruWIhuS9o+avlOS+iyB2aXBfcHJvcG9ydGlvbiDkv67mlLnkvJrlkZjku7cg5L+d55WZMuS9jeWwj+aVsAogICAgICB0aGlzW3R5cGVdW2luZGV4XS52aXBfcHJpY2UgPSAodGhpc1t0eXBlXVtpbmRleF0ucHJpY2UgKiAodGhpc1t0eXBlXVtpbmRleF0udmlwX3Byb3BvcnRpb24gLyAxMDApKS50b0ZpeGVkKDIpOwogICAgfSwKICAgIC8vIOS/ruaUueS8muWRmOS7twogICAgY2hhbmdlVmlwUHJpY2U6IGZ1bmN0aW9uIGNoYW5nZVZpcFByaWNlKGluZGV4KSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnbWFueUZvcm1WYWxpZGF0ZSc7CiAgICAgIC8vIOagueaNruS8muWRmOS7t+iuoeeul+WHuuWIhuS9o+avlOS+iwogICAgICB0aGlzW3R5cGVdW2luZGV4XS52aXBfcHJvcG9ydGlvbiA9ICh0aGlzW3R5cGVdW2luZGV4XS52aXBfcHJpY2UgLyB0aGlzW3R5cGVdW2luZGV4XS5wcmljZSAqIDEwMCkudG9GaXhlZCgyKTsKICAgIH0sCiAgICAvLyDmt7vliqDkvJjmg6DliLgKICAgIGFkZEdvb2RzQ291cG9uOiBmdW5jdGlvbiBhZGRHb29kc0NvdXBvbihpbmRleCwgbmFtZSkgewogICAgICB0aGlzLnRhYkluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMudGFiTmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuJHJlZnMuZ29vZHNDb3Vwb24uaXNUZW1wbGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuZ29vZHNDb3Vwb24udGFibGVMaXN0KDMpOwogICAgfSwKICAgIGFkZFZpcnR1YWw6IGZ1bmN0aW9uIGFkZFZpcnR1YWwoaW5kZXgsIG5hbWUpIHsKICAgICAgdGhpcy50YWJJbmRleCA9IGluZGV4OwogICAgICB0aGlzLnRhYk5hbWUgPSBuYW1lOwogICAgICB0aGlzLmFkZFZpcnR1YWxNb2RlbCA9IHRydWU7CiAgICB9LAogICAgLy8g5o+Q5Lqk5Y2h5a+G5L+h5oGvCiAgICB1cFZpcnR1YWw6IGZ1bmN0aW9uIHVwVmlydHVhbCgpIHsKICAgICAgaWYgKHRoaXMuZGlza190eXBlID09IDIpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmlydHVhbExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy52aXJ0dWFsTGlzdFtpXTsKICAgICAgICAgIGlmICghZWxlbWVudC52YWx1ZSkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXmiYDmnInljaHlr4YnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAndmlydHVhbF9saXN0JywgdGhpcy52aXJ0dWFsTGlzdCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ3N0b2NrJywgdGhpcy52aXJ0dWFsTGlzdC5sZW5ndGgpOwogICAgICAgIHRoaXMudmlydHVhbExpc3QgPSBbewogICAgICAgICAga2V5OiAnJywKICAgICAgICAgIHZhbHVlOiAnJwogICAgICAgIH1dOwogICAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICdkaXNrX2luZm8nLCAnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmRpc2tfaW5mby5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhpnljaHlr4bkv6Hmga8nKTsKICAgICAgICB9CiAgICAgICAgaWYgKCF0aGlzLnN0b2NrKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5bqT5a2Y5pWw6YePJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICdzdG9jaycsIE51bWJlcih0aGlzLnN0b2NrKSk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ3N0b2NrJywgTnVtYmVyKHRoaXMuc3RvY2spKTsKICAgICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAnZGlza19pbmZvJywgdGhpcy5kaXNrX2luZm8pOwogICAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICd2aXJ0dWFsX2xpc3QnLCBbXSk7CiAgICAgIH0KICAgICAgdGhpcy5hZGRWaXJ0dWFsTW9kZWwgPSBmYWxzZTsKICAgICAgdGhpcy5jbG9zZVZpcnR1YWwoKTsKICAgIH0sCiAgICAvLyAg5Yid5aeL5YyW5Y2h5a+G5pWw5o2u5L+h5oGvCiAgICBjbG9zZVZpcnR1YWw6IGZ1bmN0aW9uIGNsb3NlVmlydHVhbCgpIHsKICAgICAgdGhpcy5hZGRWaXJ0dWFsTW9kZWwgPSBmYWxzZTsKICAgICAgdGhpcy52aXJ0dWFsTGlzdCA9IFt7CiAgICAgICAga2V5OiAnJywKICAgICAgICB2YWx1ZTogJycKICAgICAgfV07CiAgICAgIHRoaXMuZGlza19pbmZvID0gJyc7CiAgICAgIHRoaXMuc3RvY2sgPSAwOwogICAgfSwKICAgIC8v5a+56LGh5pWw57uE5Y676YeN77ybCiAgICB1bmlxdWVBcnJheTogZnVuY3Rpb24gdW5pcXVlQXJyYXkoYXJyKSB7CiAgICAgIHZhciBzZWVuID0ge307CiAgICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pOyAvLyDkvb/nlKggSlNPTi5zdHJpbmdpZnkg55Sf5oiQ5ZSv5LiA6ZSuCiAgICAgICAgaWYgKHNlZW5ba2V5XSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWVuW2tleV0gPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bkvJjmg6DliLhpZOaVsOaNrgogICAgbmFtZUlkOiBmdW5jdGlvbiBuYW1lSWQoaWQsIG5hbWVzKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvdXBvbl9pZHMgPSBpZDsKICAgICAgdGhpcy5jb3Vwb25OYW1lID0gdGhpcy51bmlxdWVBcnJheShuYW1lcyk7CiAgICB9LAogICAgLy8g6I635Y+W5LyY5oOg5Yi45L+h5oGvCiAgICBnb29kc0NvdXBvbklkOiBmdW5jdGlvbiBnb29kc0NvdXBvbklkKGRhdGEpIHsKICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ2NvdXBvbl9pZCcsIGRhdGEuaWQpOwogICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAnY291cG9uX25hbWUnLCBkYXRhLnRpdGxlKTsKICAgICAgdGhpcy4kcmVmcy5nb29kc0NvdXBvbi5pc1RlbXBsYXRlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKG5hbWUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5jb3Vwb25OYW1lLmluZGV4T2YobmFtZSk7CiAgICAgIHRoaXMuY291cG9uTmFtZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB2YXIgY291cG9uSWRzID0gdGhpcy5mb3JtVmFsaWRhdGUuY291cG9uX2lkczsKICAgICAgY291cG9uSWRzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMudXBkYXRlSWRzID0gY291cG9uSWRzOwogICAgICB0aGlzLnVwZGF0ZU5hbWUgPSB0aGlzLmNvdXBvbk5hbWU7CiAgICB9LAogICAgLy8g5re75Yqg6L+Q6LS55qih5p2/CiAgICBhZGRUZW1wOiBmdW5jdGlvbiBhZGRUZW1wKCkgewogICAgICB0aGlzLiRyZWZzLnRlbXBsYXRlcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRWaWRlbzogZnVuY3Rpb24gYWRkVmlkZW8oKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdGhpcy4kdmlkZW9Nb2RhbChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTEuZm9ybVZhbGlkYXRlLnZpZGVvX2xpbmsgPSBlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTop4bpopHvvJsKICAgIGRlbFZpZGVvOiBmdW5jdGlvbiBkZWxWaWRlbygpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybVZhbGlkYXRlLCAndmlkZW9fbGluaycsICcnKTsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdwcm9ncmVzcycsIDApOwogICAgICB0aGlzLnZpZGVvSW5nID0gZmFsc2U7CiAgICAgIHRoaXMudXBsb2FkLnZpZGVvSW5nID0gZmFsc2U7CiAgICB9LAogICAgemhfdXBsb2FkRmlsZTogZnVuY3Rpb24gemhfdXBsb2FkRmlsZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZXRWaWRlbyA9PSAxKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudmlkZW9fbGluayA9IHRoaXMudmlkZW9MaW5rOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMucmVmaWQuY2xpY2soKTsKICAgICAgfQogICAgfSwKICAgIC8vIOS4iuS8oOinhumikQogICAgemhfdXBsb2FkRmlsZV9jaGFuZ2U6IGZ1bmN0aW9uIHpoX3VwbG9hZEZpbGVfY2hhbmdlKGV2ZmlsZSkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIHZhciBzdWZmaXggPSBldmZpbGUudGFyZ2V0LmZpbGVzWzBdLm5hbWUuc3Vic3RyKGV2ZmlsZS50YXJnZXQuZmlsZXNbMF0ubmFtZS5pbmRleE9mKCcuJykpOwogICAgICBpZiAoc3VmZml4LmluZGV4T2YoJy5tcDQnKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+q6IO95LiK5LygTVA05paH5Lu2Jyk7CiAgICAgIH0KICAgICAgdmFyIHR5cGVzID0gewogICAgICAgIGtleTogZXZmaWxlLnRhcmdldC5maWxlc1swXS5uYW1lLAogICAgICAgIGNvbnRlbnRUeXBlOiBldmZpbGUudGFyZ2V0LmZpbGVzWzBdLnR5cGUKICAgICAgfTsKICAgICAgcHJvZHVjdEdldFRlbXBLZXlzQXBpKHR5cGVzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEyLiR2aWRlb0Nsb3VkLnZpZGVvVXBsb2FkKHsKICAgICAgICAgIHR5cGU6IHJlcy5kYXRhLnR5cGUsCiAgICAgICAgICBldmZpbGU6IGV2ZmlsZSwKICAgICAgICAgIHJlczogcmVzLAogICAgICAgICAgdXBsb2FkaW5nOiBmdW5jdGlvbiB1cGxvYWRpbmcoc3RhdHVzLCBwcm9ncmVzcykgewogICAgICAgICAgICB0aGlzLnVwbG9hZC52aWRlb0luZyA9IHN0YXR1czsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDEwMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMxMi5mb3JtVmFsaWRhdGUudmlkZW9fbGluayA9IHJlcy51cmw7CiAgICAgICAgICBfdGhpczEyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+inhumikeS4iuS8oOaIkOWKnycpOwogICAgICAgICAgX3RoaXMxMi51cGxvYWQudmlkZW9JbmcgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczEyLiRtZXNzYWdlLmVycm9yKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEyLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkuIDpobXvvJsKICAgIHVwVGFiOiBmdW5jdGlvbiB1cFRhYigpIHsKICAgICAgdGhpcy5jdXJyZW50VGFiID0gKE51bWJlcih0aGlzLmN1cnJlbnRUYWIpIC0gMSkudG9TdHJpbmcoKTsKICAgIH0sCiAgICAvLyDkuIvkuIDpobXvvJsKICAgIGRvd25UYWI6IGZ1bmN0aW9uIGRvd25UYWIoKSB7CiAgICAgIHRoaXMuY3VycmVudFRhYiA9IChOdW1iZXIodGhpcy5jdXJyZW50VGFiKSArIDEpLnRvU3RyaW5nKCk7CiAgICB9LAogICAgLy8g5bGe5oCn5by556qX5Zue6LCD5Ye95pWw77ybCiAgICB1c2VyU2VhcmNoczogZnVuY3Rpb24gdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMucHJvZHVjdEdldFJ1bGUoKTsKICAgIH0sCiAgICAvLyDmt7vliqDop4TliJnvvJsKICAgIGFkZFJ1bGU6IGZ1bmN0aW9uIGFkZFJ1bGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkYXR0ci5tb2RhbCA9IHRydWU7CiAgICB9LAogICAgLy8g5om56YeP6K6+572u5YiG5L2j77ybCiAgICBicm9rZXJhZ2VTZXRVcDogZnVuY3Rpb24gYnJva2VyYWdlU2V0VXAoKSB7CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5pc19zdWIuaW5kZXhPZigxKSA+IC0xKSB7CiAgICAgICAgaWYgKHRoaXMubWFueUJyb2tlcmFnZSA8PSAwIHx8IHRoaXMubWFueUJyb2tlcmFnZVR3byA8PSAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ6L+U5L2j6YeR6aKd5ZCO6L+b6KGM5om56YeP5re75YqgJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmlzX3N1Yi5pbmRleE9mKDApID4gLTEpIHsKICAgICAgICBpZiAodGhpcy5tYW55VmlwUHJpY2UgPD0gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeS8muWRmOS7t+WQjui/m+ihjOaJuemHj+a3u+WKoCcpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuaXNfc3ViLmxlbmd0aCA9PT0gMikgewogICAgICAgIGlmICh0aGlzLm1hbnlCcm9rZXJhZ2UgPD0gMCB8fCB0aGlzLm1hbnlCcm9rZXJhZ2VUd28gPD0gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWujOmHkemineWQjui/m+ihjOaJuemHj+a3u+WKoCcpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5tYW55VmlwUHJpY2UgPiAwICYmIHRoaXMubWFueVZpcERpc2NvdW50ID4gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S8muWRmOS7t+WSjOS8muWRmOaKmOaJo+WPquiDveS6jOmAieS4gOa3u+WKoCcpOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5tYW55Rm9ybVZhbGlkYXRlKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZhbCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdGhpcy5tYW55QnJva2VyYWdlICE9IHVuZGVmaW5lZCAmJiB0aGlzLiRzZXQodmFsLCAnYnJva2VyYWdlJywgdGhpcy5tYW55QnJva2VyYWdlKTsKICAgICAgICAgIHRoaXMubWFueUJyb2tlcmFnZVR3byAhPSB1bmRlZmluZWQgJiYgdGhpcy4kc2V0KHZhbCwgJ2Jyb2tlcmFnZV90d28nLCB0aGlzLm1hbnlCcm9rZXJhZ2VUd28pOwogICAgICAgICAgaWYgKHRoaXMubWFueVZpcFByaWNlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAndmlwX3ByaWNlJywgdGhpcy5tYW55VmlwUHJpY2UpOwogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAndmlwX3Byb3BvcnRpb24nLCAodmFsLnZpcF9wcmljZSAvIHZhbC5wcmljZSAqIDEwMCkudG9GaXhlZCgyKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAndmlwX3Byb3BvcnRpb24nLCB0aGlzLm1hbnlWaXBEaXNjb3VudCk7CiAgICAgICAgICAgIHRoaXMuJHNldCh2YWwsICd2aXBfcHJpY2UnLCAodmFsLnByaWNlICogKHRoaXMubWFueVZpcERpc2NvdW50IC8gMTAwKSkudG9GaXhlZCgyKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmibnph4/orr7nva7kvJrlkZjku7cKICAgIHZpcFByaWNlU2V0VXA6IGZ1bmN0aW9uIHZpcFByaWNlU2V0VXAoKSB7CiAgICAgIGlmICh0aGlzLm1hbnlWaXBQcmljZSA8PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeS8muWRmOS7t+WcqOi/m+ihjOaJuemHj+a3u+WKoCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5tYW55Rm9ybVZhbGlkYXRlKSwKICAgICAgICAgIF9zdGVwMjsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHZhbCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ3ZpcF9wcmljZScsIHRoaXMubWFueVZpcFByaWNlKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmlrDlop7ljaHlr4YKICAgIGhhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnZpcnR1YWxMaXN0LnB1c2goewogICAgICAgIGtleTogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIneWni+WMluWNoeWvhuS/oeaBrwogICAgaW5pdFZpcnR1YWxEYXRhOiBmdW5jdGlvbiBpbml0VmlydHVhbERhdGEoc3RhdHVzKSB7CiAgICAgIHRoaXMudmlydHVhbExpc3QgPSBbewogICAgICAgIGtleTogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH1dOwogICAgfSwKICAgIHJlbW92ZVZpcnR1YWw6IGZ1bmN0aW9uIHJlbW92ZVZpcnR1YWwoaW5kZXgpIHsKICAgICAgdGhpcy52aXJ0dWFsTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8vIOa4heepuuaJuemHj+inhOagvOS/oeaBrwogICAgYmF0Y2hEZWw6IGZ1bmN0aW9uIGJhdGNoRGVsKCkgewogICAgICB0aGlzLm9uZUZvcm1CYXRjaCA9IFt7CiAgICAgICAgcGljOiAnJywKICAgICAgICBwcmljZTogdm9pZCAwLAogICAgICAgIGNvc3Q6IHZvaWQgMCwKICAgICAgICBvdF9wcmljZTogdm9pZCAwLAogICAgICAgIHN0b2NrOiB2b2lkIDAsCiAgICAgICAgYmFyX2NvZGU6ICcnLAogICAgICAgIGJhcl9jb2RlX251bWJlcjogJycsCiAgICAgICAgd2VpZ2h0OiB2b2lkIDAsCiAgICAgICAgdm9sdW1lOiB2b2lkIDAsCiAgICAgICAgdmlydHVhbF9saXN0OiBbXQogICAgICB9XTsKICAgIH0sCiAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKG5hbWUpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwogICAgICB0aGlzLmNyZWF0ZUJudCA9IHRydWU7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnNlbGVjdFJ1bGUgPSBuYW1lOwogICAgICB0aGlzLmF0dHJzID0gW107CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5zZWxlY3RSdWxlLnRyaW0oKS5sZW5ndGggPD0gMCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nlsZ7mgKcnKTsKICAgICAgfQogICAgICB0aGlzLnJ1bGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ucnVsZV9uYW1lID09PSBfdGhpczEzLmZvcm1WYWxpZGF0ZS5zZWxlY3RSdWxlKSB7CiAgICAgICAgICBfdGhpczEzLmF0dHJzID0gX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW0ucnVsZV92YWx1ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jYW5TZWwgPSB0cnVlOwogICAgICB0aGlzLmdlbmVyYXRlQXR0cih0aGlzLmF0dHJzKTsKICAgIH0sCiAgICAvLyDpgInmi6nop4TmoLzmqKHmnb8KICAgIGhhbmRsZUNvbW1hbmQ6IGZ1bmN0aW9uIGhhbmRsZUNvbW1hbmQoZSkge30sCiAgICAvLyDojrflj5bllYblk4HlsZ7mgKfmqKHmnb/vvJsKICAgIHByb2R1Y3RHZXRSdWxlOiBmdW5jdGlvbiBwcm9kdWN0R2V0UnVsZSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICBwcm9kdWN0R2V0UnVsZUFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTQucnVsZUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6L+Q6LS55qih5p2/77ybCiAgICBwcm9kdWN0R2V0VGVtcGxhdGU6IGZ1bmN0aW9uIHByb2R1Y3RHZXRUZW1wbGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwogICAgICBwcm9kdWN0R2V0VGVtcGxhdGVBcGkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE1LnRlbXBsYXRlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBwYXJhbXNHZXRUZW1wbGF0ZTogZnVuY3Rpb24gcGFyYW1zR2V0VGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKICAgICAgcGFyYW1MaXN0QXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNi5wYXJhbXNUeXBlTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVBhcmFtc1R5cGU6IGZ1bmN0aW9uIGNoYW5nZVBhcmFtc1R5cGUoZSkgewogICAgICBlID8gdGhpcy5nZXRQYXJhbXMoZSkgOiB0aGlzLmZvcm1WYWxpZGF0ZS5wYXJhbXNfbGlzdCA9IFtdOwogICAgfSwKICAgIGdldFBhcmFtczogZnVuY3Rpb24gZ2V0UGFyYW1zKGlkKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKICAgICAgcGFyYW1JbmZvQXBpKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE3LmZvcm1WYWxpZGF0ZS5wYXJhbXNfbGlzdCA9IHJlcy5kYXRhLnZhbHVlOwogICAgICB9KTsKICAgIH0sCiAgICBpc1N1YnNldDogZnVuY3Rpb24gaXNTdWJzZXQoYXJyMSwgYXJyMikgewogICAgICAvLyDlsIbmlbDnu4TovazmjaLkuLogU2V077yM5Lul5L6/6L+b6KGM6auY5pWI55qE5YyF5ZCr5qOA5p+lCiAgICAgIHZhciBzZXQxID0gbmV3IFNldChhcnIxKTsKICAgICAgdmFyIHNldDIgPSBuZXcgU2V0KGFycjIpOwoKICAgICAgLy8g5qOA5p+lIHNldDIg5Lit55qE5q+P5Liq5YWD57Sg5piv5ZCm6YO95ZyoIHNldDEg5LitCiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2V0MiksCiAgICAgICAgX3N0ZXAzOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZWxlbSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIGlmICghc2V0MS5oYXMoZWxlbSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g5om56YeP5re75YqgCiAgICBiYXRjaEFkZDogZnVuY3Rpb24gYmF0Y2hBZGQoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKICAgICAgdmFyIGFyciA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuYXR0cnMpLAogICAgICAgIF9zdGVwNDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZhbCA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgIGlmICh0aGlzLm9uZUZvcm1CYXRjaFswXVt2YWwudmFsdWVdKSB7CiAgICAgICAgICAgIGFyci5wdXNoKHRoaXMub25lRm9ybUJhdGNoWzBdW3ZhbC52YWx1ZV0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g5om56YeP6K6+572u5ZWG5ZOB6KeE5qC85bGe5oCnCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CiAgICAgIHZhciBiYXRjaEZpZWxkcyA9IFsncGljJywgJ3ByaWNlJywgJ2Nvc3QnLCAnb3RfcHJpY2UnLCAnc3RvY2snLCAnd2VpZ2h0JywgJ3ZvbHVtZScsICdiYXJfY29kZScsICdiYXJfY29kZV9udW1iZXInXTsKICAgICAgLy8gY29uc3QgZGVmYXVsdEZpZWxkcyA9IFsnYmFyX2NvZGUnLCAnYmFyX2NvZGVfbnVtYmVyJ107CiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5tYW55Rm9ybVZhbGlkYXRlKSwKICAgICAgICBfc3RlcDU7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICB2YXIgdmFsID0gX3N0ZXA1LnZhbHVlOwogICAgICAgICAgdmFyIGJhdGNoID0gX3RoaXMxOC5vbmVGb3JtQmF0Y2hbMF07CiAgICAgICAgICAvLyDlpoLmnpzlrZjlnKjnrZvpgInmnaHku7bkuJTmu6HotrPmnaHku7Ys5oiW5peg562b6YCJ5p2h5Lu25pe2CiAgICAgICAgICBpZiAoIWFyci5sZW5ndGggfHwgX3RoaXMxOC5pc1N1YnNldCh2YWwuYXR0cl9hcnIsIGFycikpIHsKICAgICAgICAgICAgLy8g6K6+572u5pyJ5YC855qE5om56YeP5a2X5q61CiAgICAgICAgICAgIGJhdGNoRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgaWYgKGJhdGNoW2ZpZWxkXSAmJiBiYXRjaFtmaWVsZF0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgaWYgKGZpZWxkID09PSAncGljJyAmJiBiYXRjaFtmaWVsZF0pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxOC4kc2V0KHZhbCwgZmllbGQsIGJhdGNoW2ZpZWxkXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkICE9ICdwaWMnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTguJHNldCh2YWwsIGZpZWxkLCBiYXRjaFtmaWVsZF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyDorr7nva7pu5jorqTlrZfmrrUKICAgICAgICAgICAgLy8gZGVmYXVsdEZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4gewogICAgICAgICAgICAvLyAgIHRoaXMuJHNldCh2YWwsIGZpZWxkLCBiYXRjaFtmaWVsZF0pOwogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICBfbG9vcCgpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VTcGVjSW1nOiBmdW5jdGlvbiBjaGFuZ2VTcGVjSW1nKGFyciwgaW1nKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKICAgICAgLy8g5Yik5pat5piv5ZCm5a2Y5Zyo6KeE5qC85Zu+CiAgICAgIHZhciBpc0hhcyA9IGZhbHNlOwogICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMubWFueUZvcm1WYWxpZGF0ZS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBpdGVtID0gdGhpcy5tYW55Rm9ybVZhbGlkYXRlW2ldOwogICAgICAgIGlmIChpdGVtLnBpYyAmJiB0aGlzLmlzU3Vic2V0KGl0ZW0uYXR0cl9hcnIsIGFycikpIHsKICAgICAgICAgIGlzSGFzID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaXNIYXMpIHsKICAgICAgICB0aGlzLiRjb25maXJtKCflj6/ku6XlkIzmraXkv67mlLnkuIvmlrnor6Xop4TmoLzlm77niYfvvIznoa7lrpropoHmm7/mjaLlkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmm7/mjaInLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+aaguS4jScsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMxOS5tYW55Rm9ybVZhbGlkYXRlKSwKICAgICAgICAgICAgX3N0ZXA2OwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgdmFsID0gX3N0ZXA2LnZhbHVlOwogICAgICAgICAgICAgIGlmIChfdGhpczE5LmlzU3Vic2V0KHZhbC5hdHRyX2FyciwgYXJyKSkgewogICAgICAgICAgICAgICAgX3RoaXMxOS4kc2V0KHZhbCwgJ3BpYycsIGltZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I2LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLm1hbnlGb3JtVmFsaWRhdGUpLAogICAgICAgICAgX3N0ZXA3OwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgdmFsID0gX3N0ZXA3LnZhbHVlOwogICAgICAgICAgICBpZiAodGhpcy5pc1N1YnNldCh2YWwuYXR0cl9hcnIsIGFycikpIHsKICAgICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAncGljJywgaW1nKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yNy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOeri+WNs+eUn+aIkAogICAgZ2VuZXJhdGU6IGZ1bmN0aW9uIGdlbmVyYXRlKHR5cGUsIGlzQ29weSwgYXJyKSB7CiAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZSA9IFtdOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5oZWFkZXIgPSBbXTsKICAgIH0sCiAgICBjbGVhckF0dHI6IGZ1bmN0aW9uIGNsZWFyQXR0cigpIHsKICAgICAgdGhpcy5mb3JtRHluYW1pYy5hdHRyc05hbWUgPSAnJzsKICAgICAgdGhpcy5mb3JtRHluYW1pYy5hdHRyc1ZhbCA9ICcnOwogICAgfSwKICAgIC8vIOWIoOmZpOinhOagvAogICAgaGFuZGxlUmVtb3ZlUm9sZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlUm9sZShpbmRleCkgewogICAgICB0aGlzLmF0dHJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICBpZiAoIXRoaXMuYXR0cnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaGVhZGVyID0gW107CiAgICAgICAgdGhpcy5tYW55Rm9ybVZhbGlkYXRlID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZUF0dHIodGhpcy5hdHRycyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaTooajmoLzkuK0g5a+55bqU5bGe5oCnCiAgICBkZWxBdHRyVGFibGU6IGZ1bmN0aW9uIGRlbEF0dHJUYWJsZSh2YWwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hbnlGb3JtVmFsaWRhdGUubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IHRoaXMubWFueUZvcm1WYWxpZGF0ZVtpXTsKICAgICAgICBpZiAoaXRlbS5hdHRyX2FyciAmJiBpdGVtLmF0dHJfYXJyLmluY2x1ZGVzKHZhbCkpIHsKICAgICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZS5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBpLS07CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5Yig6Zmk5bGe5oCnCiAgICBoYW5kbGVSZW1vdmUyOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUyKGl0ZW0sIGluZGV4LCB2YWwpIHsKICAgICAgLy8g5Yig6ZmkIG1hbnlGb3JtVmFsaWRhdGXkuK0gdGl0bGUgPSBpdGVtLnZhbHVlIOeahOWxnuaAp+WAvAogICAgICBpdGVtLnNwbGljZShpbmRleCwgMSk7CiAgICAgIC8vIHRoaXMuZ2VuZXJhdGVBdHRyKHRoaXMuYXR0cnMpOwogICAgICB0aGlzLmRlbEF0dHJUYWJsZSh2YWwpOwogICAgfSwKICAgIC8vIOaWsOWinuinhOagvAogICAgaGFuZGxlQWRkUm9sZTogZnVuY3Rpb24gaGFuZGxlQWRkUm9sZSgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdmFsdWU6IHRoaXMuZm9ybUR5bmFtaWMuYXR0cnNOYW1lLAogICAgICAgIGFkZF9waWM6IDAsCiAgICAgICAgZGV0YWlsOiBbXQogICAgICB9OwogICAgICB0aGlzLmF0dHJzLnB1c2goZGF0YSk7CiAgICB9LAogICAgaGFuZGxlQWRkUGFyYW1zOiBmdW5jdGlvbiBoYW5kbGVBZGRQYXJhbXMoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9OwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYXJhbXNfbGlzdC5wdXNoKGRhdGEpOwogICAgfSwKICAgIGhhbmRsZVNhdmVBc1RlbXBsYXRlOiBmdW5jdGlvbiBoYW5kbGVTYXZlQXNUZW1wbGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwogICAgICB0aGlzLiRwcm9tcHQoJycsICfor7fovpPlhaXmqKHmnb/lkI3np7AnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgIHZhciBzcGVjID0gX3RoaXMyMC5hdHRycy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLAogICAgICAgICAgICBkZXRhaWw6IGl0ZW0uZGV0YWlsLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnZhbHVlOwogICAgICAgICAgICB9KQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICB2YXIgZm9ybUR5bmFtaWMgPSB7CiAgICAgICAgICBydWxlX25hbWU6IHZhbHVlLAogICAgICAgICAgc3BlYzogc3BlYwogICAgICAgIH07CiAgICAgICAgcnVsZUFkZEFwaShmb3JtRHluYW1pYywgMCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIwLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczIwLnByb2R1Y3RHZXRSdWxlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyMC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8vIOaWsOWinuS4gOadoeWxnuaApwogICAgYWRkT25lQXR0cjogZnVuY3Rpb24gYWRkT25lQXR0cih2YWwsIHZhbDIpIHsKICAgICAgdGhpcy5nZW5lcmF0ZUF0dHIodGhpcy5hdHRycywgdmFsMik7CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKHZhbCkgewogICAgICB0aGlzLmNoYW5nZUF0dHJWYWx1ZSA9IHZhbDsKICAgIH0sCiAgICBoYW5kbGVCbHVyOiBmdW5jdGlvbiBoYW5kbGVCbHVyKCkgewogICAgICB0aGlzLmNoYW5nZUF0dHJWYWx1ZSA9ICcnOwogICAgfSwKICAgIGhhbmRsZVNlbEltZzogZnVuY3Rpb24gaGFuZGxlU2VsSW1nKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwogICAgICB0aGlzLiRpbWdNb2RhbChmdW5jdGlvbiAoZSkgewogICAgICAgIGl0ZW0ucGljID0gZS5hdHRfZGlyOwogICAgICAgIF90aGlzMjEuY2hhbmdlU3BlY0ltZyhbaXRlbS52YWx1ZV0sIGUuYXR0X2Rpcik7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZUltZzogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlSW1nKGl0ZW0pIHsKICAgICAgaXRlbS5waWMgPSAnJzsKICAgIH0sCiAgICAvLyDop4TmoLzlkI3np7DmlLnlj5gKICAgIGF0dHJDaGFuZ2VWYWx1ZTogZnVuY3Rpb24gYXR0ckNoYW5nZVZhbHVlKGksIHZhbCkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CiAgICAgIGlmICh2YWwudHJpbSgpLmxlbmd0aCAmJiB0aGlzLmF0dHJzW2ldLmRldGFpbC5sZW5ndGgpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlSGVhZGVyKHRoaXMuYXR0cnMpOwogICAgICAgIGlmICh0aGlzLm1hbnlGb3JtVmFsaWRhdGUubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLm1hbnlGb3JtVmFsaWRhdGUubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgICAgIGlmIChpID4gMCkgewogICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhpdGVtLmRldGFpbCkuaW5jbHVkZXMoX3RoaXMyMi5jaGFuZ2VBdHRyVmFsdWUpKSB7CiAgICAgICAgICAgICAgICBpdGVtLmRldGFpbFt2YWxdID0gaXRlbS5kZXRhaWxbX3RoaXMyMi5jaGFuZ2VBdHRyVmFsdWVdOwogICAgICAgICAgICAgICAgaXRlbVt2YWxdID0gaXRlbVtfdGhpczIyLmNoYW5nZUF0dHJWYWx1ZV07CiAgICAgICAgICAgICAgICBkZWxldGUgaXRlbS5kZXRhaWxbX3RoaXMyMi5jaGFuZ2VBdHRyVmFsdWVdOwogICAgICAgICAgICAgICAgZGVsZXRlIGl0ZW1bX3RoaXMyMi5jaGFuZ2VBdHRyVmFsdWVdOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoYW5nZUF0dHJWYWx1ZSA9IHZhbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZUF0dHIodGhpcy5hdHRycyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDop4TmoLzlgLzmlLnlj5gKICAgIGF0dHJEZXRhaWxDaGFuZ2VWYWx1ZTogZnVuY3Rpb24gYXR0ckRldGFpbENoYW5nZVZhbHVlKHZhbCwgaSkgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLm1hbnlGb3JtVmFsaWRhdGUubGVuZ3RoKSB7CiAgICAgICAgdmFyIGtleSA9IHRoaXMuYXR0cnNbaV0udmFsdWU7CiAgICAgICAgdGhpcy5tYW55Rm9ybVZhbGlkYXRlLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhpdGVtLmRldGFpbCkuaW5jbHVkZXMoa2V5KSAmJiBpdGVtLmRldGFpbFtrZXldID09PSBfdGhpczIzLmNoYW5nZUF0dHJWYWx1ZSkgewogICAgICAgICAgICAgIGl0ZW0uZGV0YWlsW2tleV0gPSB2YWw7CiAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaXRlbS5hdHRyX2Fyci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtID09PSBfdGhpczIzLmNoYW5nZUF0dHJWYWx1ZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpdGVtLmF0dHJfYXJyW2luZGV4XSA9IHZhbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuY2hhbmdlQXR0clZhbHVlID0gdmFsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2VuZXJhdGVBdHRyKHRoaXMuYXR0cnMsIDEpOwogICAgICB9CiAgICB9LAogICAgLy8g6KeE5qC85Zu+54mH5re75Yqg5byA5YWzCiAgICBhZGRQaWM6IGZ1bmN0aW9uIGFkZFBpYyhlLCBpKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKICAgICAgaWYgKGUpIHsKICAgICAgICB0aGlzLmF0dHJzLm1hcChmdW5jdGlvbiAoaXRlbSwgaWkpIHsKICAgICAgICAgIGlmIChpaSAhPT0gaSkgewogICAgICAgICAgICBfdGhpczI0LiRzZXQoaXRlbSwgJ2FkZF9waWMnLCAwKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhblNlbCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2FuU2VsID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOinhOagvOaLluaLveaOkuW6j+WQjgogICAgb25Nb3ZlU3BlYzogZnVuY3Rpb24gb25Nb3ZlU3BlYygpIHsKICAgICAgdGhpcy5nZW5lcmF0ZUF0dHIodGhpcy5hdHRycyk7CiAgICB9LAogICAgY2hhbmdlQ3VycmVudEluZGV4OiBmdW5jdGlvbiBjaGFuZ2VDdXJyZW50SW5kZXgoaSkgewogICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGk7CiAgICB9LAogICAgLy8g55Sf5oiQ5ZWG5ZOB6KeE5qC86KGo5aS0CiAgICBnZW5lcmF0ZUhlYWRlcjogZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXIoZGF0YSkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CiAgICAgIHZhciBzcGVjaWZpY2F0aW9uc0NvbHVtbnMgPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0aXRsZTogaXRlbS52YWx1ZSwKICAgICAgICAgIGtleTogaXRlbS52YWx1ZSwKICAgICAgICAgIG1pbldpZHRoOiAxNDAsCiAgICAgICAgICBmaXhlZDogJ2xlZnQnCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHZhciBhcnI7CiAgICAgIGlmIChbMSwgMl0uaW5jbHVkZXMoTnVtYmVyKHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSkpKSB7CiAgICAgICAgYXJyID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzcGVjaWZpY2F0aW9uc0NvbHVtbnMpLCBfdG9Db25zdW1hYmxlQXJyYXkoVmlydHVhbFRhYmxlSGVhZCkpOwogICAgICAgIC8vIOaJvuWIsHNsb3Qg562J5LqOIGZpY3RpdGlvdXMg5bCGdGl0bGXmlLnkuLrop4TmoLzlkI3np7AKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5oZWFkZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5zbG90ID09PSAnZmljdGl0aW91cycpIHsKICAgICAgICAgICAgaXRlbS50aXRsZSA9IF90aGlzMjUuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9PSAxID8gJ+a3u+WKoOWNoeWvhi/nvZHnm5gnIDogJ+mAieaLqeS8mOaDoOWIuCc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtVmFsaWRhdGUudmlydHVhbF90eXBlID09IDMpIHsKICAgICAgICBhcnIgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNwZWNpZmljYXRpb25zQ29sdW1ucyksIF90b0NvbnN1bWFibGVBcnJheShWaXJ0dWFsVGFibGVIZWFkMikpOwogICAgICB9IGVsc2UgewogICAgICAgIGFyciA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3BlY2lmaWNhdGlvbnNDb2x1bW5zKSwgX3RvQ29uc3VtYWJsZUFycmF5KEdvb2RzVGFibGVIZWFkKSk7CiAgICAgIH0KICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybVZhbGlkYXRlLCAnaGVhZGVyJywgYXJyKTsKICAgICAgdGhpcy50YWJsZUtleSArPSAxOwogICAgICB0aGlzLmNvbHVtbnNJbnN0YWxNID0gYXJyOwogICAgfSwKICAgIC8qCiAgICAgKiDnlJ/miJDlsZ7mgKcKICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEg6KeE5qC85pWw5o2uCiAgICAgKiAqLwogICAgZ2VuZXJhdGVBdHRyOiBmdW5jdGlvbiBnZW5lcmF0ZUF0dHIoZGF0YSwgdmFsKSB7CiAgICAgIHZhciBfdGhpczI2ID0gdGhpczsKICAgICAgdGhpcy5nZW5lcmF0ZUhlYWRlcihkYXRhKTsKICAgICAgdmFyIGNvbWJpbmF0aW9ucyA9IHRoaXMuZ2VuZXJhdGVDb21iaW5hdGlvbnMoZGF0YSk7CiAgICAgIGNvbnNvbGUubG9nKCfop4TmoLznu4TlkIjmgLvmlbDvvJonICsgY29tYmluYXRpb25zLmxlbmd0aCk7CiAgICAgIHZhciB2aXJ0dWFsVHlwZSA9IHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZTsKICAgICAgLy8g5aaC5p6cY29tYmluYXRpb25z5pWw6YeP6LaF6L+HIDUwMO+8jOWImeWIhuaJueasoeeUn+aIkOWxnuaApwogICAgICB2YXIgcm93cyA9IFtdOwogICAgICBpZiAoY29tYmluYXRpb25zLmxlbmd0aCA+IDUwMCkgewogICAgICAgIHZhciBiYXRjaFNpemUgPSBNYXRoLmNlaWwoY29tYmluYXRpb25zLmxlbmd0aCAvIDUwMCk7CiAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihpKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBkID0gX3RoaXMyNi5nZW5lcmF0ZUF0dHJCYXRjaChkYXRhLCBjb21iaW5hdGlvbnMuc2xpY2UoaSwgaSArIGJhdGNoU2l6ZSksIHZhbCk7CiAgICAgICAgICAgIHJvd3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJvd3MpLCBfdG9Db25zdW1hYmxlQXJyYXkoZCkpOwogICAgICAgICAgICBfdGhpczI2Lm1hbnlGb3JtVmFsaWRhdGUgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMjYub25lRm9ybUJhdGNoKSwgX3RvQ29uc3VtYWJsZUFycmF5KHJvd3MpKTsKICAgICAgICAgIH0sIDApOwogICAgICAgIH07CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnMubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkgewogICAgICAgICAgX2xvb3AyKGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByb3dzID0gdGhpcy5nZW5lcmF0ZUF0dHJCYXRjaChkYXRhLCBjb21iaW5hdGlvbnMsIHZhbCk7CiAgICAgICAgdGhpcy5tYW55Rm9ybVZhbGlkYXRlID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm9uZUZvcm1CYXRjaCksIF90b0NvbnN1bWFibGVBcnJheShyb3dzKSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlJ/miJDlsZ7mgKfmibnmrKEKICAgIGdlbmVyYXRlQXR0ckJhdGNoOiBmdW5jdGlvbiBnZW5lcmF0ZUF0dHJCYXRjaChkYXRhLCBjb21iaW5hdGlvbnMsIHZhbCkgewogICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7CiAgICAgIHZhciBleGlzdGluZ0l0ZW1zID0gdGhpcy5tYW55Rm9ybVZhbGlkYXRlLnNsaWNlKDEpOyAvLyDmjpLpmaTnrKzkuIDpobnpu5jorqTmlbDmja4KCiAgICAgIHZhciByb3dzID0gY29tYmluYXRpb25zLm1hcChmdW5jdGlvbiAoY29tYmluYXRpb24pIHsKICAgICAgICB2YXIgcm93ID0gewogICAgICAgICAgYXR0cl9hcnI6IGNvbWJpbmF0aW9uLAogICAgICAgICAgZGV0YWlsOiB7fSwKICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgIGtleTogJycsCiAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgIHBpYzogJycsCiAgICAgICAgICBvdF9wcmljZTogMCwKICAgICAgICAgIGNvc3Q6IDAsCiAgICAgICAgICBzdG9jazogMCwKICAgICAgICAgIGlzX3Nob3c6IDEsCiAgICAgICAgICBpc19kZWZhdWx0X3NlbGVjdDogMCwKICAgICAgICAgIHVuaXF1ZTogJycsCiAgICAgICAgICB3ZWlnaHQ6ICcnLAogICAgICAgICAgdm9sdW1lOiAnJywKICAgICAgICAgIGJyb2tlcmFnZTogMCwKICAgICAgICAgIGJyb2tlcmFnZV90d286IDAsCiAgICAgICAgICB2aXBfcHJpY2U6IDAsCiAgICAgICAgICB2aXBfcHJvcG9ydGlvbjogMAogICAgICAgIH07CgogICAgICAgIC8vIOiuvue9ruiZmuaLn+exu+Wei+ebuOWFs+WxnuaApwogICAgICAgIGlmIChfdGhpczI3LmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPT09IDEpIHsKICAgICAgICAgIHJvdy52aXJ0dWFsX2xpc3QgPSBbXTsKICAgICAgICAgIHJvdy5kaXNrX2luZm8gPSAnJzsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMjcuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9PT0gMikgewogICAgICAgICAgcm93LmNvdXBvbl9pZCA9IDA7CiAgICAgICAgICByb3cuY291cG9uX25hbWUgPSAnJzsKICAgICAgICB9CgogICAgICAgIC8vIOWkhOeQhuinhOagvOWxnuaApwogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICAgICAgdmFyIHZhbHVlID0gY29tYmluYXRpb25baV07CiAgICAgICAgICByb3dbaXRlbS52YWx1ZV0gPSB2YWx1ZTsKICAgICAgICAgIHJvdy50aXRsZSA9IGl0ZW0udmFsdWU7CiAgICAgICAgICByb3cua2V5ID0gaXRlbS52YWx1ZTsKICAgICAgICAgIHJvdy5kZXRhaWxbaXRlbS52YWx1ZV0gPSB2YWx1ZTsKCiAgICAgICAgICAvLyDmn6Xmib7ljLnphY3nmoTnjrDmnInop4TmoLzpobkKICAgICAgICAgIHZhciBtYXRjaGVkSXRlbSA9IGV4aXN0aW5nSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5hdHRyX2FyciAmJiBhcnJheXNFcXVhbChpdGVtLmF0dHJfYXJyLCBjb21iaW5hdGlvbik7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChtYXRjaGVkSXRlbSkgewogICAgICAgICAgICBPYmplY3QuYXNzaWduKHJvdywgX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgICBwcmljZTogbWF0Y2hlZEl0ZW0ucHJpY2UsCiAgICAgICAgICAgICAgY29zdDogbWF0Y2hlZEl0ZW0uY29zdCwKICAgICAgICAgICAgICBvdF9wcmljZTogbWF0Y2hlZEl0ZW0ub3RfcHJpY2UsCiAgICAgICAgICAgICAgc3RvY2s6IG1hdGNoZWRJdGVtLnN0b2NrLAogICAgICAgICAgICAgIHBpYzogbWF0Y2hlZEl0ZW0ucGljLAogICAgICAgICAgICAgIHVuaXF1ZTogbWF0Y2hlZEl0ZW0udW5pcXVlIHx8ICcnLAogICAgICAgICAgICAgIHdlaWdodDogbWF0Y2hlZEl0ZW0ud2VpZ2h0IHx8ICcnLAogICAgICAgICAgICAgIHZvbHVtZTogbWF0Y2hlZEl0ZW0udm9sdW1lIHx8ICcnLAogICAgICAgICAgICAgIGlzX3Nob3c6IG1hdGNoZWRJdGVtLmlzX3Nob3cgfHwgMSwKICAgICAgICAgICAgICBpc19kZWZhdWx0X3NlbGVjdDogbWF0Y2hlZEl0ZW0uaXNfZGVmYXVsdF9zZWxlY3QgfHwgMAogICAgICAgICAgICB9LCAidm9sdW1lIiwgbWF0Y2hlZEl0ZW0udm9sdW1lIHx8IDApLCAiYmFyX2NvZGVfbnVtYmVyIiwgbWF0Y2hlZEl0ZW0uYmFyX2NvZGVfbnVtYmVyIHx8IDApLCAiaXNfdmlydHVhbCIsIG1hdGNoZWRJdGVtLmlzX3ZpcnR1YWwpLCAiYnJva2VyYWdlIiwgbWF0Y2hlZEl0ZW0uYnJva2VyYWdlKSwgImJyb2tlcmFnZV90d28iLCBtYXRjaGVkSXRlbS5icm9rZXJhZ2VfdHdvKSwgInZpcF9wcmljZSIsIG1hdGNoZWRJdGVtLnZpcF9wcmljZSksICJ2aXBfcHJvcG9ydGlvbiIsIG1hdGNoZWRJdGVtLnZpcF9wcm9wb3J0aW9uKSk7CiAgICAgICAgICAgIGlmIChfdGhpczI3LmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPT09IDEpIHsKICAgICAgICAgICAgICByb3cudmlydHVhbF9saXN0ID0gbWF0Y2hlZEl0ZW0udmlydHVhbF9saXN0OwogICAgICAgICAgICAgIHJvdy5kaXNrX2luZm8gPSBtYXRjaGVkSXRlbS5kaXNrX2luZm87CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyNy5mb3JtVmFsaWRhdGUudmlydHVhbF90eXBlID09PSAyICYmIG1hdGNoZWRJdGVtLmNvdXBvbl9pZCkgewogICAgICAgICAgICAgIHJvdy5jb3Vwb25faWQgPSBtYXRjaGVkSXRlbS5jb3Vwb25faWQ7CiAgICAgICAgICAgICAgcm93LmNvdXBvbl9uYW1lID0gbWF0Y2hlZEl0ZW0uY291cG9uX25hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5hZGRfcGljICYmIGNvbWJpbmF0aW9uLmluY2x1ZGVzKHZhbCkpIHsKICAgICAgICAgICAgdmFyIHBpY0l0ZW0gPSBpdGVtLmRldGFpbC5maW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9uLmluY2x1ZGVzKGUudmFsdWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHBpY0l0ZW0pIHJvdy5waWMgPSBwaWNJdGVtLnBpYzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcm93OwogICAgICB9KTsKICAgICAgcmV0dXJuIHJvd3M7CiAgICB9LAogICAgLy8g5YiH5o2i6buY6K6k6YCJ5Lit6KeE5qC8CiAgICBjaGFuZ2VEZWZhdWx0U2VsZWN0OiBmdW5jdGlvbiBjaGFuZ2VEZWZhdWx0U2VsZWN0KGUsIGluZGV4KSB7CiAgICAgIC8vIOS4gOS4quW8gOWQryDlhbbku5blhbPpl60KICAgICAgdGhpcy5tYW55Rm9ybVZhbGlkYXRlLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICAgIGlmIChpICE9PSBpbmRleCkgewogICAgICAgICAgaXRlbS5pc19kZWZhdWx0X3NlbGVjdCA9IDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKGUpIHRoaXMubWFueUZvcm1WYWxpZGF0ZVtpbmRleF0uaXNfc2hvdyA9IDE7CiAgICB9LAogICAgLy8g5pS55Y+Y5piv5ZCm5pi+56S6CiAgICBjaGFuZ2VEZWZhdWx0U2hvdzogZnVuY3Rpb24gY2hhbmdlRGVmYXVsdFNob3coaW5kZXgpIHsKICAgICAgLy8g5aaC5p6c6buY6K6k6YCJ5Lit5byA5ZCvIOWImeS4jeWPr+makOiXjwogICAgICBpZiAodGhpcy5tYW55Rm9ybVZhbGlkYXRlW2luZGV4XS5pc19kZWZhdWx0X3NlbGVjdCA9PT0gMSkgewogICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZVtpbmRleF0uaXNfc2hvdyA9IDE7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6buY6K6k6KeE5qC85LiN5Y+v6ZqQ6JePJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlJ/miJDop4TmoLznu4TlkIgKICAgIGdlbmVyYXRlQ29tYmluYXRpb25zOiBmdW5jdGlvbiBnZW5lcmF0ZUNvbWJpbmF0aW9ucyhhcnIpIHsKICAgICAgdmFyIF90aGlzMjggPSB0aGlzOwogICAgICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgaWYgKGFyci5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gW3ByZWZpeF07CiAgICAgIH0KICAgICAgdmFyIF9hcnIgPSBfdG9BcnJheShhcnIpLAogICAgICAgIGZpcnN0ID0gX2FyclswXSwKICAgICAgICByZXN0ID0gX2Fyci5zbGljZSgxKTsKICAgICAgcmV0dXJuIGZpcnN0LmRldGFpbC5mbGF0TWFwKGZ1bmN0aW9uIChkZXRhaWwpIHsKICAgICAgICByZXR1cm4gX3RoaXMyOC5nZW5lcmF0ZUNvbWJpbmF0aW9ucyhyZXN0LCBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByZWZpeCksIFtkZXRhaWwudmFsdWVdKSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoOWxnuaApwogICAgY3JlYXRlQXR0cjogZnVuY3Rpb24gY3JlYXRlQXR0cihudW0sIGlkeCkgewogICAgICB2YXIgX3RoaXMyOSA9IHRoaXM7CiAgICAgIGlmIChudW0pIHsKICAgICAgICAvLyDliKTmlq3mmK/lkKblrZjlnKjlkIzmoLfnhp/mgokKICAgICAgICB2YXIgaXNFeGlzdCA9IHRoaXMuYXR0cnNbaWR4XS5kZXRhaWwuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IG51bTsKICAgICAgICB9KTsKICAgICAgICBpZiAoaXNFeGlzdCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6KeE5qC85YC85bey5a2Y5ZyoJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuYXR0cnNbaWR4XS5kZXRhaWwucHVzaCh7CiAgICAgICAgICB2YWx1ZTogbnVtLAogICAgICAgICAgcGljOiAnJwogICAgICAgIH0pOwogICAgICAgIGlmICh0aGlzLm1hbnlGb3JtVmFsaWRhdGUubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmFkZE9uZUF0dHIodGhpcy5hdHRyc1tpZHhdLnZhbHVlLCBudW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmdlbmVyYXRlQXR0cih0aGlzLmF0dHJzKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kcmVmcy5zcGVjU3RvY2suJHJlZnNbJ3BvcG92ZXJSZWZfJyArIGlkeF1bMF0uZG9DbG9zZSgpOyAvL+WFs+mXreeahAogICAgICAgIHRoaXMuY2xlYXJBdHRyKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXMyOS4kcmVmcy5zcGVjU3RvY2suJHJlZnNbJ3BvcG92ZXJSZWZfJyArIGlkeF0pIHsKICAgICAgICAgICAgLy/ph43ngrnmmK/ku6XkuIvkuKTlj6UKICAgICAgICAgICAgX3RoaXMyOS4kcmVmcy5zcGVjU3RvY2suJHJlZnNbJ3BvcG92ZXJSZWZfJyArIGlkeF1bMF0uZG9TaG93KCk7IC8v5omT5byA55qECiAgICAgICAgICAgIC8v6YeN54K55piv5Lul5LiK5Lik5Y+lCiAgICAgICAgICB9CiAgICAgICAgfSwgMjApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuc3BlY1N0b2NrLiRyZWZzWydwb3BvdmVyUmVmXycgKyBpZHhdWzBdLmRvQ2xvc2UoKTsgLy/lhbPpl63nmoQKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNob3dQb3A6IGZ1bmN0aW9uIGhhbmRsZVNob3dQb3AoaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy5zcGVjU3RvY2suJHJlZnNbJ2lucHV0UmVmXycgKyBpbmRleF1bMF0uZm9jdXMoKTsKICAgIH0sCiAgICAvLyDllYblk4HliIbnsbvvvJsKICAgIGdvb2RzQ2F0ZWdvcnk6IGZ1bmN0aW9uIGdvb2RzQ2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKICAgICAgY2FzY2FkZXJMaXN0QXBpKDEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMzAudHJlZVNlbGVjdCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzMC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pS55Y+Y6KeE5qC8CiAgICBjaGFuZ2VTcGVjOiBmdW5jdGlvbiBjaGFuZ2VTcGVjKCkgewogICAgICB2YXIgX3RoaXMzMSA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX3N1YiA9IFtdOwogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIGlmIChpZCkgewogICAgICAgIGNoZWNrQWN0aXZpdHlBcGkoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge30pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMzEuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9IF90aGlzMzEuc3BlY190eXBlOwogICAgICAgICAgX3RoaXMzMS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOivpuaDhQogICAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbygpIHsKICAgICAgdmFyIF90aGlzMzIgPSB0aGlzOwogICAgICB0aGlzLnNwaW5TaG93ID0gdHJ1ZTsKICAgICAgcHJvZHVjdEluZm9BcGkodGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGEucHJvZHVjdEluZm87CiAgICAgICAgICAgICAgICBfdGhpczMyLmluZm9EYXRhKGRhdGEpOwogICAgICAgICAgICAgICAgX3RoaXMzMi5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMyLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgX3RoaXMzMi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoaSkgewogICAgICB0aGlzLmltYWdlcy5zcGxpY2UoaSwgMSk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZS5zcGxpY2UoaSwgMSk7CiAgICAgIHRoaXMub25lRm9ybVZhbGlkYXRlWzBdLnBpYyA9IHRoaXMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZVswXTsKICAgIH0sCiAgICAvLyDlhbPpl63lm77niYfkuIrkvKDmqKHmgIHmoYYKICAgIGNoYW5nZUNhbmNlbDogZnVuY3Rpb24gY2hhbmdlQ2FuY2VsKG1zZykgewogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye75ZWG5ZOB5Zu+CiAgICBtb2RhbFBpY1RhcDogZnVuY3Rpb24gbW9kYWxQaWNUYXAodGl0KSB7CiAgICAgIHZhciBwaWNUaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7CiAgICAgIHRoaXMubW9kYWxQaWMgPSB0cnVlOwogICAgICB0aGlzLmlzQ2hvaWNlID0gdGl0ID09PSAnZGFuJyA/ICfljZXpgIknIDogJ+WkmumAiSc7CiAgICAgIHRoaXMucGljVGl0ID0gcGljVGl0OwogICAgICB0aGlzLnRhYmxlSW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvLyDojrflj5bljZXlvKDlm77niYfkv6Hmga8KICAgIGdldFBpYzogZnVuY3Rpb24gZ2V0UGljKHBjKSB7CiAgICAgIHN3aXRjaCAodGhpcy5waWNUaXQpIHsKICAgICAgICBjYXNlICdkYW5Gcm9tJzoKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlID0gcGMuYXR0X2RpcjsKICAgICAgICAgIGlmICghdGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5zcGVjX3R5cGUgPT09IDApIHsKICAgICAgICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZVswXS5waWMgPSBwYy5hdHRfZGlyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGl0ZW0ucGljID0gcGMuYXR0X2RpcjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLm9uZUZvcm1CYXRjaFswXS5waWMgPSBwYy5hdHRfZGlyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkYW5UYWJsZSc6CiAgICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZVt0aGlzLnRhYmxlSW5kZXhdLnBpYyA9IHBjLmF0dF9kaXI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkdW9waSc6CiAgICAgICAgICB0aGlzLm9uZUZvcm1CYXRjaFt0aGlzLnRhYmxlSW5kZXhdLnBpYyA9IHBjLmF0dF9kaXI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdyZWNvbW1lbmRfaW1hZ2UnOgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucmVjb21tZW5kX2ltYWdlID0gcGMuYXR0X2RpcjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBpZiAodGhpcy5tYW55Rm9ybVZhbGlkYXRlLmxlbmd0aCkgdGhpcy5tYW55Rm9ybVZhbGlkYXRlW3RoaXMudGFibGVJbmRleF0ucGljID0gcGMuYXR0X2RpcjsKICAgICAgfQogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgZGVsZXRlUm93OiBmdW5jdGlvbiBkZWxldGVSb3coaW5kZXgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFyYW1zX2xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDojrflj5blpJrlvKDlm77kv6Hmga8KICAgIGdldFBpY0Q6IGZ1bmN0aW9uIGdldFBpY0QocGMpIHsKICAgICAgdmFyIF90aGlzMzMgPSB0aGlzOwogICAgICB0aGlzLmltYWdlcyA9IHBjOwogICAgICB0aGlzLmltYWdlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczMzLmZvcm1WYWxpZGF0ZS5zbGlkZXJfaW1hZ2UucHVzaChpdGVtLmF0dF9kaXIpOwogICAgICAgIF90aGlzMzMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZSA9IF90aGlzMzMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZS5zcGxpY2UoMCwgMTApOwogICAgICB9KTsKICAgICAgdGhpcy5vbmVGb3JtVmFsaWRhdGVbMF0ucGljID0gdGhpcy5mb3JtVmFsaWRhdGUuc2xpZGVyX2ltYWdlWzBdOwogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChuYW1lKSB7CiAgICAgIHZhciBfdGhpczM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMzQuZm9ybVZhbGlkYXRlLnR5cGUgPSBfdGhpczM0LnR5cGU7CiAgICAgICAgICB2YXIgYXJyID0gX3RoaXMzNC5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09PSAwID8gX3RoaXMzNC5vbmVGb3JtVmFsaWRhdGUgOiBfdGhpczM0Lm1hbnlGb3JtVmFsaWRhdGU7CiAgICAgICAgICB2YXIgaXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJyKSk7CiAgICAgICAgICBpZiAoX3RoaXMzNC5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09PSAxKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCA8IDIpIHJldHVybiBfdGhpczM0LiRtZXNzYWdlLndhcm5pbmcoJ+WVhuWTgeinhOagvC3op4TmoLzmlbDph4/mnIDlsJEx5LiqJyk7CiAgICAgICAgICAgIC8vIOWIoOmZpOesrOS4gOmhuQogICAgICAgICAgICBpdGVtLnNoaWZ0KCk7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGl0ZW1baV0uc3RvY2sgPiAxMDAwMDAwKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQuJG1lc3NhZ2UuZXJyb3IoJ+inhOagvOW6k+WtmC3lupPlrZjotoXlh7rns7vnu5/ojIPlm7QoMTAwMDAwMCknKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMzQuZm9ybVZhbGlkYXRlLmlzX3N1YlswXSA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgaXRlbS5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICBpZiAoaXRlbVtfaV0uYnJva2VyYWdlID09PSBudWxsIHx8IGl0ZW1bX2ldLmJyb2tlcmFnZV90d28gPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczM0LiRtZXNzYWdlLmVycm9yKCfokKXplIDorr7nva4tIOS4gOS6jOe6p+i/lOS9o+S4jeiDveS4uuepuicpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgaXRlbS5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW1bX2kyXS52aXBfcHJpY2UgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczM0LiRtZXNzYWdlLmVycm9yKCfokKXplIDorr7nva4t5Lya5ZGY5Lu35LiN6IO95Li656m6Jyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMzNC5mb3JtVmFsaWRhdGUuaXNfc3ViLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpdGVtLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICBpZiAoaXRlbVtfaTNdLmJyb2tlcmFnZSA9PT0gbnVsbCB8fCBpdGVtW19pM10uYnJva2VyYWdlX3R3byA9PT0gbnVsbCB8fCBpdGVtW19pM10udmlwX3ByaWNlID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzNC4kbWVzc2FnZS5lcnJvcign6JCl6ZSA6K6+572uLSDkuIDkuoznuqfov5TkvaPlkozkvJrlkZjku7fkuI3og73kuLrnqbonKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczM0LmZvcm1WYWxpZGF0ZS5mcmVpZ2h0ID09IDMgJiYgIV90aGlzMzQuZm9ybVZhbGlkYXRlLnRlbXBfaWQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQuJG1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLei/kOi0ueaooeadv+S4jeiDveS4uuepuicpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGFjdGl2ZUlkcyA9IFtdOwogICAgICAgICAgX3RoaXMzNC5kYXRhTGFiZWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBhY3RpdmVJZHMucHVzaChpdGVtLmlkKTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMzNC5mb3JtVmFsaWRhdGUubGFiZWxfaWQgPSBhY3RpdmVJZHM7CiAgICAgICAgICBpZiAoX3RoaXMzNC5vcGVuU3ViaW1pdCkgcmV0dXJuOwogICAgICAgICAgX3RoaXMzNC5vcGVuU3ViaW1pdCA9IHRydWU7CiAgICAgICAgICBfdGhpczM0LmZvcm1WYWxpZGF0ZS5kZXNjcmlwdGlvbiA9IGZvcm1hdFJpY2hUZXh0KF90aGlzMzQuY29udGVudCk7CiAgICAgICAgICBpZiAoX3RoaXMzNC5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzMzQuZm9ybVZhbGlkYXRlLmF0dHJzID0gaXRlbTsKICAgICAgICAgICAgX3RoaXMzNC5mb3JtVmFsaWRhdGUuaGVhZGVyID0gW107CiAgICAgICAgICAgIF90aGlzMzQuZm9ybVZhbGlkYXRlLml0ZW1zID0gW107CiAgICAgICAgICAgIF90aGlzMzQuZm9ybVZhbGlkYXRlLmlzX2NvcHkgPSAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzNC5mb3JtVmFsaWRhdGUuaXRlbXMgPSBfdGhpczM0LmF0dHJzOwogICAgICAgICAgICBfdGhpczM0LmZvcm1WYWxpZGF0ZS5hdHRycyA9IGl0ZW07CiAgICAgICAgICAgIF90aGlzMzQuZm9ybVZhbGlkYXRlLmlzX2NvcHkgPSAxOwogICAgICAgICAgfQogICAgICAgICAgcHJvZHVjdEFkZEFwaShfdGhpczM0LmZvcm1WYWxpZGF0ZSkudGhlbigvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMyhyZXMpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5vcGVuU3ViaW1pdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMzQuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzNC4kcm91dGUucGFyYW1zLmlkID09PSAnMCcpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhY2hlRGVsZXRlKCkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczM0LiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC5vcGVuU3ViaW1pdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzNC4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBfdGhpczM0LiRyb3V0ZVByb1N0ciArICcvcHJvZHVjdC9wcm9kdWN0X2xpc3QnCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hKDIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgfSkpOwogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBfdGhpczM0Lm9wZW5TdWJpbWl0ID0gZmFsc2U7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICBfdGhpczM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghX3RoaXMzNC5mb3JtVmFsaWRhdGUuc3RvcmVfbmFtZSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzNC4kbWVzc2FnZS53YXJuaW5nKCfllYblk4Hkv6Hmga8t5ZWG5ZOB5ZCN56ew5LiN6IO95Li656m6Jyk7CiAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczM0LmZvcm1WYWxpZGF0ZS5jYXRlX2lkLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzNC4kbWVzc2FnZS53YXJuaW5nKCfllYblk4Hkv6Hmga8t5ZWG5ZOB5YiG57G75LiN6IO95Li656m6Jyk7CiAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczM0LmZvcm1WYWxpZGF0ZS51bml0X25hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQuJG1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLeWVhuWTgeWNleS9jeS4jeiDveS4uuepuicpOwogICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMzNC5mb3JtVmFsaWRhdGUuc2xpZGVyX2ltYWdlLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzNC4kbWVzc2FnZS53YXJuaW5nKCfllYblk4Hkv6Hmga8t5ZWG5ZOB6L2u5pKt5Zu+5LiN6IO95Li656m6Jyk7CiAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczM0LmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3MubGVuZ3RoICYmICFfdGhpczM0LmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQuJG1lc3NhZ2Uud2FybmluZygn54mp5rWB6K6+572uLeiHs+WwkemAieaLqeS4gOenjeeJqea1geaWueW8jycpOwogICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMzNC5mb3JtVmFsaWRhdGUudGVtcF9pZCAmJiBfdGhpczM0LmZvcm1WYWxpZGF0ZS5mcmVpZ2h0ID09IDMpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMzQuJG1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLei/kOi0ueaooeadv+S4jeiDveS4uuepuicpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlVGVtcGxhdGU6IGZ1bmN0aW9uIGNoYW5nZVRlbXBsYXRlKG1zZykgewogICAgICB0aGlzLnRlbXBsYXRlID0gbXNnOwogICAgfSwKICAgIC8vIOihqOWNlemqjOivgQogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHByb3AsIHN0YXR1cywgZXJyb3IpIHsKICAgICAgaWYgKHN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgLy8g56e75YqoCiAgICBoYW5kbGVEcmFnU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZURyYWdTdGFydChlLCBpdGVtKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpdGVtOwogICAgfSwKICAgIGhhbmRsZURyYWdFbmQ6IGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoZSwgaXRlbSkgewogICAgICB0aGlzLmRyYWdnaW5nID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVEcmFnT3ZlcjogZnVuY3Rpb24gaGFuZGxlRHJhZ092ZXIoZSkgewogICAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnOwogICAgfSwKICAgIGhhbmRsZURyYWdFbnRlcjogZnVuY3Rpb24gaGFuZGxlRHJhZ0VudGVyKGUsIGl0ZW0pIHsKICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJzsKICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuZHJhZ2dpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG5ld0l0ZW1zID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZSk7CiAgICAgIHZhciBzcmMgPSBuZXdJdGVtcy5pbmRleE9mKHRoaXMuZHJhZ2dpbmcpOwogICAgICB2YXIgZHN0ID0gbmV3SXRlbXMuaW5kZXhPZihpdGVtKTsKICAgICAgbmV3SXRlbXMuc3BsaWNlLmFwcGx5KG5ld0l0ZW1zLCBbZHN0LCAwXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5ld0l0ZW1zLnNwbGljZShzcmMsIDEpKSkpOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5zbGlkZXJfaW1hZ2UgPSBuZXdJdGVtczsKICAgIH0sCiAgICAvL+WvueixoeaVsOe7hOWOu+mHje+8mwogICAgdW5pcXVlOiBmdW5jdGlvbiB1bmlxdWUoYXJyKSB7CiAgICAgIHZhciByZXMgPSBuZXcgTWFwKCk7CiAgICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICByZXR1cm4gIXJlcy5oYXMoYXJyLnByb2R1Y3RfaWQpICYmIHJlcy5zZXQoYXJyLnByb2R1Y3RfaWQsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDllYblk4FpZAogICAgZ2V0UHJvZHVjdElkOiBmdW5jdGlvbiBnZXRQcm9kdWN0SWQoZGF0YSkgewogICAgICB0aGlzLmdvb2RzX21vZGFscyA9IGZhbHNlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5yZWNvbW1lbmRfbGlzdCA9IHRoaXMudW5pcXVlKHRoaXMuZm9ybVZhbGlkYXRlLnJlY29tbWVuZF9saXN0LmNvbmNhdChkYXRhKSk7CiAgICB9LAogICAgLy8g6YCJ5oup5o6o6I2Q5ZWG5ZOBCiAgICBjaGFuZ2VHb29kczogZnVuY3Rpb24gY2hhbmdlR29vZHMoKSB7CiAgICAgIHRoaXMuZ29vZHNfbW9kYWxzID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5nb29kc2xpc3QuZ2V0TGlzdCgpOwogICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5nb29kc0NhdGVnb3J5KCk7CiAgICB9LAogICAgLy8g6YCJ5oup55So5oi35qCH562+CiAgICBhY3RpdmVEYXRhOiBmdW5jdGlvbiBhY3RpdmVEYXRhKGRhdGFMYWJlbCkgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGFMYWJlbDsKICAgIH0sCiAgICAvLyDpgInmi6nllYblk4HmoIfnrb4KICAgIGFjdGl2ZUxhYmVsOiBmdW5jdGlvbiBhY3RpdmVMYWJlbChkYXRhKSB7CiAgICAgIHRoaXMudGFnU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5sYWJlbF9saXN0ID0gQXJyYXkuZnJvbShuZXcgU2V0KGRhdGEpKTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2U6IGZ1bmN0aW9uIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMudGFnU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWIoOmZpOeUqOaIt+agh+etvgogICAgY2xvc2VMYWJlbDogZnVuY3Rpb24gY2xvc2VMYWJlbChsYWJlbCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFMYWJlbC5pbmRleE9mKHRoaXMuZGF0YUxhYmVsLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmlkID09IGxhYmVsLmlkOwogICAgICB9KVswXSk7CiAgICAgIHRoaXMuZGF0YUxhYmVsLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g5omT5byA6YCJ5oup55So5oi35qCH562+CiAgICBvcGVuTGFiZWw6IGZ1bmN0aW9uIG9wZW5MYWJlbChyb3cpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZVJlY29tbWVuZDogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlUmVjb21tZW5kKGkpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucmVjb21tZW5kX2xpc3Quc3BsaWNlKGksIDEpOwogICAgfSwKICAgIC8vIOaJk+W8gOeahOiQpemUgOa0u+WKqOagh+etvgogICAgd2F0Y2hBY3Rpdml0eTogZnVuY3Rpb24gd2F0Y2hBY3Rpdml0eSgpIHsKICAgICAgdmFyIG1hcmtldGluZyA9IFtdOwogICAgICAvLyDkvb/nlKjlr7nosaHmmKDlsITkvJjljJbmnYPpmZDliKTmlq3pgLvovpEKICAgICAgdmFyIHBlcm1pc3Npb25NYXAgPSB7CiAgICAgICAg6buY6K6kOiB0cnVlLAogICAgICAgIOenkuadgDogJ3NlY2tpbGwnLAogICAgICAgIOegjeS7tzogJ2JhcmdhaW4nLAogICAgICAgIOaLvOWbojogJ2NvbWJpbmF0aW9uJwogICAgICB9OwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5hY3Rpdml0eS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIGlmIChwZXJtaXNzaW9uTWFwW2VsXSA9PT0gdHJ1ZSB8fCBwZXJtaXNzaW9uTWFwW2VsXSAmJiBjaGVja0FycmF5KHBlcm1pc3Npb25NYXBbZWxdKSkgewogICAgICAgICAgbWFya2V0aW5nLnB1c2goZWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmFjdGl2aXR5ID0gbWFya2V0aW5nOwogICAgfQogIH0KfTs="},{"version":3,"names":["userLabel","useLabel","goodsLabel","mapState","uploadPictures","freightTemplate","couponList","addAttr","goodsList","taoBao","userLabelAddApi","productInfoApi","cascaderListApi","productAddApi","generateAttrApi","productGetRuleApi","productGetTemplateApi","productGetTempKeysApi","checkActivityApi","productCache","cacheDelete","uploadType","importCard","productCreateApi","getProductTypeConfig","ruleAddApi","paramListApi","paramInfoApi","productProtectionListApi","productLabelUseListApi","Setting","getCookies","uploadByPieces","isFileUpload","isVideoUpload","arraysEqual","checkArray","GoodsTableHead","VirtualTableHead","VirtualTableHead2","columns2","columns3","CustomList","RuleValidate","BasicInfo","SpecStock","ProductDetail","LogisticsSetting","PriceCommission","MarketingSetting","OtherSetting","formatRichText","name","components","data","labelShow","tagShow","dataLabel","headTab","tit","virtual","id","tit2","seletVideo","customBtn","content","contents","fileUrl","apiBaseURL","fileUrl2","cardUrl","upload_type","uploadData","header","type","modals","goods_modals","spinShow","openSubimit","virtualList","key","value","oneFormBatch","pic","price","cost","ot_price","stock","bar_code","bar_code_number","weight","volume","virtual_list","formDynamic","attrsName","attrsVal","disk_type","tabIndex","tabName","formDynamicNameData","isBtn","columns","columnsInstall","columnsInstal2","gridPic","xl","lg","md","sm","xs","gridBtn","currentIndex","formValidate","disk_info","logistics","freight","postage","recommend","presale_day","presale","is_limit","limit_type","limit_num","vip_product","custom_form","store_name","cate_id","label_id","keyword","unit_name","store_info","image","recommend_image","slider_image","description","ficti","give_integral","sort","is_show","is_gift","gift_price","is_hot","is_benefit","is_best","is_new","is_good","is_postage","is_sub","recommend_list","params_list","virtual_type","spec_type","is_virtual","video_link","temp_id","attrs","items","activity","couponName","selectRule","coupon_ids","command_word","min_qty","label_list","protection_list","ruleList","templateList","createBnt","showIput","manyFormValidate","oneFormValidate","brokerage","brokerage_two","vip_price","coupon_id","images","imagesTable","currentTab","isChoice","loading","modalPic","addVirtualModel","template","uploadList","treeSelect","picTit","tableIndex","ruleValidate","manyBrokerage","undefined","manyBrokerageTwo","manyVipPrice","manyVipDiscount","upload","videoIng","progress","videoLink","默认","秒杀","砍价","拼团","updateIds","updateName","couponIds","couponNames","rakeBack","title","slot","align","width","member","columnsInstalM","moveIndex","addValue","visible","typeConfig","goodsType","paramsTypeList","paramsType","canSel","changeAttrValue","tableKey","protectionList","labelList","tileLabelList","computed","_objectSpread","labelWidth","isMobile","labelPosition","labelBottom","watch","val","length","filter","item","includes","beforeRouteUpdate","to","from","next","bus","$emit","$route","path","created","slice","getToken","mounted","_this","_asyncToGenerator","_regenerator","m","_callee","w","_context","n","params","getInfo","getProductCache","getproductLabelUseListApi","query","goodsCategory","productGetRule","productGetTemplate","paramsGetTemplate","productConfig","watchActivity","getProtectionList","a","methods","_this2","then","res","info","Array","isArray","map","Number","ids","coupons","push","generateHeader","add_pic","virtualbtn","catch","err","$message","error","msg","_this3","page","limit","status","list","_this4","flatMap","el","re","label","active","addProtection","$router","$routeProStr","_this5","beforeUpload","file","videoSaveToUrl","_this6","pieceSize","success","file_path","e","uploading","chunk","allChunk","st","Math","floor","index","_this7","generate","baseHeadTabs","virtualHeadTabs","addCate","_this8","$modalForm","logisticsBtn","addLabel","_this9","addGoodsTag","customMessBtn","addcustom","warning","delcustom","splice","onchangeTime","presale_time","getEditorContent","cancel","upFile","_this0","src","concat","_this1","infoData","isCopy","_this10","attr","vip_proportion","toFixed","_toConsumableArray","setTimeout","checkAllGroup","onClose","checkMove","evt","draggedContext","end","checkAllGroupChange","endLength","indexOf","addCoupon","$refs","couponTemplates","isTemplate","tableList","see","goodsCoupon","changeDiscount","arguments","changeVipPrice","addGoodsCoupon","addVirtual","upVirtual","i","element","$set","closeVirtual","uniqueArray","arr","seen","JSON","stringify","nameId","names","goodsCouponId","handleClose","addTemp","templates","addVideo","_this11","$videoModal","delVideo","zh_uploadFile","refid","click","zh_uploadFile_change","evfile","_this12","suffix","target","files","substr","types","contentType","$videoCloud","videoUpload","url","upTab","toString","downTab","userSearchs","addRule","addattr","modal","brokerageSetUp","_iterator","_createForOfIteratorHelper","_step","s","done","f","vipPriceSetUp","_iterator2","_step2","handleAdd","initVirtualData","removeVirtual","batchDel","confirm","_this13","trim","forEach","rule_name","rule_value","generateAttr","handleCommand","_this14","_this15","_this16","changeParamsType","getParams","_this17","isSubset","arr1","arr2","set1","Set","set2","_iterator3","_step3","elem","has","batchAdd","_this18","_iterator4","_step4","batchFields","_iterator5","_step5","_loop","batch","attr_arr","field","changeSpecImg","img","_this19","isHas","$confirm","confirmButtonText","cancelButtonText","_iterator6","_step6","_iterator7","_step7","clearAttr","handleRemoveRole","delAttrTable","handleRemove2","handleAddRole","detail","handleAddParams","handleSaveAsTemplate","_this20","$prompt","_ref","spec","addOneAttr","val2","handleFocus","handleBlur","handleSelImg","_this21","$imgModal","att_dir","handleRemoveImg","attrChangeValue","_this22","Object","keys","attrDetailChangeValue","_this23","findIndex","addPic","_this24","ii","onMoveSpec","changeCurrentIndex","_this25","specificationsColumns","minWidth","fixed","_this26","combinations","generateCombinations","console","log","virtualType","rows","batchSize","ceil","_loop2","d","generateAttrBatch","_this27","existingItems","combination","row","is_default_select","unique","coupon_name","matchedItem","find","assign","_defineProperty","picItem","changeDefaultSelect","changeDefaultShow","_this28","prefix","_arr","_toArray","first","rest","createAttr","num","idx","_this29","isExist","some","specStock","doClose","doShow","handleShowPop","focus","_this30","changeSpec","_this31","_this32","_ref2","_callee2","_context2","productInfo","_x","apply","handleRemove","changeCancel","modalPicTap","getPic","pc","deleteRow","getPicD","_this33","handleSubmit","_this34","validate","valid","parse","shift","activeIds","is_copy","_ref3","_callee3","_context3","_x2","changeTemplate","prop","handleDragStart","dragging","handleDragEnd","handleDragOver","dataTransfer","dropEffect","handleDragEnter","effectAllowed","newItems","dst","Map","product_id","set","getProductId","changeGoods","goodslist","getList","activeData","activeLabel","labelClose","closeLabel","openLabel","handleRemoveRecommend","marketing","permissionMap"],"sources":["src/pages/product/productAdd/index.vue"],"sourcesContent":["<template>\n  <div class=\"\" id=\"shopp-manager\" v-loading=\"spinShow\">\n    <pages-header\n      ref=\"pageHeader\"\n      :title=\"$route.params.id ? '编辑商品' : '添加商品'\"\n      :backUrl=\"$routeProStr + '/product/product_list'\"\n    ></pages-header>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"mt16\" :body-style=\"{ padding: '0px 20px' }\">\n      <el-tabs v-model=\"currentTab\">\n        <el-tab-pane v-for=\"(item, index) in headTab\" :key=\"index\" :label=\"item.tit\" :name=\"item.name\"></el-tab-pane>\n      </el-tabs>\n      <el-form\n        class=\"formValidate mt20\"\n        ref=\"formValidate\"\n        :rules=\"ruleValidate\"\n        :model=\"formValidate\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        @submit.native.prevent\n      >\n        <!-- 基础信息-->\n        <basic-info\n          v-show=\"currentTab === '1'\"\n          :isCai=\"type\"\n          :formValidate=\"formValidate\"\n          :goodsType=\"goodsType\"\n          :treeSelect=\"treeSelect\"\n          :tileLabelList=\"tileLabelList\"\n          :progress=\"progress\"\n          :upload=\"upload\"\n          :videoIng=\"videoIng\"\n          @virtualbtn=\"virtualbtn\"\n          @handleDragStart=\"handleDragStart\"\n          @handleDragOver=\"handleDragOver\"\n          @handleDragEnter=\"handleDragEnter\"\n          @handleDragEnd=\"handleDragEnd\"\n          @handleRemove=\"handleRemove\"\n          @modalPicTap=\"modalPicTap\"\n          @addVideo=\"addVideo\"\n          @delVideo=\"delVideo\"\n          @addCate=\"addCate\"\n          @addGoodsTag=\"addGoodsTag\"\n        ></basic-info>\n\n        <!-- 规格库存-->\n        <spec-stock\n          ref=\"specStock\"\n          v-show=\"currentTab === '2'\"\n          :formValidate=\"formValidate\"\n          :ruleList=\"ruleList\"\n          :attrs=\"attrs\"\n          :manyFormValidate=\"manyFormValidate\"\n          :oneFormValidate=\"oneFormValidate\"\n          :tableKey=\"tableKey\"\n          :oneFormBatch=\"oneFormBatch\"\n          :formDynamic=\"formDynamic\"\n          :canSel=\"canSel\"\n          @changeSpec=\"changeSpec\"\n          @confirm=\"confirm\"\n          @onMoveSpec=\"onMoveSpec\"\n          @changeCurrentIndex=\"changeCurrentIndex\"\n          @handleRemoveRole=\"handleRemoveRole\"\n          @attrChangeValue=\"attrChangeValue\"\n          @handleFocus=\"handleFocus\"\n          @addPic=\"addPic\"\n          @handleRemove2=\"handleRemove2\"\n          @attrDetailChangeValue=\"attrDetailChangeValue\"\n          @handleBlur=\"handleBlur\"\n          @handleSelImg=\"handleSelImg\"\n          @handleRemoveImg=\"handleRemoveImg\"\n          @handleShowPop=\"handleShowPop\"\n          @createAttr=\"createAttr\"\n          @handleAddRole=\"handleAddRole\"\n          @handleSaveAsTemplate=\"handleSaveAsTemplate\"\n          @batchAdd=\"batchAdd\"\n          @batchDel=\"batchDel\"\n          @modalPicTap=\"modalPicTap\"\n          @changeDefaultSelect=\"changeDefaultSelect\"\n          @changeDefaultShow=\"changeDefaultShow\"\n          @addGoodsCoupon=\"addGoodsCoupon\"\n          @see=\"see\"\n          @addVirtual=\"addVirtual\"\n        ></spec-stock>\n\n        <!-- 商品详情-->\n        <product-detail\n          v-show=\"currentTab === '3'\"\n          :contents=\"contents\"\n          :content=\"content\"\n          @getEditorContent=\"getEditorContent\"\n        ></product-detail>\n\n        <!-- 物流设置-->\n        <logistics-setting\n          v-show=\"headTab.length === 7 ? currentTab === '4' : false\"\n          :formValidate=\"formValidate\"\n          :templateList=\"templateList\"\n          @logisticsBtn=\"logisticsBtn\"\n          @addTemp=\"addTemp\"\n        ></logistics-setting>\n\n        <!-- 会员价/佣金 -->\n        <price-commission\n          v-show=\"headTab.length === 7 ? currentTab === '5' : currentTab === '4'\"\n          :formValidate=\"formValidate\"\n          :oneFormValidate=\"oneFormValidate\"\n          :manyFormValidate=\"manyFormValidate\"\n          :columnsInstall=\"columnsInstall\"\n          :columnsInstal2=\"columnsInstal2\"\n          :manyBrokerage.sync=\"manyBrokerage\"\n          :manyBrokerageTwo.sync=\"manyBrokerageTwo\"\n          :manyVipPrice.sync=\"manyVipPrice\"\n          :manyVipDiscount.sync=\"manyVipDiscount\"\n          @checkAllGroupChange=\"checkAllGroupChange\"\n          @changeVipPrice=\"changeVipPrice\"\n          @changeDiscount=\"changeDiscount\"\n          @brokerageSetUp=\"brokerageSetUp\"\n        ></price-commission>\n\n        <!-- 营销设置-->\n        <marketing-setting\n          v-show=\"headTab.length === 7 ? currentTab === '6' : currentTab === '5'\"\n          :formValidate=\"formValidate\"\n          :couponName=\"couponName\"\n          :dataLabel=\"dataLabel\"\n          :activity=\"activity\"\n          @handleClose=\"handleClose\"\n          @addCoupon=\"addCoupon\"\n          @openLabel=\"openLabel\"\n          @closeLabel=\"closeLabel\"\n          @addLabel=\"addLabel\"\n          @onchangeTime=\"onchangeTime\"\n          @handleRemoveRecommend=\"handleRemoveRecommend\"\n          @changeGoods=\"changeGoods\"\n        ></marketing-setting>\n\n        <!-- 其他设置-->\n        <other-setting\n          v-show=\"headTab.length === 7 ? currentTab === '7' : currentTab === '6'\"\n          :formValidate=\"formValidate\"\n          :customBtn.sync=\"customBtn\"\n          :paramsType=\"paramsType\"\n          :paramsTypeList=\"paramsTypeList\"\n          :protectionList=\"protectionList\"\n          :CustomList=\"CustomList\"\n          @modalPicTap=\"modalPicTap\"\n          @changeParamsType=\"changeParamsType\"\n          @deleteRow=\"deleteRow\"\n          @handleAddParams=\"handleAddParams\"\n          @addProtection=\"addProtection\"\n          @customMessBtn=\"customMessBtn\"\n          @delcustom=\"delcustom\"\n          @addcustom=\"addcustom\"\n        ></other-setting>\n\n        <el-form-item>\n          <el-button v-if=\"currentTab !== '1'\" v-db-click @click=\"upTab\">上一步</el-button>\n          <el-button\n            class=\"submission\"\n            v-if=\"currentTab !== '7' && formValidate.virtual_type == 0\"\n            v-db-click\n            @click=\"downTab\"\n            >下一步</el-button\n          >\n          <el-button\n            class=\"submission\"\n            v-if=\"currentTab !== '6' && formValidate.virtual_type != 0\"\n            v-db-click\n            @click=\"downTab\"\n            >下一步</el-button\n          >\n          <el-button\n            type=\"primary\"\n            class=\"submission\"\n            v-db-click\n            @click=\"handleSubmit('formValidate')\"\n            v-if=\"$route.params.id || currentTab !== '1'\"\n            >保存</el-button\n          >\n        </el-form-item>\n      </el-form>\n      <el-dialog :visible.sync=\"modalPic\" width=\"950px\" scrollable title=\"上传商品图\" :close-on-click-modal=\"false\">\n        <uploadPictures\n          :isChoice=\"isChoice\"\n          @getPic=\"getPic\"\n          @getPicD=\"getPicD\"\n          :gridBtn=\"gridBtn\"\n          :gridPic=\"gridPic\"\n          v-if=\"modalPic\"\n        ></uploadPictures>\n      </el-dialog>\n      <el-dialog\n        :visible.sync=\"addVirtualModel\"\n        width=\"720px\"\n        title=\"添加卡密\"\n        :show-close=\"true\"\n        :close-on-click-modal=\"false\"\n        @closed=\"initVirtualData\"\n      >\n        <div class=\"trip\"></div>\n        <div class=\"type-radio\">\n          <el-form label-width=\"85px\">\n            <el-form-item label=\"卡密类型：\">\n              <el-radio-group v-model=\"disk_type\" size=\"large\">\n                <el-radio :label=\"1\">固定卡密</el-radio>\n                <el-radio :label=\"2\">一次性卡密</el-radio>\n              </el-radio-group>\n              <div v-if=\"disk_type == 1\">\n                <div class=\"stock-disk\">\n                  <el-input v-model=\"disk_info\" size=\"large\" type=\"textarea\" :rows=\"4\" placeholder=\"填写卡密信息\" />\n                </div>\n                <div class=\"stock-input\">\n                  <!-- <el-input type=\"number\" v-model=\"stock\" size=\"large\" :min='0' placeholder=\"填写库存数量\">\n                    <span slot=\"append\">件</span>\n                  </el-input> -->\n                  <el-input-number :controls=\"false\" :max=\"100000\" :min=\"1\" :step=\"1\" :precision=\"0\" v-model=\"stock\" />\n                  <span class=\"pl10\">件</span>\n                </div>\n              </div>\n              <div class=\"scroll-virtual\" v-if=\"disk_type == 2\">\n                <div class=\"virtual-data mb10\" v-for=\"(item, index) in virtualList\" :key=\"index\">\n                  <span class=\"mr10 virtual-title\">卡号{{ index + 1 }}：</span>\n                  <el-input\n                    class=\"mr10\"\n                    type=\"text\"\n                    v-model.trim=\"item.key\"\n                    style=\"width: 150px\"\n                    placeholder=\"请输入卡号(非必填)\"\n                  ></el-input>\n                  <span class=\"mr10 virtual-title\">卡密{{ index + 1 }}：</span>\n                  <el-input\n                    class=\"mr10\"\n                    type=\"text\"\n                    v-model.trim=\"item.value\"\n                    style=\"width: 150px\"\n                    placeholder=\"请输入卡密\"\n                  ></el-input>\n                  <span class=\"deteal-btn\" v-db-click @click=\"removeVirtual(index)\">删除</span>\n                </div>\n              </div>\n              <div class=\"add-more\" v-if=\"disk_type == 2\">\n                <el-button class=\"h-33\" type=\"primary\" v-db-click @click=\"handleAdd\">新增</el-button>\n                <el-upload\n                  class=\"ml10\"\n                  :action=\"cardUrl\"\n                  :data=\"uploadData\"\n                  :headers=\"header\"\n                  :on-success=\"upFile\"\n                  :before-upload=\"beforeUpload\"\n                >\n                  <el-button>导入卡密</el-button>\n                </el-upload>\n              </div>\n            </el-form-item>\n          </el-form>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button v-db-click @click=\"closeVirtual\">取 消</el-button>\n          <el-button type=\"primary\" v-db-click @click=\"upVirtual\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </el-card>\n    <freightTemplate\n      :template=\"template\"\n      v-on:changeTemplate=\"changeTemplate\"\n      @addSuccess=\"productGetTemplate\"\n      ref=\"templates\"\n    ></freightTemplate>\n    <add-attr ref=\"addattr\" @getList=\"userSearchs\"></add-attr>\n    <coupon-list\n      ref=\"couponTemplates\"\n      @nameId=\"nameId\"\n      :couponids=\"formValidate.coupon_ids\"\n      :updateIds=\"updateIds\"\n      :updateName=\"updateName\"\n    ></coupon-list>\n    <coupon-list ref=\"goodsCoupon\" many=\"one\" :luckDraw=\"true\" @getCouponId=\"goodsCouponId\"></coupon-list>\n    <!-- 生成淘宝京东表单-->\n    <el-dialog\n      :visible.sync=\"modals\"\n      @closed=\"cancel\"\n      class=\"Box\"\n      title=\"复制淘宝、天猫、京东、苏宁、1688\"\n      :close-on-click-modal=\"false\"\n      width=\"720px\"\n    >\n      <tao-bao ref=\"taobaos\" v-if=\"modals\" @on-close=\"onClose\"></tao-bao>\n    </el-dialog>\n    <el-dialog :visible.sync=\"goods_modals\" title=\"商品列表\" footerHide class=\"paymentFooter\" scrollable width=\"1000px\">\n      <goods-list v-if=\"goods_modals\" ref=\"goodslist\" :ischeckbox=\"true\" @getProductId=\"getProductId\"></goods-list>\n    </el-dialog>\n    <!-- 用户标签 -->\n    <el-dialog\n      :visible.sync=\"labelShow\"\n      title=\"请选择用户标签\"\n      :show-close=\"true\"\n      width=\"540px\"\n      :close-on-click-modal=\"false\"\n    >\n      <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n    </el-dialog>\n    <!-- 商品标签 -->\n    <el-dialog\n      :visible.sync=\"tagShow\"\n      title=\"请选择商品标签\"\n      :show-close=\"true\"\n      width=\"540px\"\n      :close-on-click-modal=\"false\"\n    >\n      <goodsLabel\n        ref=\"goodsLabel\"\n        :defaultLabelList=\"labelList\"\n        @activeLabel=\"activeLabel\"\n        @close=\"labelClose\"\n      ></goodsLabel>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/labelList';\nimport useLabel from '@/components/goodsLabel/useLabel';\nimport goodsLabel from '@/components/goodsLabel';\nimport { mapState } from 'vuex';\nimport uploadPictures from '@/components/uploadPictures';\nimport freightTemplate from '@/components/freightTemplate';\nimport couponList from '@/components/couponList';\nimport addAttr from '../productAttr/addAttr';\nimport goodsList from '@/components/goodsList/index';\nimport taoBao from './taoBao';\nimport { userLabelAddApi } from '@/api/user';\nimport {\n  productInfoApi,\n  cascaderListApi,\n  productAddApi,\n  generateAttrApi,\n  productGetRuleApi,\n  productGetTemplateApi,\n  productGetTempKeysApi,\n  checkActivityApi,\n  productCache,\n  cacheDelete,\n  uploadType,\n  importCard,\n  productCreateApi,\n  getProductTypeConfig,\n  ruleAddApi,\n  paramListApi,\n  paramInfoApi,\n  productProtectionListApi,\n  productLabelUseListApi,\n} from '@/api/product';\nimport Setting from '@/setting';\nimport { getCookies } from '@/libs/util';\nimport { uploadByPieces } from '@/utils/upload'; //引入uploadByPieces方法\nimport { isFileUpload, isVideoUpload, arraysEqual } from '@/utils';\nimport checkArray from '@/libs/permission';\nimport {\n  GoodsTableHead,\n  VirtualTableHead,\n  VirtualTableHead2,\n  columns2,\n  columns3,\n  CustomList,\n  RuleValidate,\n} from './defaultData.js';\nimport BasicInfo from './components/BasicInfo.vue';\nimport SpecStock from './components/SpecStock.vue';\nimport ProductDetail from './components/ProductDetail.vue';\nimport LogisticsSetting from './components/LogisticsSetting.vue';\nimport PriceCommission from './components/PriceCommission.vue';\nimport MarketingSetting from './components/MarketingSetting.vue';\nimport OtherSetting from './components/OtherSetting.vue';\nimport { formatRichText } from '@/utils/editorImg';\n\nexport default {\n  name: 'ProductAdd',\n  components: {\n    uploadPictures,\n    freightTemplate,\n    addAttr,\n    couponList,\n    taoBao,\n    goodsList,\n    userLabel,\n    goodsLabel,\n    useLabel,\n    BasicInfo,\n    SpecStock,\n    ProductDetail,\n    LogisticsSetting,\n    PriceCommission,\n    MarketingSetting,\n    OtherSetting,\n  },\n  data() {\n    return {\n      labelShow: false,\n      tagShow: false,\n      dataLabel: [],\n      headTab: [\n        { tit: '基础信息', name: '1' },\n        { tit: '规格库存', name: '2' },\n        { tit: '商品详情', name: '3' },\n        { tit: '物流设置', name: '4' },\n        { tit: '会员价/佣金', name: '5' },\n        { tit: '营销设置', name: '6' },\n        { tit: '其他设置', name: '7' },\n      ],\n      virtual: [\n        { tit: '普通商品', id: 0, tit2: '物流发货' },\n        { tit: '卡密/网盘', id: 1, tit2: '自动发货' },\n        { tit: '优惠券', id: 2, tit2: '自动发货' },\n        { tit: '虚拟商品', id: 3, tit2: '虚拟发货' },\n      ],\n      seletVideo: 0, //选择视频类型\n      customBtn: 0, //自定义留言开关\n      content: '',\n      contents: '',\n      fileUrl: Setting.apiBaseURL + '/file/upload',\n      fileUrl2: Setting.apiBaseURL + '/file/video_upload',\n      cardUrl: Setting.apiBaseURL + '/file/upload/1',\n      upload_type: '', //视频上传类型 1 本地上传 2 3 4 OSS上传\n      uploadData: {}, // 上传参数\n      header: {},\n      type: 0,\n      modals: false,\n      goods_modals: false,\n      spinShow: false,\n      openSubimit: false,\n      virtualList: [\n        {\n          key: '',\n          value: '',\n        },\n      ],\n      // 批量设置表格data\n      oneFormBatch: [\n        {\n          pic: '',\n          price: void 0,\n          cost: void 0,\n          ot_price: void 0,\n          stock: void 0,\n          bar_code: '',\n          bar_code_number: '',\n          weight: void 0,\n          volume: void 0,\n          virtual_list: [],\n        },\n      ],\n\n      // 规格数据\n      formDynamic: {\n        attrsName: '',\n        attrsVal: '',\n      },\n      disk_type: 1, //卡密类型\n      tabIndex: 0,\n      tabName: '',\n      formDynamicNameData: [],\n      isBtn: false,\n      columns2: columns2,\n      columns3: columns3,\n      columns: [],\n      columnsInstall: [],\n      columnsInstal2: [],\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      //自定义留言下拉选择\n      CustomList: CustomList,\n      //自定义留言内容\n      currentIndex: 0,\n\n      formValidate: {\n        disk_info: '', //卡密类型\n        logistics: ['1'], //选择物流方式\n        freight: 2, //运费设置\n        postage: 0, //设置运费金额\n        recommend: [], //商品推荐\n        presale_day: 1, //预售发货时间-结束\n        presale: false, //预售商品开关\n        is_limit: false,\n        limit_type: 0,\n        limit_num: 0,\n        vip_product: false, //付费会员专属开关\n        custom_form: [], //自定义留言\n        store_name: '',\n        cate_id: [],\n        label_id: [],\n        keyword: '',\n        unit_name: '',\n        store_info: '',\n        image: '',\n        recommend_image: '',\n        slider_image: [],\n        description: '',\n        ficti: 0,\n        give_integral: 0,\n        sort: 0,\n        is_show: 1,\n        is_gift: 0, // 开启送礼品\n        gift_price: 0,\n        is_hot: 0,\n        is_benefit: 0,\n        is_best: 0,\n        is_new: 0,\n        is_good: 0,\n        is_postage: 0,\n        is_sub: [],\n        recommend_list: [],\n        params_list: [], //商品参数\n        virtual_type: 0,\n        // is_sub: 0,\n        id: 0,\n        spec_type: 0,\n        is_virtual: 0,\n        video_link: '',\n        // postage: 0,\n        temp_id: '',\n        attrs: [],\n        items: [\n          {\n            pic: '',\n            price: 0,\n            cost: 0,\n            ot_price: 0,\n            stock: 0,\n            bar_code: '',\n            bar_code_number: '',\n          },\n        ],\n        activity: ['默认', '秒杀', '砍价', '拼团'],\n        couponName: [],\n        header: [],\n        selectRule: '',\n        coupon_ids: [],\n        command_word: '',\n        min_qty: 1,\n        label_list: [],\n        protection_list: [],\n      },\n      ruleList: [],\n      templateList: [],\n      createBnt: true,\n      showIput: false,\n      manyFormValidate: [],\n      // 单规格表格data\n      oneFormValidate: [\n        {\n          pic: '',\n          price: 0,\n          cost: 0,\n          ot_price: 0,\n          stock: 0,\n          bar_code: '',\n          bar_code_number: '',\n          weight: 0,\n          volume: 0,\n          brokerage: 0,\n          brokerage_two: 0,\n          vip_price: 0,\n          virtual_list: [],\n          coupon_id: 0,\n        },\n      ],\n      images: [],\n      imagesTable: '',\n      currentTab: '1',\n      isChoice: '',\n      loading: false,\n      modalPic: false,\n      addVirtualModel: false,\n      template: false,\n      uploadList: [],\n      treeSelect: [],\n      picTit: '',\n      tableIndex: 0,\n      ruleValidate: RuleValidate,\n      manyBrokerage: undefined,\n      manyBrokerageTwo: undefined,\n      manyVipPrice: undefined,\n      manyVipDiscount: undefined,\n      upload: {\n        videoIng: false, // 是否显示进度条；\n      },\n      videoIng: false, // 是否显示进度条；\n      progress: 0, // 进度条默认0\n      stock: 0,\n      disk_info: '',\n      videoLink: '',\n      attrs: [],\n      activity: { 默认: 'red', 秒杀: 'blue', 砍价: 'green', 拼团: 'yellow' },\n      couponName: [],\n      updateIds: [],\n      updateName: [],\n      couponIds: '',\n      couponNames: [],\n      rakeBack: [\n        {\n          title: '一级返佣(元)',\n          slot: 'brokerage',\n          align: 'center',\n          width: 95,\n        },\n        {\n          title: '二级返佣(元)',\n          slot: 'brokerage_two',\n          align: 'center',\n          width: 95,\n        },\n      ],\n      member: [\n        {\n          title: '会员价',\n          slot: 'vip_price',\n          align: 'center',\n          width: 95,\n        },\n        {\n          title: '会员折扣',\n          slot: 'vip_proportion',\n          align: 'center',\n          width: 95,\n        },\n      ],\n      columnsInstalM: [],\n      moveIndex: '',\n      addValue: '',\n      visible: false,\n      typeConfig: [],\n      goodsType: [],\n      paramsTypeList: [],\n      paramsType: null,\n      canSel: true, // 规格图片添加判断\n      changeAttrValue: '', //修改的规格值\n      tableKey: 0,\n      protectionList: [], // 服务保障\n      labelList: [],\n      tileLabelList: [],\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : '120px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n    labelBottom() {\n      return this.isMobile ? undefined : '15px';\n    },\n  },\n  watch: {\n    typeConfig(val) {\n      if (val.length) {\n        // 对virtual中的id等于val中的id的\n        this.goodsType = this.virtual.filter((item) => {\n          return val.includes(item.id + '');\n        });\n      } else {\n        this.goodsType = this.virtual;\n      }\n    },\n  },\n  beforeRouteUpdate(to, from, next) {\n    this.bus.$emit('onTagsViewRefreshRouterView', this.$route.path);\n    next();\n  },\n  created() {\n    this.columns = this.columns2.slice(0, 8);\n    this.getToken();\n  },\n  async mounted() {\n    if (this.$route.params.id !== '0' && this.$route.params.id) {\n      await this.getInfo();\n    } else if (this.$route.params.id === '0') {\n      this.getProductCache();\n    } else {\n      this.getproductLabelUseListApi();\n    }\n    if (this.$route.query.type) {\n      this.modals = true;\n      this.type = this.$route.query.type;\n    } else {\n      this.type = 0;\n    }\n    this.goodsCategory();\n    this.productGetRule();\n    this.productGetTemplate();\n    this.paramsGetTemplate();\n    this.uploadType();\n    this.productConfig();\n    this.watchActivity();\n    this.getProtectionList();\n  },\n  methods: {\n    getProductCache() {\n      productCache()\n        .then((res) => {\n          let data = res.data.info;\n          this.getproductLabelUseListApi();\n\n          if (!Array.isArray(data)) {\n            let cate_id = data.cate_id.map(Number);\n            let label_id = data.label_id.map(Number);\n            this.attrs = data.items || [];\n            let ids = [];\n            if (data.coupons) {\n              data.coupons.map((item) => {\n                ids.push(item.id);\n              });\n              this.couponName = data.coupons;\n            }\n\n            this.formValidate = data;\n            this.dataLabel = data.label_id;\n            this.formValidate.coupon_ids = ids;\n            this.updateIds = ids;\n            this.updateName = data.coupons;\n            this.formValidate.cate_id = cate_id;\n            this.oneFormValidate = data.attrs;\n            this.generateHeader(this.attrs);\n            this.formValidate.logistics = data.logistics || ['1'];\n            this.formValidate.header = [];\n            this.manyFormValidate = data.attrs;\n            this.spec_type = data.spec_type;\n            this.formValidate.is_virtual = data.is_virtual;\n            this.formValidate.custom_form = data.custom_form || [];\n            if (this.formValidate.custom_form.length != 0) {\n              this.customBtn = 1;\n            }\n            this.attrs.map((item) => {\n              if (item.add_pic) this.canSel = false;\n            });\n            this.virtualbtn(data.virtual_type, 1);\n            if (data.spec_type === 0) {\n              this.manyFormValidate = [];\n            } else {\n              this.createBnt = true;\n              this.oneFormValidate = [\n                {\n                  pic: data.image,\n                  price: 0,\n                  cost: 0,\n                  ot_price: 0,\n                  stock: 0,\n                  bar_code: '',\n                  bar_code_number: '',\n                  weight: 0,\n                  volume: 0,\n                  brokerage: 0,\n                  brokerage_two: 0,\n                  vip_price: 0,\n                  virtual_list: [],\n                  coupon_id: 0,\n                },\n              ];\n            }\n            this.watchActivity();\n            this.spinShow = false;\n          }\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n    getProtectionList() {\n      productProtectionListApi({ page: 0, limit: 0, status: 1 }).then((res) => {\n        this.protectionList = res.data.list;\n      });\n    },\n    getproductLabelUseListApi() {\n      productLabelUseListApi().then((res) => {\n        // 合并数组中所有的list\n        this.tileLabelList = res.data.flatMap((item) => item.list);\n        let labelList = res.data;\n        if (this.formValidate.label_list.length) {\n          this.formValidate.label_list.map((el) => {\n            labelList.map((re) => {\n              re.list.map((label) => {\n                if (label.id === el) {\n                  label.active = true;\n                } else {\n                  label.active = false;\n                }\n              });\n            });\n          });\n        } else {\n          labelList.map((el) => {\n            el.list.map((label) => {\n              label.active = false;\n            });\n          });\n        }\n        this.labelList = labelList;\n      });\n    },\n    addProtection() {\n      this.$router.push({ path: this.$routeProStr + '/product/protection/list' });\n    },\n    productConfig() {\n      getProductTypeConfig().then((res) => {\n        this.typeConfig = res.data;\n      });\n    },\n    beforeUpload(file) {\n      return isFileUpload(file);\n    },\n    // 分片上传\n    videoSaveToUrl(file) {\n      if (isVideoUpload(file)) {\n        uploadByPieces({\n          file: file, // 视频实体\n          pieceSize: 3, // 分片大小\n          success: (data) => {\n            this.formValidate.video_link = data.file_path;\n            this.progress = 100;\n          },\n          error: (e) => {\n            this.$message.error(e.msg);\n          },\n          uploading: (chunk, allChunk) => {\n            this.videoIng = true;\n            let st = Math.floor((chunk / allChunk) * 100);\n            this.progress = st;\n          },\n        });\n      }\n      return false;\n    },\n    // 类型选择/填入内容判断\n    virtualbtn(index, type) {\n      if (type != 1) {\n        if (this.$route.params.id) return this.$message.error('编辑商品不支持切换商品类型');\n        this.formValidate.is_sub = [];\n        let id = this.$route.params.id;\n        if (id) {\n          checkActivityApi(id)\n            .then((res) => {})\n            .catch((res) => {\n              this.formValidate.spec_type = this.spec_type;\n              this.$message.error(res.msg);\n            });\n        } else {\n          if (this.formValidate.spec_type == 1) {\n            this.generate(1);\n          }\n        }\n      }\n      // 定义基础商品和虚拟商品的标签页配置\n      const baseHeadTabs = [\n        { tit: '基础信息', name: '1' },\n        { tit: '规格库存', name: '2' },\n        { tit: '商品详情', name: '3' },\n        { tit: '物流设置', name: '4' },\n        { tit: '会员价/佣金', name: '5' },\n        { tit: '营销设置', name: '6' },\n        { tit: '其他设置', name: '7' },\n      ];\n      const virtualHeadTabs = [\n        { tit: '基础信息', name: '1' },\n        { tit: '规格库存', name: '2' },\n        { tit: '商品详情', name: '3' },\n        { tit: '会员价/佣金', name: '4' },\n        { tit: '营销设置', name: '5' },\n        { tit: '其他设置', name: '6' },\n      ];\n\n      switch (index) {\n        case 0: // 普通商品\n          this.formValidate.virtual_type = 0;\n          this.formValidate.is_virtual = 0;\n          this.headTab = baseHeadTabs;\n          break;\n\n        case 1: // 卡密/网盘商品\n          this.formValidate.virtual_type = 1;\n          this.formValidate.postage = 0;\n          this.formValidate.is_virtual = 1;\n          this.headTab = virtualHeadTabs;\n          break;\n\n        case 2: // 优惠券商品\n          this.formValidate.virtual_type = 2;\n          this.formValidate.is_virtual = 1;\n          this.headTab = virtualHeadTabs;\n          break;\n\n        case 3: // 虚拟商品\n          this.formValidate.virtual_type = 3;\n          this.formValidate.is_virtual = 1;\n          this.headTab = virtualHeadTabs;\n          break;\n      }\n    },\n    // 新增分类\n    addCate() {\n      this.$modalForm(productCreateApi()).then(() => this.goodsCategory());\n    },\n    // 物流方式选择\n    logisticsBtn(e) {\n      this.formValidate.logistics = e;\n    },\n    // 新增标签\n    addLabel() {\n      this.$modalForm(userLabelAddApi(0)).then(() => this.userLabel());\n    },\n    // 选择标签\n    addGoodsTag() {\n      this.tagShow = true;\n    },\n    // 自定义留言 开启关闭\n    customMessBtn(e) {\n      if (!e) {\n        this.formValidate.custom_form = [];\n      }\n      this.customBtn = e;\n    },\n    // 自定义留言 新增表单\n    addcustom() {\n      if (this.formValidate.custom_form.length > 9) {\n        this.$message.warning('最多添加10条');\n      } else {\n        this.formValidate.custom_form.push({\n          title: '',\n          label: 'text',\n          value: '',\n          status: false,\n        });\n      }\n    },\n    // 删除\n    delcustom(index) {\n      this.formValidate.custom_form.splice(index, 1);\n    },\n    // 预售具体日期\n    onchangeTime(e) {\n      this.formValidate.presale_time = e;\n    },\n    // 商品详情\n    getEditorContent(data) {\n      this.content = data;\n    },\n    cancel() {\n      this.modals = false;\n    },\n    // 上传头部token\n    getToken() {\n      this.header['Authori-zation'] = 'Bearer ' + getCookies('token');\n    },\n    // 导入卡密\n    upFile(res) {\n      importCard({ file: res.data.src }).then((res) => {\n        this.virtualList = this.virtualList.concat(res.data);\n      });\n    },\n    //获取视频上传类型\n    uploadType() {\n      uploadType().then((res) => {\n        this.upload_type = res.data.upload_type;\n      });\n    },\n    // 初始化数据展示\n    infoData(data, isCopy) {\n      let cate_id = data.cate_id.map(Number);\n      let label_id = data.label_id.map(Number);\n      this.attrs = data.items || [];\n      let ids = [];\n      data.coupons.map((item) => {\n        ids.push(item.id);\n      });\n      this.formValidate = data;\n      this.seletVideo = data.seletVideo;\n      this.contents = data.description;\n      this.couponName = data.coupons;\n      this.formValidate.coupon_ids = ids;\n      this.updateIds = ids;\n      this.dataLabel = data.label_id;\n      this.updateName = data.coupons;\n      this.virtualbtn(data.virtual_type, 1);\n      this.formValidate.logistics = data.logistics || ['1'];\n      this.formValidate.custom_form = data.custom_form || [];\n      if (this.formValidate.custom_form.length != 0) {\n        this.customBtn = 1;\n      }\n      this.formValidate.cate_id = cate_id;\n      if (data.attr) {\n        this.oneFormValidate = [data.attr];\n        this.oneFormValidate[0].vip_proportion = (\n          (this.oneFormValidate[0].vip_price / this.oneFormValidate[0].price) *\n          100\n        ).toFixed(2);\n      }\n      this.getproductLabelUseListApi();\n\n      this.formValidate.header = [];\n      this.spec_type = data.spec_type;\n      this.formValidate.spec_type = this.spec_type;\n      this.formValidate.is_virtual = data.is_virtual;\n      this.attrs.map((item) => {\n        if (item.add_pic) this.canSel = false;\n      });\n      if (data.spec_type === 0) {\n        this.manyFormValidate = [];\n      } else {\n        this.createBnt = true;\n        this.oneFormValidate = [\n          {\n            pic: '',\n            price: 0,\n            cost: 0,\n            ot_price: 0,\n            stock: 0,\n            bar_code: '',\n            bar_code_number: '',\n            weight: 0,\n            volume: 0,\n            brokerage: 0,\n            brokerage_two: 0,\n            vip_price: 0,\n            virtual_list: [],\n            coupon_id: 0,\n          },\n        ];\n\n        this.generateHeader(this.attrs);\n        this.manyFormValidate = [...this.oneFormBatch, ...data.attrs];\n      }\n\n      setTimeout((e) => {\n        this.checkAllGroup(data.is_sub);\n      }, 1000);\n      this.watchActivity();\n    },\n    //关闭淘宝弹窗并生成数据；\n    onClose(data) {\n      this.modals = false;\n      this.infoData(data, 1);\n    },\n\n    checkMove(evt) {\n      this.moveIndex = evt.draggedContext.index;\n    },\n    end() {\n      this.moveIndex = '';\n      this.generate(1);\n    },\n    // 单独设置会员设置\n    checkAllGroupChange(data) {\n      this.checkAllGroup(data);\n    },\n    checkAllGroup(data) {\n      let endLength = this.attrs.length + 3;\n      if (this.formValidate.spec_type === 0) {\n        if (data.length === 2) {\n          this.columnsInstall = this.columns2.slice(0, endLength).concat(this.rakeBack).concat(this.member);\n        } else if (data.indexOf(0) > -1) {\n          this.columnsInstall = this.columns2.slice(0, endLength).concat(this.member);\n        } else if (data.indexOf(1) > -1) {\n          this.columnsInstall = this.columns2.slice(0, endLength).concat(this.rakeBack);\n        } else {\n          this.columnsInstall = this.columns2.slice(0, endLength);\n        }\n      } else {\n        if (data.length === 2) {\n          this.columnsInstal2 = this.columnsInstalM\n            .slice(0, endLength + 1)\n            .concat(this.rakeBack)\n            .concat(this.member);\n        } else if (data.indexOf(0) > -1) {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, endLength).concat(this.member);\n        } else if (data.indexOf(1) > -1) {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, endLength).concat(this.rakeBack);\n        } else {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, endLength);\n        }\n      }\n    },\n    // 添加优惠券\n    addCoupon() {\n      this.$refs.couponTemplates.isTemplate = true;\n      this.$refs.couponTemplates.tableList();\n    },\n    // 规格中优惠券查看\n    see(data, name, index) {\n      this.tabName = name;\n      this.tabIndex = index;\n\n      if (this.formValidate.virtual_type === 1) {\n        if (data.disk_info != '') {\n          this.disk_type = 1;\n          this.disk_info = data.disk_info;\n          this.stock = data.stock;\n        } else if (data.virtual_list.length) {\n          this.disk_type = 2;\n          this.virtualList = data.virtual_list;\n        }\n        this.addVirtualModel = true;\n      } else {\n        this.$refs.goodsCoupon.isTemplate = true;\n        this.$refs.goodsCoupon.tableList(3);\n      }\n    },\n    // 修改分佣比例\n    changeDiscount(index, type = 'manyFormValidate') {\n      // 根据分佣比例 vip_proportion 修改会员价 保留2位小数\n      this[type][index].vip_price = (this[type][index].price * (this[type][index].vip_proportion / 100)).toFixed(2);\n    },\n    // 修改会员价\n    changeVipPrice(index, type = 'manyFormValidate') {\n      // 根据会员价计算出分佣比例\n      this[type][index].vip_proportion = ((this[type][index].vip_price / this[type][index].price) * 100).toFixed(2);\n    },\n    // 添加优惠券\n    addGoodsCoupon(index, name) {\n      this.tabIndex = index;\n      this.tabName = name;\n      this.$refs.goodsCoupon.isTemplate = true;\n      this.$refs.goodsCoupon.tableList(3);\n    },\n    addVirtual(index, name) {\n      this.tabIndex = index;\n      this.tabName = name;\n      this.addVirtualModel = true;\n    },\n    // 提交卡密信息\n    upVirtual() {\n      if (this.disk_type == 2) {\n        for (let i = 0; i < this.virtualList.length; i++) {\n          const element = this.virtualList[i];\n          if (!element.value) {\n            this.$message.error('请输入所有卡密');\n            return;\n          }\n        }\n        this.$set(this[this.tabName][this.tabIndex], 'virtual_list', this.virtualList);\n        this.$set(this[this.tabName][this.tabIndex], 'stock', this.virtualList.length);\n        this.virtualList = [\n          {\n            key: '',\n            value: '',\n          },\n        ];\n        this.$set(this[this.tabName][this.tabIndex], 'disk_info', '');\n      } else {\n        if (!this.disk_info.length) {\n          return this.$message.error('请填写卡密信息');\n        }\n        if (!this.stock) {\n          return this.$message.error('请填写库存数量');\n        }\n        this.$set(this[this.tabName][this.tabIndex], 'stock', Number(this.stock));\n        this.$set(this[this.tabName][this.tabIndex], 'stock', Number(this.stock));\n        this.$set(this[this.tabName][this.tabIndex], 'disk_info', this.disk_info);\n        this.$set(this[this.tabName][this.tabIndex], 'virtual_list', []);\n      }\n      this.addVirtualModel = false;\n      this.closeVirtual();\n    },\n    //  初始化卡密数据信息\n    closeVirtual() {\n      this.addVirtualModel = false;\n      this.virtualList = [\n        {\n          key: '',\n          value: '',\n        },\n      ];\n      this.disk_info = '';\n      this.stock = 0;\n    },\n    //对象数组去重；\n    uniqueArray(arr) {\n      const seen = {};\n      return arr.filter((item) => {\n        const key = JSON.stringify(item); // 使用 JSON.stringify 生成唯一键\n        if (seen[key]) {\n          return false;\n        } else {\n          seen[key] = true;\n          return true;\n        }\n      });\n    },\n    // 获取优惠券id数据\n    nameId(id, names) {\n      this.formValidate.coupon_ids = id;\n      this.couponName = this.uniqueArray(names);\n    },\n    // 获取优惠券信息\n    goodsCouponId(data) {\n      this.$set(this[this.tabName][this.tabIndex], 'coupon_id', data.id);\n      this.$set(this[this.tabName][this.tabIndex], 'coupon_name', data.title);\n      this.$refs.goodsCoupon.isTemplate = false;\n    },\n    handleClose(name) {\n      let index = this.couponName.indexOf(name);\n      this.couponName.splice(index, 1);\n      let couponIds = this.formValidate.coupon_ids;\n      couponIds.splice(index, 1);\n      this.updateIds = couponIds;\n      this.updateName = this.couponName;\n    },\n    // 添加运费模板\n    addTemp() {\n      this.$refs.templates.isTemplate = true;\n    },\n    addVideo() {\n      this.$videoModal((e) => {\n        this.formValidate.video_link = e;\n      });\n    },\n    // 删除视频；\n    delVideo() {\n      this.$set(this.formValidate, 'video_link', '');\n      this.$set(this, 'progress', 0);\n      this.videoIng = false;\n      this.upload.videoIng = false;\n    },\n    zh_uploadFile() {\n      if (this.seletVideo == 1) {\n        this.formValidate.video_link = this.videoLink;\n      } else {\n        this.$refs.refid.click();\n      }\n    },\n    // 上传视频\n    zh_uploadFile_change(evfile) {\n      let suffix = evfile.target.files[0].name.substr(evfile.target.files[0].name.indexOf('.'));\n      if (suffix.indexOf('.mp4') === -1) {\n        return this.$message.error('只能上传MP4文件');\n      }\n      let types = {\n        key: evfile.target.files[0].name,\n        contentType: evfile.target.files[0].type,\n      };\n      productGetTempKeysApi(types)\n        .then((res) => {\n          this.$videoCloud\n            .videoUpload({\n              type: res.data.type,\n              evfile: evfile,\n              res: res,\n              uploading(status, progress) {\n                this.upload.videoIng = status;\n                if (res.status == 200) {\n                  this.progress = 100;\n                }\n              },\n            })\n            .then((res) => {\n              this.formValidate.video_link = res.url;\n              this.$message.success('视频上传成功');\n              this.upload.videoIng = false;\n            })\n            .catch((res) => {\n              this.$message.error(res);\n            });\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 上一页；\n    upTab() {\n      this.currentTab = (Number(this.currentTab) - 1).toString();\n    },\n    // 下一页；\n    downTab() {\n      this.currentTab = (Number(this.currentTab) + 1).toString();\n    },\n    // 属性弹窗回调函数；\n    userSearchs() {\n      this.productGetRule();\n    },\n    // 添加规则；\n    addRule() {\n      this.$refs.addattr.modal = true;\n    },\n    // 批量设置分佣；\n    brokerageSetUp() {\n      if (this.formValidate.is_sub.indexOf(1) > -1) {\n        if (this.manyBrokerage <= 0 || this.manyBrokerageTwo <= 0) {\n          return this.$message.error('请填写返佣金额后进行批量添加');\n        }\n      } else if (this.formValidate.is_sub.indexOf(0) > -1) {\n        if (this.manyVipPrice <= 0) {\n          return this.$message.error('请填写会员价后进行批量添加');\n        }\n      }\n      if (this.formValidate.is_sub.length === 2) {\n        if (this.manyBrokerage <= 0 || this.manyBrokerageTwo <= 0) {\n          return this.$message.error('请填写完金额后进行批量添加');\n        }\n        if (this.manyVipPrice > 0 && this.manyVipDiscount > 0) {\n          return this.$message.error('会员价和会员折扣只能二选一添加');\n        }\n      }\n      for (let val of this.manyFormValidate) {\n        this.manyBrokerage != undefined && this.$set(val, 'brokerage', this.manyBrokerage);\n        this.manyBrokerageTwo != undefined && this.$set(val, 'brokerage_two', this.manyBrokerageTwo);\n        if (this.manyVipPrice != undefined) {\n          this.$set(val, 'vip_price', this.manyVipPrice);\n          this.$set(val, 'vip_proportion', ((val.vip_price / val.price) * 100).toFixed(2));\n        } else {\n          this.$set(val, 'vip_proportion', this.manyVipDiscount);\n          this.$set(val, 'vip_price', (val.price * (this.manyVipDiscount / 100)).toFixed(2));\n        }\n      }\n    },\n    // 批量设置会员价\n    vipPriceSetUp() {\n      if (this.manyVipPrice <= 0) {\n        return this.$message.error('请填写会员价在进行批量添加');\n      } else {\n        for (let val of this.manyFormValidate) {\n          this.$set(val, 'vip_price', this.manyVipPrice);\n        }\n      }\n    },\n    // 新增卡密\n    handleAdd() {\n      this.virtualList.push({\n        key: '',\n        value: '',\n      });\n    },\n    // 初始化卡密信息\n    initVirtualData(status) {\n      this.virtualList = [\n        {\n          key: '',\n          value: '',\n        },\n      ];\n    },\n    removeVirtual(index) {\n      this.virtualList.splice(index, 1);\n    },\n    // 清空批量规格信息\n    batchDel() {\n      this.oneFormBatch = [\n        {\n          pic: '',\n          price: void 0,\n          cost: void 0,\n          ot_price: void 0,\n          stock: void 0,\n          bar_code: '',\n          bar_code_number: '',\n          weight: void 0,\n          volume: void 0,\n          virtual_list: [],\n        },\n      ];\n    },\n    confirm(name) {\n      this.createBnt = true;\n      this.formValidate.selectRule = name;\n      this.attrs = [];\n      if (this.formValidate.selectRule.trim().length <= 0) {\n        return this.$message.error('请选择属性');\n      }\n      this.ruleList.forEach((item, index) => {\n        if (item.rule_name === this.formValidate.selectRule) {\n          this.attrs = [...item.rule_value];\n        }\n      });\n      this.canSel = true;\n      this.generateAttr(this.attrs);\n    },\n    // 选择规格模板\n    handleCommand(e) {},\n    // 获取商品属性模板；\n    productGetRule() {\n      productGetRuleApi().then((res) => {\n        this.ruleList = res.data;\n      });\n    },\n    // 获取运费模板；\n    productGetTemplate() {\n      productGetTemplateApi().then((res) => {\n        this.templateList = res.data;\n      });\n    },\n    paramsGetTemplate() {\n      paramListApi().then((res) => {\n        this.paramsTypeList = res.data.list;\n      });\n    },\n    changeParamsType(e) {\n      e ? this.getParams(e) : (this.formValidate.params_list = []);\n    },\n    getParams(id) {\n      paramInfoApi(id).then((res) => {\n        this.formValidate.params_list = res.data.value;\n      });\n    },\n    isSubset(arr1, arr2) {\n      // 将数组转换为 Set，以便进行高效的包含检查\n      const set1 = new Set(arr1);\n      const set2 = new Set(arr2);\n\n      // 检查 set2 中的每个元素是否都在 set1 中\n      for (let elem of set2) {\n        if (!set1.has(elem)) {\n          return false;\n        }\n      }\n      return true;\n    },\n    // 批量添加\n    batchAdd() {\n      let arr = [];\n      for (let val of this.attrs) {\n        if (this.oneFormBatch[0][val.value]) {\n          arr.push(this.oneFormBatch[0][val.value]);\n        }\n      }\n\n      // 批量设置商品规格属性\n      const batchFields = [\n        'pic',\n        'price',\n        'cost',\n        'ot_price',\n        'stock',\n        'weight',\n        'volume',\n        'bar_code',\n        'bar_code_number',\n      ];\n      // const defaultFields = ['bar_code', 'bar_code_number'];\n\n      for (let val of this.manyFormValidate) {\n        const batch = this.oneFormBatch[0];\n        // 如果存在筛选条件且满足条件,或无筛选条件时\n        if (!arr.length || this.isSubset(val.attr_arr, arr)) {\n          // 设置有值的批量字段\n          batchFields.forEach((field) => {\n            if (batch[field] && batch[field] !== undefined) {\n              if (field === 'pic' && batch[field]) {\n                this.$set(val, field, batch[field]);\n              } else if (field != 'pic') {\n                this.$set(val, field, batch[field]);\n              }\n            }\n          });\n\n          // 设置默认字段\n          // defaultFields.forEach((field) => {\n          //   this.$set(val, field, batch[field]);\n          // });\n        }\n      }\n    },\n    changeSpecImg(arr, img) {\n      // 判断是否存在规格图\n      let isHas = false;\n      for (let i = 1; i < this.manyFormValidate.length; i++) {\n        let item = this.manyFormValidate[i];\n        if (item.pic && this.isSubset(item.attr_arr, arr)) {\n          isHas = true;\n          break;\n        }\n      }\n      if (isHas) {\n        this.$confirm('可以同步修改下方该规格图片，确定要替换吗？', '提示', {\n          confirmButtonText: '替换',\n          cancelButtonText: '暂不',\n          type: 'warning',\n        })\n          .then(() => {\n            for (let val of this.manyFormValidate) {\n              if (this.isSubset(val.attr_arr, arr)) {\n                this.$set(val, 'pic', img);\n              }\n            }\n          })\n          .catch(() => {});\n      } else {\n        for (let val of this.manyFormValidate) {\n          if (this.isSubset(val.attr_arr, arr)) {\n            this.$set(val, 'pic', img);\n          }\n        }\n      }\n    },\n    // 立即生成\n    generate(type, isCopy, arr) {\n      this.manyFormValidate = [];\n      this.formValidate.header = [];\n    },\n    clearAttr() {\n      this.formDynamic.attrsName = '';\n      this.formDynamic.attrsVal = '';\n    },\n\n    // 删除规格\n    handleRemoveRole(index) {\n      this.attrs.splice(index, 1);\n      this.manyFormValidate.splice(index, 1);\n      if (!this.attrs.length) {\n        this.formValidate.header = [];\n        this.manyFormValidate = [];\n      } else {\n        this.generateAttr(this.attrs);\n      }\n    },\n    // 删除表格中 对应属性\n    delAttrTable(val) {\n      for (let i = 0; i < this.manyFormValidate.length; i++) {\n        let item = this.manyFormValidate[i];\n        if (item.attr_arr && item.attr_arr.includes(val)) {\n          this.manyFormValidate.splice(i, 1);\n          i--;\n        }\n      }\n    },\n    // 删除属性\n    handleRemove2(item, index, val) {\n      // 删除 manyFormValidate中 title = item.value 的属性值\n      item.splice(index, 1);\n      // this.generateAttr(this.attrs);\n      this.delAttrTable(val);\n    },\n    // 新增规格\n    handleAddRole() {\n      let data = {\n        value: this.formDynamic.attrsName,\n        add_pic: 0,\n        detail: [],\n      };\n      this.attrs.push(data);\n    },\n    handleAddParams() {\n      let data = {\n        name: '',\n        value: '',\n      };\n      this.formValidate.params_list.push(data);\n    },\n    handleSaveAsTemplate() {\n      this.$prompt('', '请输入模板名称', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      })\n        .then(({ value }) => {\n          let spec = this.attrs.map((item) => {\n            return {\n              value: item.value,\n              detail: item.detail.map((e) => e.value),\n            };\n          });\n          let formDynamic = {\n            rule_name: value,\n            spec: spec,\n          };\n          ruleAddApi(formDynamic, 0)\n            .then((res) => {\n              this.$message.success(res.msg);\n              this.productGetRule();\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        })\n        .catch(() => {});\n    },\n    // 新增一条属性\n    addOneAttr(val, val2) {\n      this.generateAttr(this.attrs, val2);\n    },\n    handleFocus(val) {\n      this.changeAttrValue = val;\n    },\n    handleBlur() {\n      this.changeAttrValue = '';\n    },\n    handleSelImg(item) {\n      this.$imgModal((e) => {\n        item.pic = e.att_dir;\n        this.changeSpecImg([item.value], e.att_dir);\n      });\n    },\n    handleRemoveImg(item) {\n      item.pic = '';\n    },\n    // 规格名称改变\n    attrChangeValue(i, val) {\n      if (val.trim().length && this.attrs[i].detail.length) {\n        this.generateHeader(this.attrs);\n        if (this.manyFormValidate.length) {\n          this.manyFormValidate.map((item, i) => {\n            if (i > 0) {\n              if (Object.keys(item.detail).includes(this.changeAttrValue)) {\n                item.detail[val] = item.detail[this.changeAttrValue];\n                item[val] = item[this.changeAttrValue];\n                delete item.detail[this.changeAttrValue];\n                delete item[this.changeAttrValue];\n              }\n            }\n          });\n          this.changeAttrValue = val;\n        }\n      } else {\n        this.generateAttr(this.attrs);\n      }\n    },\n    // 规格值改变\n    attrDetailChangeValue(val, i) {\n      if (this.manyFormValidate.length) {\n        let key = this.attrs[i].value;\n        this.manyFormValidate.map((item, i) => {\n          if (i > 0) {\n            if (Object.keys(item.detail).includes(key) && item.detail[key] === this.changeAttrValue) {\n              item.detail[key] = val;\n              let index = item.attr_arr.findIndex((item) => item === this.changeAttrValue);\n              item.attr_arr[index] = val;\n            }\n          }\n        });\n        this.changeAttrValue = val;\n      } else {\n        this.generateAttr(this.attrs, 1);\n      }\n    },\n    // 规格图片添加开关\n    addPic(e, i) {\n      if (e) {\n        this.attrs.map((item, ii) => {\n          if (ii !== i) {\n            this.$set(item, 'add_pic', 0);\n          }\n        });\n        this.canSel = false;\n      } else {\n        this.canSel = true;\n      }\n    },\n    // 规格拖拽排序后\n    onMoveSpec() {\n      this.generateAttr(this.attrs);\n    },\n    changeCurrentIndex(i) {\n      this.currentIndex = i;\n    },\n    // 生成商品规格表头\n    generateHeader(data) {\n      let specificationsColumns = data.map((item) => ({\n        title: item.value,\n        key: item.value,\n        minWidth: 140,\n        fixed: 'left',\n      }));\n      let arr;\n      if ([1, 2].includes(Number(this.formValidate.virtual_type))) {\n        arr = [...specificationsColumns, ...VirtualTableHead];\n        // 找到slot 等于 fictitious 将title改为规格名称\n        this.formValidate.header.map((item) => {\n          if (item.slot === 'fictitious') {\n            item.title = this.formValidate.virtual_type == 1 ? '添加卡密/网盘' : '选择优惠券';\n          }\n        });\n      } else if (this.formValidate.virtual_type == 3) {\n        arr = [...specificationsColumns, ...VirtualTableHead2];\n      } else {\n        arr = [...specificationsColumns, ...GoodsTableHead];\n      }\n      this.$set(this.formValidate, 'header', arr);\n      this.tableKey += 1;\n      this.columnsInstalM = arr;\n    },\n    /*\n     * 生成属性\n     * @param {Array} data 规格数据\n     * */\n    generateAttr(data, val) {\n      this.generateHeader(data);\n      const combinations = this.generateCombinations(data);\n      console.log('规格组合总数：' + combinations.length);\n      const virtualType = this.formValidate.virtual_type;\n      // 如果combinations数量超过 500，则分批次生成属性\n      let rows = [];\n      if (combinations.length > 500) {\n        const batchSize = Math.ceil(combinations.length / 500);\n        for (let i = 0; i < combinations.length; i += batchSize) {\n          setTimeout((e) => {\n            let d = this.generateAttrBatch(data, combinations.slice(i, i + batchSize), val);\n            rows = [...rows, ...d];\n            this.manyFormValidate = [...this.oneFormBatch, ...rows];\n          }, 0);\n        }\n      } else {\n        rows = this.generateAttrBatch(data, combinations, val);\n        this.manyFormValidate = [...this.oneFormBatch, ...rows];\n      }\n    },\n    // 生成属性批次\n    generateAttrBatch(data, combinations, val) {\n      const existingItems = this.manyFormValidate.slice(1); // 排除第一项默认数据\n\n      const rows = combinations.map((combination) => {\n        const row = {\n          attr_arr: combination,\n          detail: {},\n          title: '',\n          key: '',\n          price: 0,\n          pic: '',\n          ot_price: 0,\n          cost: 0,\n          stock: 0,\n          is_show: 1,\n          is_default_select: 0,\n          unique: '',\n          weight: '',\n          volume: '',\n          brokerage: 0,\n          brokerage_two: 0,\n          vip_price: 0,\n          vip_proportion: 0,\n        };\n\n        // 设置虚拟类型相关属性\n        if (this.formValidate.virtual_type === 1) {\n          row.virtual_list = [];\n          row.disk_info = '';\n        } else if (this.formValidate.virtual_type === 2) {\n          row.coupon_id = 0;\n          row.coupon_name = '';\n        }\n\n        // 处理规格属性\n        data.forEach((item, i) => {\n          const value = combination[i];\n          row[item.value] = value;\n          row.title = item.value;\n          row.key = item.value;\n          row.detail[item.value] = value;\n\n          // 查找匹配的现有规格项\n          const matchedItem = existingItems.find((item) => item.attr_arr && arraysEqual(item.attr_arr, combination));\n\n          if (matchedItem) {\n            Object.assign(row, {\n              price: matchedItem.price,\n              cost: matchedItem.cost,\n              ot_price: matchedItem.ot_price,\n              stock: matchedItem.stock,\n              pic: matchedItem.pic,\n              unique: matchedItem.unique || '',\n              weight: matchedItem.weight || '',\n              volume: matchedItem.volume || '',\n              is_show: matchedItem.is_show || 1,\n              is_default_select: matchedItem.is_default_select || 0,\n              volume: matchedItem.volume || 0,\n              bar_code_number: matchedItem.bar_code_number || 0,\n              is_virtual: matchedItem.is_virtual,\n              brokerage: matchedItem.brokerage,\n              brokerage_two: matchedItem.brokerage_two,\n              vip_price: matchedItem.vip_price,\n              vip_proportion: matchedItem.vip_proportion,\n            });\n\n            if (this.formValidate.virtual_type === 1) {\n              row.virtual_list = matchedItem.virtual_list;\n              row.disk_info = matchedItem.disk_info;\n            } else if (this.formValidate.virtual_type === 2 && matchedItem.coupon_id) {\n              row.coupon_id = matchedItem.coupon_id;\n              row.coupon_name = matchedItem.coupon_name;\n            }\n          } else if (item.add_pic && combination.includes(val)) {\n            const picItem = item.detail.find((e) => combination.includes(e.value));\n            if (picItem) row.pic = picItem.pic;\n          }\n        });\n        return row;\n      });\n      return rows;\n    },\n    // 切换默认选中规格\n    changeDefaultSelect(e, index) {\n      // 一个开启 其他关闭\n      this.manyFormValidate.map((item, i) => {\n        if (i !== index) {\n          item.is_default_select = 0;\n        }\n      });\n      if (e) this.manyFormValidate[index].is_show = 1;\n    },\n    // 改变是否显示\n    changeDefaultShow(index) {\n      // 如果默认选中开启 则不可隐藏\n      if (this.manyFormValidate[index].is_default_select === 1) {\n        this.manyFormValidate[index].is_show = 1;\n        this.$message.error('默认规格不可隐藏');\n      }\n    },\n    // 生成规格组合\n    generateCombinations(arr, prefix = []) {\n      if (arr.length === 0) {\n        return [prefix];\n      }\n      const [first, ...rest] = arr;\n      return first.detail.flatMap((detail) => this.generateCombinations(rest, [...prefix, detail.value]));\n    },\n    // 添加属性\n    createAttr(num, idx) {\n      if (num) {\n        // 判断是否存在同样熟悉\n        var isExist = this.attrs[idx].detail.some((item) => item.value === num);\n        if (isExist) {\n          this.$message.error('规格值已存在');\n          return;\n        }\n        this.attrs[idx].detail.push({ value: num, pic: '' });\n        if (this.manyFormValidate.length) {\n          this.addOneAttr(this.attrs[idx].value, num);\n        } else {\n          this.generateAttr(this.attrs);\n        }\n\n        this.$refs.specStock.$refs['popoverRef_' + idx][0].doClose(); //关闭的\n        this.clearAttr();\n        setTimeout(() => {\n          if (this.$refs.specStock.$refs['popoverRef_' + idx]) {\n            //重点是以下两句\n            this.$refs.specStock.$refs['popoverRef_' + idx][0].doShow(); //打开的\n            //重点是以上两句\n          }\n        }, 20);\n      } else {\n        this.$refs.specStock.$refs['popoverRef_' + idx][0].doClose(); //关闭的\n      }\n    },\n    handleShowPop(index) {\n      this.$refs.specStock.$refs['inputRef_' + index][0].focus();\n    },\n    // 商品分类；\n    goodsCategory() {\n      cascaderListApi(1)\n        .then((res) => {\n          this.treeSelect = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 改变规格\n    changeSpec() {\n      this.formValidate.is_sub = [];\n      let id = this.$route.params.id;\n      if (id) {\n        checkActivityApi(id)\n          .then((res) => {})\n          .catch((res) => {\n            this.formValidate.spec_type = this.spec_type;\n            this.$message.error(res.msg);\n          });\n      }\n    },\n    // 详情\n    getInfo() {\n      this.spinShow = true;\n      productInfoApi(this.$route.params.id)\n        .then(async (res) => {\n          let data = res.data.productInfo;\n          this.infoData(data);\n          this.spinShow = false;\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.$message.error(res.msg);\n        });\n    },\n    handleRemove(i) {\n      this.images.splice(i, 1);\n      this.formValidate.slider_image.splice(i, 1);\n      this.oneFormValidate[0].pic = this.formValidate.slider_image[0];\n    },\n    // 关闭图片上传模态框\n    changeCancel(msg) {\n      this.modalPic = false;\n    },\n    // 点击商品图\n    modalPicTap(tit, picTit = '', index = 0) {\n      this.modalPic = true;\n      this.isChoice = tit === 'dan' ? '单选' : '多选';\n      this.picTit = picTit;\n      this.tableIndex = index;\n    },\n    // 获取单张图片信息\n    getPic(pc) {\n      switch (this.picTit) {\n        case 'danFrom':\n          this.formValidate.image = pc.att_dir;\n          if (!this.$route.params.id) {\n            if (this.formValidate.spec_type === 0) {\n              this.oneFormValidate[0].pic = pc.att_dir;\n            } else {\n              this.manyFormValidate.map((item) => {\n                item.pic = pc.att_dir;\n              });\n              this.oneFormBatch[0].pic = pc.att_dir;\n            }\n          }\n          break;\n        case 'danTable':\n          this.oneFormValidate[this.tableIndex].pic = pc.att_dir;\n          break;\n        case 'duopi':\n          this.oneFormBatch[this.tableIndex].pic = pc.att_dir;\n          break;\n        case 'recommend_image':\n          this.formValidate.recommend_image = pc.att_dir;\n          break;\n        default:\n          if (this.manyFormValidate.length) this.manyFormValidate[this.tableIndex].pic = pc.att_dir;\n      }\n      this.modalPic = false;\n    },\n    deleteRow(index) {\n      this.formValidate.params_list.splice(index, 1);\n    },\n    // 获取多张图信息\n    getPicD(pc) {\n      this.images = pc;\n      this.images.map((item) => {\n        this.formValidate.slider_image.push(item.att_dir);\n        this.formValidate.slider_image = this.formValidate.slider_image.splice(0, 10);\n      });\n      this.oneFormValidate[0].pic = this.formValidate.slider_image[0];\n      this.modalPic = false;\n    },\n    // 提交\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.formValidate.type = this.type;\n          let arr = this.formValidate.spec_type === 0 ? this.oneFormValidate : this.manyFormValidate;\n          let item = JSON.parse(JSON.stringify(arr));\n          if (this.formValidate.spec_type === 1) {\n            if (item.length < 2) return this.$message.warning('商品规格-规格数量最少1个');\n            // 删除第一项\n            item.shift();\n          }\n          for (let i = 0; i < item.length; i++) {\n            if (item[i].stock > 1000000) {\n              return this.$message.error('规格库存-库存超出系统范围(1000000)');\n            }\n          }\n          if (this.formValidate.is_sub[0] === 1) {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].brokerage === null || item[i].brokerage_two === null) {\n                return this.$message.error('营销设置- 一二级返佣不能为空');\n              }\n            }\n          } else {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].vip_price === null) {\n                return this.$message.error('营销设置-会员价不能为空');\n              }\n            }\n          }\n          if (this.formValidate.is_sub.length === 2) {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].brokerage === null || item[i].brokerage_two === null || item[i].vip_price === null) {\n                return this.$message.error('营销设置- 一二级返佣和会员价不能为空');\n              }\n            }\n          }\n          if (this.formValidate.freight == 3 && !this.formValidate.temp_id) {\n            return this.$message.warning('商品信息-运费模板不能为空');\n          }\n          let activeIds = [];\n          this.dataLabel.forEach((item) => {\n            activeIds.push(item.id);\n          });\n          this.formValidate.label_id = activeIds;\n          if (this.openSubimit) return;\n          this.openSubimit = true;\n          this.formValidate.description = formatRichText(this.content);\n          if (this.formValidate.spec_type === 0) {\n            this.formValidate.attrs = item;\n            this.formValidate.header = [];\n            this.formValidate.items = [];\n            this.formValidate.is_copy = 0;\n          } else {\n            this.formValidate.items = this.attrs;\n            this.formValidate.attrs = item;\n            this.formValidate.is_copy = 1;\n          }\n          productAddApi(this.formValidate)\n            .then(async (res) => {\n              this.openSubimit = false;\n              this.$message.success(res.msg);\n              if (this.$route.params.id === '0') {\n                cacheDelete().catch((err) => {\n                  this.$message.error(err.msg);\n                });\n              }\n              setTimeout(() => {\n                this.openSubimit = false;\n                this.$router.push({ path: this.$routeProStr + '/product/product_list' });\n              }, 500);\n            })\n            .catch((res) => {\n              setTimeout((e) => {\n                this.openSubimit = false;\n              }, 1000);\n              this.$message.error(res.msg);\n            });\n        } else {\n          if (!this.formValidate.store_name) {\n            return this.$message.warning('商品信息-商品名称不能为空');\n          } else if (!this.formValidate.cate_id.length) {\n            return this.$message.warning('商品信息-商品分类不能为空');\n          } else if (!this.formValidate.unit_name) {\n            return this.$message.warning('商品信息-商品单位不能为空');\n          } else if (!this.formValidate.slider_image.length) {\n            return this.$message.warning('商品信息-商品轮播图不能为空');\n          } else if (!this.formValidate.logistics.length && !this.formValidate.virtual_type) {\n            return this.$message.warning('物流设置-至少选择一种物流方式');\n          } else if (!this.formValidate.temp_id && this.formValidate.freight == 3) {\n            return this.$message.warning('商品信息-运费模板不能为空');\n          }\n        }\n      });\n    },\n    changeTemplate(msg) {\n      this.template = msg;\n    },\n    // 表单验证\n    validate(prop, status, error) {\n      if (status === false) {\n        this.$message.warning(error);\n      }\n    },\n    // 移动\n    handleDragStart(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd(e, item) {\n      this.dragging = null;\n    },\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = 'move';\n    },\n    handleDragEnter(e, item) {\n      e.dataTransfer.effectAllowed = 'move';\n      if (item === this.dragging) {\n        return;\n      }\n      const newItems = [...this.formValidate.slider_image];\n      const src = newItems.indexOf(this.dragging);\n      const dst = newItems.indexOf(item);\n      newItems.splice(dst, 0, ...newItems.splice(src, 1));\n      this.formValidate.slider_image = newItems;\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.product_id) && res.set(arr.product_id, 1));\n    },\n    // 商品id\n    getProductId(data) {\n      this.goods_modals = false;\n      this.formValidate.recommend_list = this.unique(this.formValidate.recommend_list.concat(data));\n    },\n    // 选择推荐商品\n    changeGoods() {\n      this.goods_modals = true;\n      this.$refs.goodslist.getList();\n      this.$refs.goodslist.goodsCategory();\n    },\n    // 选择用户标签\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    // 选择商品标签\n    activeLabel(data) {\n      this.tagShow = false;\n      this.formValidate.label_list = Array.from(new Set(data));\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n      this.tagShow = false;\n    },\n    // 删除用户标签\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    // 打开选择用户标签\n    openLabel(row) {\n      this.labelShow = true;\n    },\n    handleRemoveRecommend(i) {\n      this.formValidate.recommend_list.splice(i, 1);\n    },\n    // 打开的营销活动标签\n    watchActivity() {\n      let marketing = [];\n      // 使用对象映射优化权限判断逻辑\n      const permissionMap = {\n        默认: true,\n        秒杀: 'seckill',\n        砍价: 'bargain',\n        拼团: 'combination',\n      };\n      this.formValidate.activity.forEach((el) => {\n        if (permissionMap[el] === true || (permissionMap[el] && checkArray(permissionMap[el]))) {\n          marketing.push(el);\n        }\n      });\n      this.formValidate.activity = marketing;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@use './productAdd.scss' as *;\n</style>\n"],"mappings":"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","ignoreList":[]}]}