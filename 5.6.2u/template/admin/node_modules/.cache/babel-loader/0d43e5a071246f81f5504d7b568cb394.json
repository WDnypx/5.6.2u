{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\uploadVideo2\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\uploadVideo2\\index.vue","mtime":1735612792165},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGdldENhdGVnb3J5TGlzdEFwaSwgY3JlYXRlQXBpLCBmaWxlTGlzdEFwaSwgY2F0ZWdvcnlFZGl0QXBpLCBtb3ZlQXBpLCBmaWxlVXBkYXRlQXBpLCB2aWRlb0Nsb3VkVXBsb2FkIH0gZnJvbSAnQC9hcGkvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBwcm9kdWN0R2V0VGVtcEtleXNBcGksIHVwbG9hZFR5cGUgYXMgX3VwbG9hZFR5cGUgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKaW1wb3J0IHsgdXBsb2FkQnlQaWVjZXMgfSBmcm9tICdAL3V0aWxzL3VwbG9hZCc7IC8v5byV5YWldXBsb2FkQnlQaWVjZXPmlrnms5UKCmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IGdldENvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCB1cGxvYWRJbWcgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZEltZyc7CmltcG9ydCB7IFZ1ZVRyZWVMaXN0LCBUcmVlLCBUcmVlTm9kZSB9IGZyb20gJ3Z1ZS10cmVlLWxpc3QnOwppbXBvcnQgeyBpc1ZpZGVvVXBsb2FkIH0gZnJvbSAnQC91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXBsb2FkUGljdHVyZXMnLAogIGNvbXBvbmVudHM6IHsKICAgIHVwbG9hZEltZzogdXBsb2FkSW1nLAogICAgVnVlVHJlZUxpc3Q6IFZ1ZVRyZWVMaXN0CiAgfSwKICBwcm9wczogewogICAgaXNDaG9pY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnb25lJwogICAgfSwKICAgIGlzUGFnZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlzSWZyYW1lOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZ3JpZEJ0bjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBncmlkUGljOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGlzU2hvdzogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBwYWdlTGltaXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBmaWxlVXJsOiBTZXR0aW5nLmFwaUJhc2VVUkwgKyAnL2ZpbGUvdXBsb2FkJywKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICB0cmVlRGF0YTogW10sCiAgICAgIHRyZWVEYXRhMjogW10sCiAgICAgIHBpY3RydWVMaXN0OiBbXSwKICAgICAgdXBsb2FkRGF0YToge30sCiAgICAgIC8vIOS4iuS8oOWPguaVsAogICAgICBjaGVja1BpY0xpc3Q6IFtdLAogICAgICB1cGxvYWROYW1lOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWxsOiAxLAogICAgICAgIHR5cGU6IDEKICAgICAgfSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgaWQ6IDAKICAgICAgfSwKICAgICAgRnJvbURhdGE6IG51bGwsCiAgICAgIHRyZWVJZDogJycsCiAgICAgIGlzSnVkZ2U6IGZhbHNlLAogICAgICBidXR0b25Qcm9wczogewogICAgICAgIHR5cGU6ICdkZWZhdWx0JywKICAgICAgICBzaXplOiAnc21hbGwnCiAgICAgIH0sCiAgICAgIGZpbGVEYXRhOiB7CiAgICAgICAgcGlkOiAwLAogICAgICAgIHJlYWxfbmFtZTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlTGltaXQgfHwgMTgsCiAgICAgICAgdHlwZTogMQogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgcGlkczogMCwKICAgICAgbGlzdDogW10sCiAgICAgIG1vZGFsVGl0bGVTczogJycsCiAgICAgIGlzU2hvd1BpYzogZmFsc2UsCiAgICAgIGhlYWRlcjoge30sCiAgICAgIGlkczogW10sCiAgICAgIC8vIOmAieS4remZhOS7tueahGlk6ZuG5ZCICiAgICAgIGxpZXRTdHlsZTogJ2xpc3QnLAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHBpY21hcmdpbjogJzVweCcsCiAgICAgIC8v6buY6K6k6Led56a75Y+z6L656Led56a7CiAgICAgIHZpZGVvTW9kYWw6IGZhbHNlLAogICAgICB1cGxvYWRfdHlwZTogJycsCiAgICAgIHVwbG9hZDogewogICAgICAgIHZpZGVvSW5nOiBmYWxzZSAvLyDmmK/lkKbmmL7npLrov5vluqbmnaHvvJsKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5pc1BhZ2UpIHsKICAgICAgdmFyIGhhbmcgPSBwYXJzZUludCgoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSB0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50SGVpZ2h0IC0gMzI1KSAvIDE4MCk7IC8v6K6h566X6KGM5pWwCiAgICAgIHZhciBjb2wgPSBwYXJzZUludCh0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50V2lkdGggLyAxNTYpOyAvL+iuoeeul+WIl+aVsAogICAgICB0aGlzLmZpbGVEYXRhLmxpbWl0ID0gY29sICogaGFuZzsgLy/orqHnrpfliIbpobXmlbDph48KICAgICAgdGhpcy5waWNtYXJnaW4gPSBwYXJzZUludCh0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50V2lkdGggLSBjb2wgKiAxNDYpIC8gKDIgKiBjb2wpICsgJ3B4JzsgLy/lubPlnYfliIbluIPorqHnrpdtYXJnaW7ot53nprsKICAgIH0KICAgIHRoaXMuZ2V0VG9rZW4oKTsKICAgIHRoaXMudXBsb2FkVHlwZSgpOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgLy/ojrflj5bop4bpopHkuIrkvKDnsbvlnosKICAgIHVwbG9hZFR5cGU6IGZ1bmN0aW9uIHVwbG9hZFR5cGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF91cGxvYWRUeXBlKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudXBsb2FkX3R5cGUgPSByZXMuZGF0YS51cGxvYWRfdHlwZTsKICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnVwbG9hZERhdGEgPSB7fTsKICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBwcm9taXNlOwogICAgfSwKICAgIHpoX3VwbG9hZEZpbGU6IGZ1bmN0aW9uIHpoX3VwbG9hZEZpbGUoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVmaWQuY2xpY2soKTsKICAgIH0sCiAgICB6aF91cGxvYWRGaWxlX2NoYW5nZTogZnVuY3Rpb24gemhfdXBsb2FkRmlsZV9jaGFuZ2UoZXZmaWxlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGlmIChldmZpbGUudGFyZ2V0LmZpbGVzWzBdLnR5cGUgIT09ICd2aWRlby9tcDQnKSB7CiAgICAgICAgcmV0dXJuIHRoYXQuJG1lc3NhZ2UuZXJyb3IoJ+WPquiDveS4iuS8oG1wNOaWh+S7ticpOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCcxMTEnKTsKICAgICAgZGVidWdnZXI7CiAgICAgIHZhciB0eXBlcyA9IHsKICAgICAgICBrZXk6IGV2ZmlsZS50YXJnZXQuZmlsZXNbMF0ubmFtZSwKICAgICAgICBjb250ZW50VHlwZTogZXZmaWxlLnRhcmdldC5maWxlc1swXS50eXBlCiAgICAgIH07CiAgICAgIHByb2R1Y3RHZXRUZW1wS2V5c0FwaSh0eXBlcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLCBldmZpbGUsIHJlcy5kYXRhLnR5cGUpOwogICAgICAgIHRoYXQuJHZpZGVvQ2xvdWQudmlkZW9VcGxvYWQoewogICAgICAgICAgdHlwZTogcmVzLmRhdGEudHlwZSwKICAgICAgICAgIGV2ZmlsZTogZXZmaWxlLAogICAgICAgICAgcmVzOiByZXMsCiAgICAgICAgICB1cGxvYWRpbmc6IGZ1bmN0aW9uIHVwbG9hZGluZyhzdGF0dXMsIHByb2dyZXNzKSB7CiAgICAgICAgICAgIHRoYXQudXBsb2FkLnZpZGVvSW5nID0gc3RhdHVzOwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmlkZW9DbG91ZFVwbG9hZCh7CiAgICAgICAgICAgIHBpZDogX3RoaXMzLnRyZWVJZCB8fCAwLAogICAgICAgICAgICB2aWRlb19wYXRoOiByZXMudXJsLAogICAgICAgICAgICB2aWRlb19uYW1lOiBldmZpbGUudGFyZ2V0LmZpbGVzWzBdLm5hbWUKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczMuZ2V0RmlsZUxpc3QoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHRoYXQuJG1lc3NhZ2UuZXJyb3IocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdmlkZW9TYXZlVG9Vcmw6IGZ1bmN0aW9uIHZpZGVvU2F2ZVRvVXJsKGZpbGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmIChpc1ZpZGVvVXBsb2FkKGZpbGUpKSB1cGxvYWRCeVBpZWNlcyh7CiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICAvLyDop4bpopHlrp7kvZMKICAgICAgICBwaWVjZVNpemU6IDMsCiAgICAgICAgLy8g5YiG54mH5aSn5bCPCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgICBfdGhpczQucHJvZ3Jlc3MgPSAxMDA7CiAgICAgICAgICB2aWRlb0Nsb3VkVXBsb2FkKHsKICAgICAgICAgICAgcGlkOiBfdGhpczQudHJlZUlkIHx8IDAsCiAgICAgICAgICAgIHZpZGVvX3BhdGg6IGRhdGEuZmlsZV9wYXRoLAogICAgICAgICAgICB2aWRlb19uYW1lOiBmaWxlLm5hbWUKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczQuZ2V0RmlsZUxpc3QoKTsKICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLnN1Y2Nlc3MoJ+inhumikeS4iuS8oOaIkOWKnycpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoZSkgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKGUubXNnKTsKICAgICAgICB9LAogICAgICAgIHVwbG9hZGluZzogZnVuY3Rpb24gdXBsb2FkaW5nKGNodW5rLCBhbGxDaHVuaykgewogICAgICAgICAgX3RoaXM0LnZpZGVvSW5nID0gdHJ1ZTsKICAgICAgICAgIHZhciBzdCA9IE1hdGguZmxvb3IoY2h1bmsgLyBhbGxDaHVuayAqIDEwMCk7CiAgICAgICAgICBfdGhpczQucHJvZ3Jlc3MgPSBzdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgcmFkaW9DaGFuZ2U6IGZ1bmN0aW9uIHJhZGlvQ2hhbmdlKCkgewogICAgICB0aGlzLmluaXREYXRhKCk7CiAgICB9LAogICAgbG9va0ltZzogZnVuY3Rpb24gbG9va0ltZyhpdGVtKSB7CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpdGVtLmF0dF9kaXI7CiAgICAgIHRoaXMudmlkZW9Nb2RhbCA9IHRydWU7CiAgICB9LAogICAgb25EZWw6IGZ1bmN0aW9uIG9uRGVsKG5vZGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBtZXRob2QgPSBub2RlLmNhdGVfaWQgPyByb3V0ZURlbCA6IHJvdXRlQ2F0ZURlbDsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgbWVzc2FnZTogJ+aYr+WQpuehruWumuWIoOmZpOivpeiPnOWNlScsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgaWNvbkNsYXNzOiAnZWwtaWNvbi13YXJuaW5nJywKICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdidG4tY3VzdG9tLWNhbmNlbCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbWV0aG9kKG5vZGUuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBub2RlLnJlbW92ZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgb25DaGFuZ2VOYW1lOiBmdW5jdGlvbiBvbkNoYW5nZU5hbWUocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICBpZiAocGFyYW1zLmV2ZW50VHlwZSA9PSAnYmx1cicpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIG5hbWU6IHBhcmFtcy5uZXdOYW1lLAogICAgICAgICAgaWQ6IHBhcmFtcy5pZAogICAgICAgIH07CiAgICAgICAgaW50ZXJmYWNlRWRpdE5hbWUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczYuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOWIhuexuwogICAgYWRkU29ydDogZnVuY3Rpb24gYWRkU29ydCgpIHsKICAgICAgdGhpcy5hcHBlbmQoewogICAgICAgIGlkOiB0aGlzLnRyZWVJZCB8fCAwCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+iPnOWNlQogICAgY2xpY2tNZW51OiBmdW5jdGlvbiBjbGlja01lbnUoZGF0YSwgbmFtZSkgewogICAgICBpZiAobmFtZSA9PSAxKSB7CiAgICAgICAgdGhpcy5hcHBlbmQoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAyKSB7CiAgICAgICAgdGhpcy5lZGl0UGljKGRhdGEpOwogICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gMykgewogICAgICAgIHRoaXMucmVtb3ZlKGRhdGEsICfliIbnsbsnKTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIHVwbG9hZFN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuZmlsZURhdGEucGFnZSA9IDE7CiAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgfSwKICAgIHVwbG9hZE1vZGFsOiBmdW5jdGlvbiB1cGxvYWRNb2RhbCgpIHsKICAgICAgdGhpcy4kcmVmcy51cGxvYWQudXBsb2FkTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGVudGVyTW91c2U6IGZ1bmN0aW9uIGVudGVyTW91c2UoaXRlbSkgewogICAgICBpdGVtLnJlYWxOYW1lID0gIWl0ZW0ucmVhbE5hbWU7CiAgICB9LAogICAgZW50ZXJMZWF2ZTogZnVuY3Rpb24gZW50ZXJMZWF2ZShpdGVtKSB7CiAgICAgIGl0ZW0uaXNTaG93RWRpdCA9ICFpdGVtLmlzU2hvd0VkaXQ7CiAgICB9LAogICAgLy8g5LiK5Lyg5aS06YOodG9rZW4KICAgIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgICAgdGhpcy5oZWFkZXJbJ0F1dGhvcmktemF0aW9uJ10gPSAnQmVhcmVyICcgKyBnZXRDb29raWVzKCd0b2tlbicpOwogICAgfSwKICAgIG1vdmVJbWc6IGZ1bmN0aW9uIG1vdmVJbWcoc3RhdHVzKSB7CiAgICAgIGlmICghc3RhdHVzKSB7CiAgICAgICAgdGhpcy5nZXRNb3ZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmlkcy50b1N0cmluZygpKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeinhumikScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlYXJjaEltZzogZnVuY3Rpb24gc2VhcmNoSW1nKCkge30sCiAgICAvLyDnp7vliqjliIbnsbsKICAgIGdldE1vdmU6IGZ1bmN0aW9uIGdldE1vdmUoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwaWQ6IHRoaXMucGlkcywKICAgICAgICBpbWFnZXM6IHRoaXMuaWRzLnRvU3RyaW5nKCkKICAgICAgfTsKICAgICAgaWYgKCFkYXRhLmltYWdlcykgcmV0dXJuOwogICAgICBtb3ZlQXBpKGRhdGEpLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgX3RoaXM3LmdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICBfdGhpczcucGlkcyA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczcuY2hlY2tQaWNMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfdGhpczcuaWRzID0gW107CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsSW1nOiBmdW5jdGlvbiBkZWxJbWcoaWQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSB7CiAgICAgICAgaWRzOiBpZAogICAgICB9OwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6ICfliKDpmaTpgInkuK3op4bpopEnLAogICAgICAgIHVybDogImZpbGUvZmlsZS9kZWxldGUiLAogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGlkczogaWRzCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM4LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXM4LmdldEZpbGVMaXN0KCk7CiAgICAgICAgX3RoaXM4LmNoZWNrUGljTGlzdCA9IFtdOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM4LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTop4bpopEKICAgIGVkaXRQaWNMaXN0OiBmdW5jdGlvbiBlZGl0UGljTGlzdChpZCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdmFyIGlkcyA9IHsKICAgICAgICBpZHM6IGlkIHx8IHRoaXMuaWRzLnRvU3RyaW5nKCkKICAgICAgfTsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiAn5Yig6Zmk6YCJ5Lit6KeG6aKRJywKICAgICAgICB1cmw6ICJmaWxlL2ZpbGUvZGVsZXRlIiwKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBpZHM6IGlkcwogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOS4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzOS5nZXRGaWxlTGlzdCgpOwogICAgICAgIF90aGlzOS5pbml0RGF0YSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM5LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHRoaXMuY2hlY2tQaWNMaXN0ID0gW107CiAgICAgIHRoaXMuaWRzID0gW107CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSBbXTsKICAgIH0sCiAgICAvLyDpvKDmoIfnp7vlhaUg56e75Ye6CiAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIocm9vdCwgbm9kZSwgZGF0YSkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBkYXRhLmZsYWcgPSAhZGF0YS5mbGFnOwogICAgICBpZiAoZGF0YS5mbGFnMikgewogICAgICAgIGRhdGEuZmxhZzIgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+agkQogICAgYXBwZW5kQnRuOiBmdW5jdGlvbiBhcHBlbmRCdG4oZGF0YSkgewogICAgICB0aGlzLnRyZWVJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuZmlsZURhdGEucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICAgIH0sCiAgICAvLyDngrnlh7vmt7vliqAKICAgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKGRhdGEpIHsKICAgICAgdGhpcy50cmVlSWQgPSBkYXRhLmlkOwogICAgICB0aGlzLmdldEZyb20oKTsKICAgIH0sCiAgICAvLyDliKDpmaTliIbnsbsKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGRhdGEsIHRpdCkgewogICAgICB2YXIgX3RoaXMwID0gdGhpczsKICAgICAgdGhpcy50aXRzID0gdGl0OwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6ICfliKDpmaQgWyAnICsgZGF0YS50aXRsZSArICcgXSAnICsgJ+WIhuexuycsCiAgICAgICAgdXJsOiAiZmlsZS9jYXRlZ29yeS8iLmNvbmNhdChkYXRhLmlkKSwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczAuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICBfdGhpczAuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzMC5jaGVja1BpY0xpc3QgPSBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g57yW6L6R5qCR6KGo5Y2VCiAgICBlZGl0UGljOiBmdW5jdGlvbiBlZGl0UGljKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMSA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShjYXRlZ29yeUVkaXRBcGkoZGF0YS5pZCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczEuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmkJzntKLliIbnsbsKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgnc2VhcmNoJyk7CiAgICB9LAogICAgLy8g5YiG57G75YiX6KGo5qCRCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB0aXRsZTogJ+WFqOmDqOinhumikScsCiAgICAgICAgaWQ6ICcnLAogICAgICAgIHBpZDogMAogICAgICB9OwogICAgICBnZXRDYXRlZ29yeUxpc3RBcGkodGhpcy51cGxvYWROYW1lKS50aGVuKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5uKSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdzZWFyY2gnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAudHJlZURhdGEyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEubGlzdCkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlcy5kYXRhLmxpc3QudW5zaGlmdChkYXRhKTsKICAgICAgICAgICAgICAgIF90aGlzMTAudHJlZURhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKGl0ZW0sIGNhbGxiYWNrKSB7CiAgICAgIGdldENhdGVnb3J5TGlzdEFwaSh7CiAgICAgICAgcGlkOiBpdGVtLmlkCiAgICAgIH0pLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMyhyZXMpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hKDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHt9KTsKICAgIH0sCiAgICBhZGRGbGFnOiBmdW5jdGlvbiBhZGRGbGFnKHRyZWVkYXRhKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdHJlZWRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMxMS4kc2V0KGl0ZW0sICdmbGFnJywgZmFsc2UpOwogICAgICAgIF90aGlzMTEuJHNldChpdGVtLCAnZmxhZzInLCBmYWxzZSk7CiAgICAgICAgaXRlbS5jaGlsZHJlbiAmJiBfdGhpczExLmFkZEZsYWcoaXRlbS5jaGlsZHJlbik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaWsOW7uuWIhuexuwogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMudHJlZUlkID0gMDsKICAgICAgdGhpcy5nZXRGcm9tKCk7CiAgICB9LAogICAgc2VhcmNoRmlsZTogZnVuY3Rpb24gc2VhcmNoRmlsZSgpIHsKICAgICAgdGhpcy5maWxlRGF0YS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgfSwKICAgIC8vIOaWh+S7tuWIl+ihqAogICAgZ2V0RmlsZUxpc3Q6IGZ1bmN0aW9uIGdldEZpbGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIHRoaXMuZmlsZURhdGEucGlkID0gdGhpcy50cmVlSWQ7CiAgICAgIGZpbGVMaXN0QXBpKHRoaXMuZmlsZURhdGEpLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNChyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0Lm4pIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXMuZGF0YS5saXN0LmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIGVsLmlzU2VsZWN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGVsLmlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBlbC5pc1Nob3dFZGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGVsLnJlYWxOYW1lID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGVsLm51bSA9IDA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuZWRpdE5hbWUoZWwpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczEyLnBpY3RydWVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICAgIGlmIChfdGhpczEyLnBpY3RydWVMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfdGhpczEyLmlzU2hvd1BpYyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5pc1Nob3dQaWMgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMxMi50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgICAgICAgX3RoaXMxMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3dTZWxlY3REYXRhKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTIuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dTZWxlY3REYXRhOiBmdW5jdGlvbiBzaG93U2VsZWN0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwogICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5Yik5pat5piv5ZCm5a2Y5Zyo5Yu+6YCJ6L+H55qE5pWw5o2uCiAgICAgICAgdGhpcy5waWN0cnVlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgIC8vIOiOt+WPluaVsOaNruWIl+ihqOaOpeWPo+ivt+axguWIsOeahOaVsOaNrgogICAgICAgICAgX3RoaXMxMy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIC8vIOWLvumAieWIsOeahOaVsOaNrgogICAgICAgICAgICBpZiAocm93LmF0dF9pZCA9PT0gaXRlbS5hdHRfaWQpIHsKICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLnRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihpdGVtLCB0cnVlKTsgLy8g6Iul5pyJ6YeN5ZCI77yM5YiZ5Zue5pi+6K+l5p2h5pWw5o2uCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0Um93S2V5OiBmdW5jdGlvbiBnZXRSb3dLZXkocm93KSB7CiAgICAgIHJldHVybiByb3cuYXR0X2lkOwogICAgfSwKICAgIC8v5a+56LGh5pWw57uE5Y676YeN77ybCiAgICB1bmlxdWU6IGZ1bmN0aW9uIHVuaXF1ZShhcnIpIHsKICAgICAgdmFyIHJlc3VsdCA9IGFyci5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VycikgewogICAgICAgIHZhciB4ID0gYWNjLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmF0dF9pZCA9PT0gY3Vyci5hdHRfaWQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCF4KSB7CiAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChbY3Vycl0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0KICAgICAgfSwgW10pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIC8vICDpgInkuK3mn5DkuIDooYwKICAgIGhhbmRsZVNlbGVjdFJvdzogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Um93KHNlbGVjdGlvbikgewogICAgICB2YXIgYXJyID0gdGhpcy51bmlxdWUoc2VsZWN0aW9uKTsKICAgICAgdmFyIHVuaXF1ZUFyciA9IFtdOwogICAgICB2YXIgaWRzID0gW107CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07CiAgICAgICAgaWYgKCFpZHMuaW5jbHVkZXMoaXRlbS5hdHRfaWQpKSB7CiAgICAgICAgICB1bmlxdWVBcnIucHVzaChpdGVtKTsKICAgICAgICAgIGlkcy5wdXNoKGl0ZW0uYXR0X2lkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5pZHMgPSBpZHM7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB1bmlxdWVBcnI7CiAgICB9LAogICAgcGFnZUNoYW5nZTogZnVuY3Rpb24gcGFnZUNoYW5nZShpbmRleCkgewogICAgICB0aGlzLmZpbGVEYXRhLnBhZ2UgPSBpbmRleDsKICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgfSwKICAgIC8vIOaWsOW7uuWIhuexu+ihqOWNlQogICAgZ2V0RnJvbTogZnVuY3Rpb24gZ2V0RnJvbSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0oY3JlYXRlQXBpKHsKICAgICAgICBpZDogdGhpcy50cmVlSWQsCiAgICAgICAgdHlwZTogMQogICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNC5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfQogIH0sICJiZWZvcmVVcGxvYWQiLCBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgdmFyIF90aGlzMTUgPSB0aGlzOwogICAgLy8gaWYgKGZpbGUuc2l6ZSA+IDIwOTcxNTIpIHsKICAgIC8vICAgdGhpcy4kbWVzc2FnZS5lcnJvcihmaWxlLm5hbWUgKyAi5aSn5bCP6LaF6L+HMk0hIik7CiAgICAvLyB9IGVsc2UKICAgIGlmICghL2ltYWdlXC9cdysvLnRlc3QoZmlsZS50eXBlKSkgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fkuIrkvKDku6VqcGfjgIFqcGVn44CBcG5n562J57uT5bC+55qE6KeG6aKR5paH5Lu2Jyk7IC8vRmlsZUV4dC50b0xvd2VyQ2FzZSgpCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHRoaXMudXBsb2FkRGF0YSA9IHsKICAgICAgcGlkOiB0aGlzLnRyZWVJZAogICAgfTsKICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgX3RoaXMxNS4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gcHJvbWlzZTsKICB9KSwgImhhbmRsZVN1Y2Nlc3MiLCBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsKICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICB0aGlzLmZpbGVEYXRhLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgfQogIH0pLCAiY2FuY2VsIiwgZnVuY3Rpb24gY2FuY2VsKCkgewogICAgdGhpcy4kZW1pdCgnY2hhbmdlQ2FuY2VsJyk7CiAgfSksICJjaGFuZ0ltYWdlIiwgZnVuY3Rpb24gY2hhbmdJbWFnZShpdGVtLCBpbmRleCwgcm93KSB7CiAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CiAgICB2YXIgYWN0aXZlSW5kZXggPSAwOwogICAgaWYgKCFpdGVtLmlzU2VsZWN0KSB7CiAgICAgIGl0ZW0uaXNTZWxlY3QgPSB0cnVlOwogICAgICB0aGlzLmNoZWNrUGljTGlzdC5wdXNoKGl0ZW0pOwogICAgfSBlbHNlIHsKICAgICAgaXRlbS5pc1NlbGVjdCA9IGZhbHNlOwogICAgICB0aGlzLmNoZWNrUGljTGlzdC5tYXAoZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgICAgIGlmIChlbC5hdHRfaWQgPT0gaXRlbS5hdHRfaWQpIHsKICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jaGVja1BpY0xpc3Quc3BsaWNlKGFjdGl2ZUluZGV4LCAxKTsKICAgIH0KICAgIHRoaXMuaWRzID0gW107CiAgICB0aGlzLmNoZWNrUGljTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgX3RoaXMxNi5pZHMucHVzaChpdGVtLmF0dF9pZCk7CiAgICB9KTsKICAgIHRoaXMucGljdHJ1ZUxpc3QubWFwKGZ1bmN0aW9uIChlbCwgaSkgewogICAgICBpZiAoZWwuaXNTZWxlY3QpIHsKICAgICAgICBfdGhpczE2LmNoZWNrUGljTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsMiwgaikgewogICAgICAgICAgaWYgKGVsLmF0dF9pZCA9PSBlbDIuYXR0X2lkKSB7CiAgICAgICAgICAgIGVsLm51bSA9IGogKyAxOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGVsLm51bSA9IDA7CiAgICAgIH0KICAgIH0pOwogIH0pLCAiY2hlY2tQaWNzIiwgZnVuY3Rpb24gY2hlY2tQaWNzKCkgewogICAgY29uc29sZS5sb2codGhpcy5jaGVja1BpY0xpc3QsICd0aGlzLmNoZWNrUGljTGlzdCcsIHRoaXMuaXNDaG9pY2UpOwogICAgaWYgKHRoaXMuaXNDaG9pY2UgPT09ICdvbmUnKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrUGljTGlzdC5sZW5ndGggPiAxKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmnIDlpJrlj6rog73pgInkuIDlvKDop4bpopEnKTsKICAgICAgdGhpcy4kZW1pdCgnZ2V0VmlkZW8nLCB0aGlzLmNoZWNrUGljTGlzdFswXS5hdHRfZGlyKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtYXhMZW5ndGggPSB0aGlzLiRyb3V0ZS5xdWVyeS5tYXhMZW5ndGg7CiAgICAgIGlmIChtYXhMZW5ndGggIT0gdW5kZWZpbmVkICYmIHRoaXMuY2hlY2tQaWNMaXN0Lmxlbmd0aCA+IE51bWJlcihtYXhMZW5ndGgpKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmnIDlpJrlj6rog73pgIknICsgbWF4TGVuZ3RoICsgJ+W8oOinhumikScpOwogICAgICB0aGlzLiRlbWl0KCdnZXRQaWNEJywgdGhpcy5jaGVja1BpY0xpc3QpOwogICAgICB0aGlzLiRlbWl0KCdnZXRWaWRlbycsIHRoaXMuY2hlY2tQaWNMaXN0KTsKICAgIH0KICB9KSwgImVkaXROYW1lIiwgZnVuY3Rpb24gZWRpdE5hbWUoaXRlbSkgewogICAgdmFyIGl0ID0gaXRlbS5yZWFsX25hbWUuc3BsaXQoJy4nKTsKICAgIHZhciBpdDEgPSBpdFsxXSA9PSB1bmRlZmluZWQgPyBbXSA6IGl0WzFdOwogICAgdmFyIGxlbiA9IGl0WzBdLmxlbmd0aCArIGl0MS5sZW5ndGg7CiAgICBpdGVtLmVkaXROYW1lID0gbGVuIDwgMTAgPyBpdGVtLnJlYWxfbmFtZSA6IGl0ZW0ucmVhbF9uYW1lLnN1YnN0cigwLCA0KSArICcuLi4nICsgaXRlbS5yZWFsX25hbWUuc3Vic3RyKC01LCA1KTsKICB9KSwgImJpbmRUeHQiLCBmdW5jdGlvbiBiaW5kVHh0KGl0ZW0pIHsKICAgIHZhciBfdGhpczE3ID0gdGhpczsKICAgIGlmIChpdGVtLnJlYWxfbmFtZSA9PSAnJykgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhpnlhoXlrrknKTsKICAgIH0KICAgIGZpbGVVcGRhdGVBcGkoaXRlbS5hdHRfaWQsIHsKICAgICAgcmVhbF9uYW1lOiBpdGVtLnJlYWxfbmFtZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzMTcuZWRpdE5hbWUoaXRlbSk7CiAgICAgIGl0ZW0uaXNFZGl0ID0gZmFsc2U7CiAgICAgIF90aGlzMTcuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBfdGhpczE3LiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICB9KTsKICB9KQp9Ow=="},null]}