{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\app\\routine\\link\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\app\\routine\\link\\index.vue","mtime":1739963962619},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgcm91dGluZVNjaGVtZUxpc3QgYXMgX3JvdXRpbmVTY2hlbWVMaXN0LCByb3V0aW5lU2NoZW1lRm9ybSwgcm91dGluZVNjaGVtZURlbCB9IGZyb20gJ0AvYXBpL2FwcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSkpLCB7fSwgewogICAgbGFiZWxXaWR0aDogZnVuY3Rpb24gbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAnODBweCc7CiAgICB9LAogICAgbGFiZWxQb3NpdGlvbjogZnVuY3Rpb24gbGFiZWxQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCc7CiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlck1vZGFsOiBmYWxzZSwKICAgICAgdG90YWw6IDIwLAogICAgICB0YWJsZUZyb206IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJvdXRpbmVTY2hlbWVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmt7vliqAKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0ocm91dGluZVNjaGVtZUZvcm0oMCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnJvdXRpbmVTY2hlbWVMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ29weTogZnVuY3Rpb24gb25Db3B5KGNvcHlEYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRjb3B5VGV4dChjb3B5RGF0YSkudGhlbihmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCflpI3liLbmiJDlip8nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcign5aSN5Yi25aSx6LSlJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIl+ihqAogICAgcm91dGluZVNjaGVtZUxpc3Q6IGZ1bmN0aW9uIHJvdXRpbmVTY2hlbWVMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgX3JvdXRpbmVTY2hlbWVMaXN0KHRoaXMudGFibGVGcm9tKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMudGFibGVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICBfdGhpczMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShyb3V0aW5lU2NoZW1lRm9ybShyb3cuaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQucm91dGluZVNjaGVtZUxpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChyb3csIHRpdCwgbnVtKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6ICJhcHAvcm91dGluZS9zY2hlbWVfZGVsLyIuY29uY2F0KHJvdy5pZCksCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXM1LnRhYmxlTGlzdC5zcGxpY2UobnVtLCAxKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","routineSchemeList","routineSchemeForm","routineSchemeDel","name","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","data","verModal","total","tableFrom","page","limit","loading","tableList","created","methods","add","_this","$modalForm","then","res","onCopy","copyData","_this2","$copyText","message","$message","success","catch","err","error","_this3","list","count","msg","edit","row","_this4","id","del","tit","num","_this5","delfromData","title","url","concat","method","ids","$modalSure","splice"],"sources":["src/pages/app/routine/link/index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <el-row class=\"mb20\">\n        <el-col :span=\"24\">\n          <el-button type=\"primary\" v-db-click @click=\"add\" class=\"mr10\">创建链接</el-button>\n        </el-col>\n      </el-row>\n      <el-table\n        :data=\"tableList\"\n        v-loading=\"loading\"\n        highlight-current-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <el-table-column label=\"编号\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"名称\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.title }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"跳转地址\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.path }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"系统链接(编辑不改变)\" min-width=\"200\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.http_url }}</span>\n            <a class=\"ml10\" v-db-click @click=\"onCopy(scope.row.http_url)\">复制</a>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"微信链接(编辑改变)\" min-width=\"200\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.url }}</span>\n            <a class=\"ml10\" v-db-click @click=\"onCopy(scope.row.url)\">复制</a>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"添加时间\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.add_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"到期时间\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.expire_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <a v-db-click @click=\"edit(scope.row)\">编辑</a>\n            <el-divider direction=\"vertical\"></el-divider>\n            <a v-db-click @click=\"del(scope.row, '删除链接', scope.$index)\">删除</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"tableFrom.page\"\n          :limit.sync=\"tableFrom.limit\"\n          @pagination=\"routineSchemeList\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { routineSchemeList, routineSchemeForm, routineSchemeDel } from '@/api/app';\nexport default {\n  name: 'index',\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  data() {\n    return {\n      verModal: false,\n      total: 20,\n      tableFrom: {\n        page: 1,\n        limit: 15,\n      },\n      loading: false,\n      tableList: [],\n    };\n  },\n  created() {\n    this.routineSchemeList();\n  },\n  methods: {\n    // 添加\n    add() {\n      this.$modalForm(routineSchemeForm(0)).then((res) => {\n        this.routineSchemeList();\n      });\n    },\n    onCopy(copyData) {\n      this.$copyText(copyData)\n        .then((message) => {\n          this.$message.success('复制成功');\n        })\n        .catch((err) => {\n          this.$message.error('复制失败');\n        });\n    },\n    // 列表\n    routineSchemeList() {\n      this.loading = true;\n      routineSchemeList(this.tableFrom)\n        .then((res) => {\n          this.tableList = res.data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n          this.loading = false;\n        });\n    },\n    // 添加\n    edit(row) {\n      this.$modalForm(routineSchemeForm(row.id)).then((res) => {\n        this.routineSchemeList();\n      });\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/routine/scheme_del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.tableList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"mappings":";;AA0EA,SAAAA,QAAA;AACA,SAAAC,iBAAA,IAAAA,kBAAA,EAAAC,iBAAA,EAAAC,gBAAA;AACA;EACAC,IAAA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAN,QAAA;IACAO,UAAA,WAAAA,WAAA;MACA,YAAAC,QAAA,GAAAC,SAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAF,QAAA;IACA;EAAA,EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAlB,iBAAA;EACA;EACAmB,OAAA;IACA;IACAC,GAAA,WAAAA,IAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,UAAA,CAAArB,iBAAA,KAAAsB,IAAA,WAAAC,GAAA;QACAH,KAAA,CAAArB,iBAAA;MACA;IACA;IACAyB,MAAA,WAAAA,OAAAC,QAAA;MAAA,IAAAC,MAAA;MACA,KAAAC,SAAA,CAAAF,QAAA,EACAH,IAAA,WAAAM,OAAA;QACAF,MAAA,CAAAG,QAAA,CAAAC,OAAA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAN,MAAA,CAAAG,QAAA,CAAAI,KAAA;MACA;IACA;IACA;IACAlC,iBAAA,WAAAA,kBAAA;MAAA,IAAAmC,MAAA;MACA,KAAAnB,OAAA;MACAhB,kBAAA,MAAAa,SAAA,EACAU,IAAA,WAAAC,GAAA;QACAW,MAAA,CAAAlB,SAAA,GAAAO,GAAA,CAAAd,IAAA,CAAA0B,IAAA;QACAD,MAAA,CAAAvB,KAAA,GAAAY,GAAA,CAAAd,IAAA,CAAA2B,KAAA;QACAF,MAAA,CAAAnB,OAAA;MACA,GACAgB,KAAA,WAAAC,GAAA;QACAE,MAAA,CAAAL,QAAA,CAAAI,KAAA,CAAAD,GAAA,CAAAK,GAAA;QACAH,MAAA,CAAAnB,OAAA;MACA;IACA;IACA;IACAuB,IAAA,WAAAA,KAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,KAAAnB,UAAA,CAAArB,iBAAA,CAAAuC,GAAA,CAAAE,EAAA,GAAAnB,IAAA,WAAAC,GAAA;QACAiB,MAAA,CAAAzC,iBAAA;MACA;IACA;IACA;IACA2C,GAAA,WAAAA,IAAAH,GAAA,EAAAI,GAAA,EAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,WAAA;QACAC,KAAA,EAAAJ,GAAA;QACAC,GAAA,EAAAA,GAAA;QACAI,GAAA,4BAAAC,MAAA,CAAAV,GAAA,CAAAE,EAAA;QACAS,MAAA;QACAC,GAAA;MACA;MACA,KAAAC,UAAA,CAAAN,WAAA,EACAxB,IAAA,WAAAC,GAAA;QACAsB,MAAA,CAAAhB,QAAA,CAAAC,OAAA,CAAAP,GAAA,CAAAc,GAAA;QACAQ,MAAA,CAAA7B,SAAA,CAAAqC,MAAA,CAAAT,GAAA;MACA,GACAb,KAAA,WAAAR,GAAA;QACAsB,MAAA,CAAAhB,QAAA,CAAAI,KAAA,CAAAV,GAAA,CAAAc,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}