{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\level\\handle\\task.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\level\\handle\\task.vue","mtime":1711590189068},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdGFza0xpc3RBcGksIHNldFRhc2tTaG93QXBpLCBzZXRUYXNrTXVzdEFwaSwgY3JlYXRlVGFza0FwaSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgZWRpdEZyb20gZnJvbSAnQC9jb21wb25lbnRzL2Zyb20vZnJvbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFzaycsCiAgY29tcG9uZW50czogewogICAgZWRpdEZyb206IGVkaXRGcm9tCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gbGV2ZWxJZHM6IHRoaXMubGV2ZWxJZCwKICAgICAgZ3JpZDogewogICAgICAgIHhsOiAxMCwKICAgICAgICBsZzogMTAsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQKICAgICAgfSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbGV2ZWxGcm9tOiB7CiAgICAgICAgaXNfc2hvdzogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMjAKICAgICAgfSwKICAgICAgdG90YWw6IDAsCiAgICAgIGxldmVsTGlzdHM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgRnJvbURhdGE6IG51bGwsCiAgICAgIGlkczogMCwKICAgICAgbW9kYWxUaXRsZVNzOiAnJywKICAgICAgdGl0bGVUeXBlOiAndGFzaycKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSkpLCBtYXBTdGF0ZSgndXNlckxldmVsJywgWydsZXZlbElkJ10pKSwge30sIHsKICAgIGxhYmVsV2lkdGg6IGZ1bmN0aW9uIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogJzgwcHgnOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb246IGZ1bmN0aW9uIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCd1c2VyTGV2ZWwnLCBbJ2dldFRhc2tJZCcsICdnZXRsZXZlbElkJ10pKSwge30sIHsKICAgIC8vIOa3u+WKoAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuaWRzID0gJyc7CiAgICAgIHRoaXMuZ2V0RnJvbSgpOwogICAgfSwKICAgIC8vIOaWsOW7uiDnvJbovpHooajljZUKICAgIGdldEZyb206IGZ1bmN0aW9uIGdldEZyb20oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiB0aGlzLmlkcywKICAgICAgICBsZXZlbF9pZDogdGhpcy5sZXZlbElkCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsRm9ybShjcmVhdGVUYXNrQXBpKGRhdGEpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocm93KSB7CiAgICAgIHRoaXMuaWRzID0gcm93LmlkOwogICAgICB0aGlzLmdldEZyb20oKTsKICAgIH0sCiAgICAvLyDlhbPpl63mqKHmgIHmoYYKICAgIGhhbmRsZVJlc2V0OiBmdW5jdGlvbiBoYW5kbGVSZXNldCgpIHsKICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDooajmoLzmkJzntKIKICAgIHVzZXJTZWFyY2hzOiBmdW5jdGlvbiB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5Lu75Yqh5YiX6KGoCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5sZXZlbEZyb20uaXNfc2hvdyA9IHRoaXMubGV2ZWxGcm9tLmlzX3Nob3cgfHwgJyc7CiAgICAgIHRhc2tMaXN0QXBpKHRoaXMubGV2ZWxJZCwgdGhpcy5sZXZlbEZyb20pLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLmxldmVsTGlzdHMgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkv67mlLnmmL7npLrpmpDol48KICAgIG9uY2hhbmdlSXNTaG93OiBmdW5jdGlvbiBvbmNoYW5nZUlzU2hvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgaXNfc2hvdzogcm93LmlzX3Nob3cKICAgICAgfTsKICAgICAgc2V0VGFza1Nob3dBcGkoZGF0YSkudGhlbigvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDorr7nva7ku7vliqHmmK/lkKbovr7miJAKICAgIG9uY2hhbmdlSXNNdXN0OiBmdW5jdGlvbiBvbmNoYW5nZUlzTXVzdChyb3cpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgaXNfbXVzdDogcm93LmlzX211c3QKICAgICAgfTsKICAgICAgc2V0VGFza011c3RBcGkoZGF0YSkudGhlbigvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUzKHJlcykgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYSgyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlu7rnvJbovpHmj5DkuqTmiJDlip8KICAgIHN1Ym1pdEZhaWw6IGZ1bmN0aW9uIHN1Ym1pdEZhaWwoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWIoOmZpOS7u+WKoQogICAgZGVsOiBmdW5jdGlvbiBkZWwocm93LCB0aXQsIG51bSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiAidXNlci91c2VyX2xldmVsL2RlbGV0ZV90YXNrLyIuY29uY2F0KHJvdy5pZCksCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXM1LmxldmVsTGlzdHMuc3BsaWNlKG51bSwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"names":["mapState","mapMutations","taskListApi","setTaskShowApi","setTaskMustApi","createTaskApi","editFrom","name","components","data","grid","xl","lg","md","sm","xs","modals","levelFrom","is_show","page","limit","total","levelLists","loading","FromData","ids","modalTitleSs","titleType","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","methods","add","getFrom","_this","id","level_id","levelId","$modalForm","then","getList","edit","row","handleReset","userSearchs","_this2","_ref","_asyncToGenerator","_regenerator","m","_callee","res","w","_context","n","list","count","a","_x","apply","arguments","catch","$message","error","msg","onchangeIsShow","_this3","_ref2","_callee2","_context2","success","_x2","onchangeIsMust","_this4","is_must","_ref3","_callee3","_context3","_x3","submitFail","del","tit","num","_this5","delfromData","title","url","concat","method","$modalSure","splice"],"sources":["src/pages/user/level/handle/task.vue"],"sourcesContent":["<template>\n  <el-dialog :visible.sync=\"modals\" title=\"等级任务\" :close-on-click-modal=\"false\" width=\"1000px\" @closed=\"handleReset\">\n    <el-form\n      ref=\"levelFrom\"\n      :model=\"levelFrom\"\n      :label-width=\"labelWidth\"\n      :label-position=\"labelPosition\"\n      @submit.native.prevent\n    >\n      <el-row :gutter=\"24\">\n        <el-col v-bind=\"grid\">\n          <el-form-item label=\"等级状态：\">\n            <el-select v-model=\"levelFrom.is_show\" placeholder=\"是否显示\" clearable @change=\"userSearchs\">\n              <el-option value=\"1\" label=\"显示\"></el-option>\n              <el-option value=\"0\" label=\"不显示\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col v-bind=\"grid\">\n          <el-form-item label=\"等级名称：\" prop=\"status2\" label-for=\"status2\">\n            <el-input\n              search\n              enter-button\n              v-model=\"levelFrom.name\"\n              placeholder=\"请输入等级名称\"\n              @on-search=\"userSearchs\"\n              style=\"width: 100%\"\n            />\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-divider direction=\"vertical\" dashed />\n    <el-row>\n      <el-col v-bind=\"grid\" class=\"mb15\">\n        <el-button type=\"primary\" v-db-click @click=\"add\">添加等级任务</el-button>\n      </el-col>\n      <el-col :span=\"24\" class=\"userAlert\">\n        <el-alert show-icon closable>\n          <template slot=\"title\">\n            <div>添加等级任务,任务类型中的{$num}会自动替换成限定数量+系统预设的单位生成任务名</div>\n          </template>\n        </el-alert>\n      </el-col>\n    </el-row>\n    <el-divider direction=\"vertical\" dashed />\n    <el-table\n      :data=\"levelLists\"\n      ref=\"table\"\n      v-loading=\"loading\"\n      no-userFrom-text=\"暂无数据\"\n      no-filtered-userFrom-text=\"暂无筛选结果\"\n    >\n      <el-table-column label=\"ID\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"等级名称\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.level_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"任务名称\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"是否显示\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            class=\"defineSwitch\"\n            :active-value=\"1\"\n            :inactive-value=\"0\"\n            v-model=\"scope.row.is_show\"\n            :value=\"scope.row.is_show\"\n            size=\"large\"\n            @change=\"onchangeIsShow(scope.row)\"\n            active-text=\"显示\"\n            inactive-text=\"隐藏\"\n          >\n          </el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"务必达成\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            class=\"defineSwitch\"\n            :active-value=\"1\"\n            :inactive-value=\"0\"\n            v-model=\"scope.row.is_must\"\n            :value=\"scope.row.is_must\"\n            :true-value=\"1\"\n            :false-value=\"0\"\n            size=\"large\"\n            @change=\"onchangeIsMust(scope.row)\"\n            active-text=\"全部\"\n            inactive-text=\"其一\"\n          >\n          </el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"任务说明\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.illustrate }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"170\">\n        <template slot-scope=\"scope\">\n          <a v-db-click @click=\"edit(scope.row)\">编辑 | </a>\n          <a v-db-click @click=\"del(scope.row, '删除等级任务', index)\"> 删除</a>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"acea-row row-right page\">\n      <pagination\n        v-if=\"total\"\n        :total=\"total\"\n        :page.sync=\"levelFrom.page\"\n        :limit.sync=\"levelFrom.limit\"\n        @pagination=\"getList\"\n      />\n    </div>\n    <!-- 新建 编辑表单-->\n    <edit-from ref=\"edits\" :FromData=\"FromData\" @submitFail=\"submitFail\" :titleType=\"titleType\"></edit-from>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport { taskListApi, setTaskShowApi, setTaskMustApi, createTaskApi } from '@/api/user';\nimport editFrom from '@/components/from/from';\nexport default {\n  name: 'task',\n  components: { editFrom },\n  data() {\n    return {\n      // levelIds: this.levelId,\n      grid: {\n        xl: 10,\n        lg: 10,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      modals: false,\n      levelFrom: {\n        is_show: '',\n        name: '',\n        page: 1,\n        limit: 20,\n      },\n      total: 0,\n      levelLists: [],\n      loading: false,\n      FromData: null,\n      ids: 0,\n      modalTitleSs: '',\n      titleType: 'task',\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    ...mapState('userLevel', ['levelId']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  methods: {\n    ...mapMutations('userLevel', ['getTaskId', 'getlevelId']),\n    // 添加\n    add() {\n      this.ids = '';\n      this.getFrom();\n    },\n    // 新建 编辑表单\n    getFrom() {\n      let data = {\n        id: this.ids,\n        level_id: this.levelId,\n      };\n      this.$modalForm(createTaskApi(data)).then(() => this.getList());\n    },\n    // 编辑\n    edit(row) {\n      this.ids = row.id;\n      this.getFrom();\n    },\n    // 关闭模态框\n    handleReset() {\n      this.modals = false;\n    },\n    // 表格搜索\n    userSearchs() {\n      this.getList();\n    },\n    // 任务列表\n    getList() {\n      this.loading = true;\n      this.levelFrom.is_show = this.levelFrom.is_show || '';\n      taskListApi(this.levelId, this.levelFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.levelLists = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 修改显示隐藏\n    onchangeIsShow(row) {\n      let data = {\n        id: row.id,\n        is_show: row.is_show,\n      };\n      setTaskShowApi(data)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 设置任务是否达成\n    onchangeIsMust(row) {\n      let data = {\n        id: row.id,\n        is_must: row.is_must,\n      };\n      setTaskMustApi(data)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 新建编辑提交成功\n    submitFail() {\n      this.getList();\n    },\n    // 删除任务\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `user/user_level/delete_task/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.levelLists.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"mappings":";;;;AAiIA,SAAAA,QAAA,EAAAC,YAAA;AACA,SAAAC,WAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,aAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF,QAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,MAAA;MACAC,SAAA;QACAC,OAAA;QACAX,IAAA;QACAY,IAAA;QACAC,KAAA;MACA;MACAC,KAAA;MACAC,UAAA;MACAC,OAAA;MACAC,QAAA;MACAC,GAAA;MACAC,YAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACA7B,QAAA,0BACAA,QAAA;IACA8B,UAAA,WAAAA,WAAA;MACA,YAAAC,QAAA,GAAAC,SAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAF,QAAA;IACA;EAAA,EACA;EACAG,OAAA,EAAAL,aAAA,CAAAA,aAAA,KACA5B,YAAA;IACA;IACAkC,GAAA,WAAAA,IAAA;MACA,KAAAV,GAAA;MACA,KAAAW,OAAA;IACA;IACA;IACAA,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACA,IAAA5B,IAAA;QACA6B,EAAA,OAAAb,GAAA;QACAc,QAAA,OAAAC;MACA;MACA,KAAAC,UAAA,CAAApC,aAAA,CAAAI,IAAA,GAAAiC,IAAA;QAAA,OAAAL,KAAA,CAAAM,OAAA;MAAA;IACA;IACA;IACAC,IAAA,WAAAA,KAAAC,GAAA;MACA,KAAApB,GAAA,GAAAoB,GAAA,CAAAP,EAAA;MACA,KAAAF,OAAA;IACA;IACA;IACAU,WAAA,WAAAA,YAAA;MACA,KAAA9B,MAAA;IACA;IACA;IACA+B,WAAA,WAAAA,YAAA;MACA,KAAAJ,OAAA;IACA;IACA;IACAA,OAAA,WAAAA,QAAA;MAAA,IAAAK,MAAA;MACA,KAAAzB,OAAA;MACA,KAAAN,SAAA,CAAAC,OAAA,QAAAD,SAAA,CAAAC,OAAA;MACAhB,WAAA,MAAAsC,OAAA,OAAAvB,SAAA,EACAyB,IAAA;QAAA,IAAAO,IAAA,GAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAAC,GAAA;UAAA,IAAA7C,IAAA;UAAA,OAAA0C,YAAA,GAAAI,CAAA,WAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,CAAA;cAAA;gBACAhD,IAAA,GAAA6C,GAAA,CAAA7C,IAAA;gBACAuC,MAAA,CAAA1B,UAAA,GAAAb,IAAA,CAAAiD,IAAA;gBACAV,MAAA,CAAA3B,KAAA,GAAAiC,GAAA,CAAA7C,IAAA,CAAAkD,KAAA;gBACAX,MAAA,CAAAzB,OAAA;cAAA;gBAAA,OAAAiC,QAAA,CAAAI,CAAA;YAAA;UAAA,GAAAP,OAAA;QAAA,CACA;QAAA,iBAAAQ,EAAA;UAAA,OAAAZ,IAAA,CAAAa,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAV,GAAA;QACAN,MAAA,CAAAzB,OAAA;QACAyB,MAAA,CAAAiB,QAAA,CAAAC,KAAA,CAAAZ,GAAA,CAAAa,GAAA;MACA;IACA;IACA;IACAC,cAAA,WAAAA,eAAAvB,GAAA;MAAA,IAAAwB,MAAA;MACA,IAAA5D,IAAA;QACA6B,EAAA,EAAAO,GAAA,CAAAP,EAAA;QACApB,OAAA,EAAA2B,GAAA,CAAA3B;MACA;MACAf,cAAA,CAAAM,IAAA,EACAiC,IAAA;QAAA,IAAA4B,KAAA,GAAApB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAmB,SAAAjB,GAAA;UAAA,OAAAH,YAAA,GAAAI,CAAA,WAAAiB,SAAA;YAAA,kBAAAA,SAAA,CAAAf,CAAA;cAAA;gBACAY,MAAA,CAAAJ,QAAA,CAAAQ,OAAA,CAAAnB,GAAA,CAAAa,GAAA;cAAA;gBAAA,OAAAK,SAAA,CAAAZ,CAAA;YAAA;UAAA,GAAAW,QAAA;QAAA,CACA;QAAA,iBAAAG,GAAA;UAAA,OAAAJ,KAAA,CAAAR,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAV,GAAA;QACAe,MAAA,CAAAJ,QAAA,CAAAC,KAAA,CAAAZ,GAAA,CAAAa,GAAA;MACA;IACA;IACA;IACAQ,cAAA,WAAAA,eAAA9B,GAAA;MAAA,IAAA+B,MAAA;MACA,IAAAnE,IAAA;QACA6B,EAAA,EAAAO,GAAA,CAAAP,EAAA;QACAuC,OAAA,EAAAhC,GAAA,CAAAgC;MACA;MACAzE,cAAA,CAAAK,IAAA,EACAiC,IAAA;QAAA,IAAAoC,KAAA,GAAA5B,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAA2B,SAAAzB,GAAA;UAAA,OAAAH,YAAA,GAAAI,CAAA,WAAAyB,SAAA;YAAA,kBAAAA,SAAA,CAAAvB,CAAA;cAAA;gBACAmB,MAAA,CAAAX,QAAA,CAAAQ,OAAA,CAAAnB,GAAA,CAAAa,GAAA;cAAA;gBAAA,OAAAa,SAAA,CAAApB,CAAA;YAAA;UAAA,GAAAmB,QAAA;QAAA,CACA;QAAA,iBAAAE,GAAA;UAAA,OAAAH,KAAA,CAAAhB,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAV,GAAA;QACAsB,MAAA,CAAAX,QAAA,CAAAC,KAAA,CAAAZ,GAAA,CAAAa,GAAA;MACA;IACA;IACA;IACAe,UAAA,WAAAA,WAAA;MACA,KAAAvC,OAAA;IACA;IACA;IACAwC,GAAA,WAAAA,IAAAtC,GAAA,EAAAuC,GAAA,EAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,WAAA;QACAC,KAAA,EAAAJ,GAAA;QACAC,GAAA,EAAAA,GAAA;QACAI,GAAA,iCAAAC,MAAA,CAAA7C,GAAA,CAAAP,EAAA;QACAqD,MAAA;QACAlE,GAAA;MACA;MACA,KAAAmE,UAAA,CAAAL,WAAA,EACA7C,IAAA,WAAAY,GAAA;QACAgC,MAAA,CAAArB,QAAA,CAAAQ,OAAA,CAAAnB,GAAA,CAAAa,GAAA;QACAmB,MAAA,CAAAhE,UAAA,CAAAuE,MAAA,CAAAR,GAAA;MACA,GACArB,KAAA,WAAAV,GAAA;QACAgC,MAAA,CAAArB,QAAA,CAAAC,KAAA,CAAAZ,GAAA,CAAAa,GAAA;MACA;IACA;EAAA;AAEA","ignoreList":[]}]}