{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\index.vue","mtime":1748574335766},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAnZW1vamktYXdlc29tZS9kaXN0L2Nzcy9nb29nbGUubWluLmNzcyc7CmltcG9ydCBlbW9qaUxpc3QgZnJvbSAnQC91dGlscy9lbW9qaSc7CmltcG9ydCB7IFNvY2tldCB9IGZyb20gJ0AvbGlicy9zb2NrZXQnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwppbXBvcnQgeyBjaGF0TGlzdEFwaSwgc2VydmljZUxpc3RBcGksIGdldEFkdkFwaSwgc2VydmljZUxpc3QsIGdldE9yZGVyQXBpLCBwcm9kdWN0QXBpIH0gZnJvbSAnQC9hcGkva2VmdSc7CmltcG9ydCBmZWVkQmFjayBmcm9tICcuL2ZlZWRiYWNrJzsKaW1wb3J0IHsgaXNQaWNVcGxvYWQgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7CnZhciBjaHVuayA9IGZ1bmN0aW9uIGNodW5rKGFyciwgbnVtKSB7CiAgbnVtID0gbnVtICogMSB8fCAxOwogIHZhciByZXQgPSBbXTsKICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgaWYgKGkgJSBudW0gPT09IDApIHsKICAgICAgcmV0LnB1c2goW10pOwogICAgfQogICAgcmV0W3JldC5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pOwogIH0pOwogIHJldHVybiByZXQ7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2hhdFJvb20nLAogIGF1dGg6IGZhbHNlLAogIGNvbXBvbmVudHM6IHsKICAgIGZlZWRCYWNrOiBmZWVkQmFjawogIH0sCiAgcHJvcHM6IHsKICAgIGNoYXRPcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgZHJhZzogewogICAgICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwpIHsKICAgICAgICB2YXIgeCA9IDA7CiAgICAgICAgdmFyIHkgPSAwOwogICAgICAgIHZhciBsID0gMDsKICAgICAgICB2YXIgdCA9IDA7CiAgICAgICAgdmFyIGlzRG93biA9IGZhbHNlOwogICAgICAgIGVsLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHggPSBlLmNsaWVudFg7CiAgICAgICAgICB5ID0gZS5jbGllbnRZOwogICAgICAgICAgbCA9IGVsLnBhcmVudE5vZGUub2Zmc2V0TGVmdDsKICAgICAgICAgIHQgPSBlbC5wYXJlbnROb2RlLm9mZnNldFRvcDsKICAgICAgICAgIGlzRG93biA9IHRydWU7CiAgICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoaXNEb3duID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBueCA9IGUuY2xpZW50WDsKICAgICAgICAgICAgdmFyIG55ID0gZS5jbGllbnRZOwogICAgICAgICAgICB2YXIgbmwgPSBueCAtICh4IC0gbCk7CiAgICAgICAgICAgIHZhciBudCA9IG55IC0gKHkgLSB0KTsKICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5zdHlsZS5sZWZ0ID0gbmwgKyAncHgnOwogICAgICAgICAgICBlbC5wYXJlbnROb2RlLnN0eWxlLnRvcCA9IG50ICsgJ3B4JzsKICAgICAgICAgIH07CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpc0Rvd24gPSBmYWxzZTsKICAgICAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gbnVsbDsKICAgICAgICAgIH07CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2F0aW9uczogIiIuY29uY2F0KGxvY2F0aW9uLm9yaWdpbiksCiAgICAgIGNoYW5nZTogZmFsc2UsCiAgICAgIGVtb2ppR3JvdXA6IGNodW5rKGVtb2ppTGlzdCwgMjApLAogICAgICAvLyDooajmg4XliJfooagKICAgICAgZW1vamlMaXN0OiBlbW9qaUxpc3QsCiAgICAgIGVtb2ppU2hvdzogZmFsc2UsCiAgICAgIHJlY29yZExpc3Q6IFtdLAogICAgICBsaW1pdDogMjAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIGNoYXRDb250OiAnJywKICAgICAgc2VydmljZTogbnVsbCwKICAgICAgc2VydmljZURhdGE6IHt9LAogICAgICB1cGxvYWRBY3Rpb246ICcnLAogICAgICBub3RpY2U6ICcnLAogICAgICBhdWRpbzogbnVsbCwKICAgICAgbXV0ZWQ6IGZhbHNlLAogICAgICBhdWRpb1NyYzogJycsCiAgICAgIHVwcGVySWQ6IDAsCiAgICAgIHVwbG9hZERhdGE6IHt9LAogICAgICBpc190b3VyaXN0OiAxLAogICAgICAvLyAw55m75b2V54q25oCB77yMMeacqueZu+W9leeKtuaAgea4uOWuogogICAgICB0ZXh0OiAnJywKICAgICAgaXNMb2FkOiBmYWxzZSwKICAgICAgcGFnZTogMSwKICAgICAgdG91cmlzdF9hdmF0YXI6ICcnLAogICAgICAvL+a4uOWuouWktOWDjwogICAgICB0b3VyaXN0X3VpZDogJycsCiAgICAgIC8v5ri45a6iaWQKICAgICAgdG9VaWQ6ICcnLAogICAgICAvL+WuouacjWlkCiAgICAgIGt1ZnVUb2tlbjogJycsCiAgICAgIC8vIHRva2VuCiAgICAgIGNvcHlyaWdodDogU2Vzc2lvbi5nZXQoJ2NvcHlyaWdodCcpIHx8ICcnCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIG11dGVkOiBmdW5jdGlvbiBtdXRlZCh2YWx1ZSkgewogICAgICB0aGlzLmF1ZGlvLm11dGVkID0gdmFsdWU7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVjb3JkczogZnVuY3Rpb24gcmVjb3JkcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMucmVjb3JkTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgICBpZiAobmV3IERhdGUoaXRlbS5hZGRfdGltZSkgLSBuZXcgRGF0ZShfdGhpcy5yZWNvcmRMaXN0W2luZGV4IC0gMV0uYWRkX3RpbWUpID49IDMwMDAwMCkgewogICAgICAgICAgICBpdGVtLnNob3cgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaXRlbS5zaG93ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW0uc2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigna2VmdScpICE9IC0xKSB0aGlzLnVwbG9hZEFjdGlvbiA9IFNldHRpbmcuYXBpQmFzZVVSTC5yZXBsYWNlKC9hZG1pbmFwaS8sICdrZWZ1YXBpJykgKyAnL3RvdXJpc3QvdXBsb2FkJzsKICAgIHZhciB0b2tlbiA9IENvb2tpZXMuZ2V0KCdhdXRoLl90b2tlbi5sb2NhbDEnKTsKICAgIHRoaXMua3VmdVRva2VuID0gdG9rZW4gPyB0b2tlbi5zcGxpdCgnQmVhcmVyICcpWzFdIDogJyc7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHRoYXQuZW1vamlTaG93ID0gZmFsc2U7CiAgICB9KTsKICAgIGlmICh0aGlzLiR3ZWNoYXQuX2lzTW9iaWxlKCkpIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcva2VmdS9tb2JpbGVfdXNlcl9jaGF0Jyk7CiAgICB0aGlzLmdldE5vdGljZSgpOwogICAgU29ja2V0LnRoZW4oZnVuY3Rpb24gKHdzKSB7CiAgICAgIGlmIChfdGhpczIua3VmdVRva2VuKSB7CiAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICB0eXBlOiAnbG9naW4nLAogICAgICAgICAgZGF0YTogX3RoaXMyLmt1ZnVUb2tlbgogICAgICAgIH0pOwogICAgICB9CiAgICAgIF90aGlzMi5nZXRTZXJ2aWNlKCk7CiAgICAgIHdzLiRvbihbJ3JlcGx5JywgJ2NoYXQnXSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5tc25fdHlwZSA9PSAxKSB7CiAgICAgICAgICBkYXRhLm1zbiA9IF90aGlzMi5yZXBsYWNlX2VtKGRhdGEubXNuKTsKICAgICAgICB9CiAgICAgICAgX3RoaXMyLnJlY29yZExpc3QucHVzaChkYXRhKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnJlY29yZC5zY3JvbGxUb3AgPSB0aGlzLiRyZWZzLnJlY29yZC5zY3JvbGxIZWlnaHQgLSB0aGlzLiRyZWZzLnJlY29yZC5jbGllbnRIZWlnaHQ7CiAgICAgICAgICB9KTsKICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgICAgLy8g55uR5ZCs5a6i5pyN6L2s5o6lCiAgICAgIHdzLiRvbigndG9fdHJhbnNmZXInLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi50b1VpZCA9IGRhdGEudG9VaWQ7CiAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGlkOiBfdGhpczIudG9VaWQKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAndG9fY2hhdCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHdzLiRvbignc29ja2V0X2Vycm9yJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcign6L+e5o6l5aSx6LSlJyk7CiAgICAgIH0pOwogICAgICB3cy4kb24oJ2Vycl90aXAnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgIH0pOwogICAgICB3cy4kb24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi5pc190b3VyaXN0ID0gMDsKICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMudGV4dCA9IHRoaXMucmVwbGFjZV9lbSgnW2VtLXNtaWxpbmdfaW1wXScpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkxvb2s6IGZ1bmN0aW9uIG9uTG9vayhpZCkgewogICAgICB3aW5kb3cub3BlbigiIi5jb25jYXQobG9jYXRpb24ub3JpZ2luLCAiL2hvbWUvZ29vZHNfZGV0YWlsLyIpLmNvbmNhdChpZCkpOwogICAgfSwKICAgIC8vIOWFs+mXrQogICAgY2xvc2VDaGFuZ2U6IGZ1bmN0aW9uIGNsb3NlQ2hhbmdlKG1zZykgewogICAgICB0aGlzLmNoYW5nZSA9IG1zZzsKICAgIH0sCiAgICAvLyDnu5/kuIDlj5HpgIHlpITnkIYKICAgIHNlbmRNc2c6IGZ1bmN0aW9uIHNlbmRNc2cobXNuLCB0eXBlKSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgdHlwZTogJ2NoYXQnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG1zbjogbXNuLAogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIGlzX3RvdXJpc3Q6IHRoaXMuaXNfdG91cmlzdCwKICAgICAgICAgIHRvX3VpZDogdGhpcy50b1VpZCwKICAgICAgICAgIHRvdXJpc3RfdWlkOiB0aGlzLnRvdXJpc3RfdWlkLAogICAgICAgICAgdG91cmlzdF9hdmF0YXI6IHRoaXMudG91cmlzdF9hdmF0YXIsCiAgICAgICAgICBmb3JtX3R5cGU6IHRoaXMuJHdlY2hhdC5pc1dlaXhpbigpID8gMSA6IDMKICAgICAgICB9CiAgICAgIH07CiAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgIHdzLnNlbmQob2JqKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6ZqP5py65a6i5pyNCiAgICBnZXRTZXJ2aWNlOiBmdW5jdGlvbiBnZXRTZXJ2aWNlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgc2VydmljZUxpc3RBcGkoewogICAgICAgIHRva2VuOiB0aGlzLmt1ZnVUb2tlbiB8fCAnJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuc2VydmljZURhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczMudXBwZXJJZCA9IDA7CiAgICAgICAgX3RoaXMzLnRvVWlkID0gcmVzLmRhdGEudWlkOwogICAgICAgIF90aGlzMy50b3VyaXN0X3VpZCA9IHJlcy5kYXRhLnRvdXJpc3RfdWlkOwogICAgICAgIF90aGlzMy50b3VyaXN0X2F2YXRhciA9IHJlcy5kYXRhLnRvdXJpc3RfYXZhdGFyOwogICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGlkOiByZXMuZGF0YS51aWQsCiAgICAgICAgICAgIHRvdXJpc3RfdWlkOiBfdGhpczMudG91cmlzdF91aWQKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAndG9fY2hhdCcKICAgICAgICB9OwogICAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgICAgd3Muc2VuZChvYmopOwogICAgICAgIH0pOwogICAgICAgIGlmIChfdGhpczMua3VmdVRva2VuKSB7CiAgICAgICAgICBfdGhpczMuZ2V0UmVjb3JkTGlzdCgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICBfdGhpczMuY2hhbmdlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgcm9vbUNsaWNrOiBmdW5jdGlvbiByb29tQ2xpY2soZXZlbnQpIHsKICAgICAgLy8gaWYgKAogICAgICAvLyAgICAgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImVtb2ppLXBhbmVsIikgJiYKICAgICAgLy8gICAgICFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJlbW9qaS1idG4iKSAmJgogICAgICAvLyAgICAgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImljb24tYmlhb3FpbmciKSAmJgogICAgICAvLyAgICAgdGhpcy5lbW9qaVNob3cKICAgICAgLy8gKSB7CiAgICAgIC8vICAgICB0aGlzLmVtb2ppU2hvdyA9IGZhbHNlOwogICAgICAvLyB9CiAgICB9LAogICAgLy8gZW50ZXIg5Y+R6YCBCiAgICBjdHJsRW50ZXI6IGZ1bmN0aW9uIGN0cmxFbnRlcihlKSB7CiAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuY2hhdENvbnQudHJpbSgpKSB7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g5YWz6Zet6IGK5aSp56qX5Y+jCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYXQtY2xvc2UnKTsKICAgIH0sCiAgICAvLyDpgInmi6nooajmg4UKICAgIHNlbGVjdEVtb2ppOiBmdW5jdGlvbiBzZWxlY3RFbW9qaShkYXRhKSB7CiAgICAgIHZhciB2YWwgPSAiWyIuY29uY2F0KGRhdGEsICJdIik7CiAgICAgIHRoaXMuY2hhdENvbnQgKz0gdmFsOwogICAgICB0aGlzLmVtb2ppU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOiBiuWkqeihqOaDhei9rOaNogogICAgcmVwbGFjZV9lbTogZnVuY3Rpb24gcmVwbGFjZV9lbShzdHIpIHsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xbZW0tKFtcc1xTXSopXF0vZywgIjxzcGFuIGNsYXNzPSdlbSBlbS0kMScvPjwvc3Bhbj4iKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5zY3JvbGxUb3AgPD0gMzApIHsKICAgICAgICBpZiAodGhpcy5rdWZ1VG9rZW4pIHsKICAgICAgICAgIHRoaXMuZ2V0UmVjb3JkTGlzdCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOiBiuWkqeiusOW9lQogICAgZ2V0UmVjb3JkTGlzdDogZnVuY3Rpb24gZ2V0UmVjb3JkTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZmluaXNoZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY2hhdExpc3RBcGkoewogICAgICAgIHVpZDogdGhpcy5zZXJ2aWNlRGF0YS51aWQsCiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgdXBwZXJJZDogdGhpcy51cHBlcklkLAogICAgICAgIHRva2VuOiB0aGlzLmt1ZnVUb2tlbgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgaWYgKGVsLm1zbl90eXBlID09IDEpIHsKICAgICAgICAgICAgZWwubXNuID0gX3RoaXM0LnJlcGxhY2VfZW0oZWwubXNuKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgc2VsZWN0b3IgPSAnJzsKICAgICAgICBpZiAoX3RoaXM0LnVwcGVySWQgPT0gMCkgewogICAgICAgICAgc2VsZWN0b3IgPSAiY2hhdF8iLmNvbmNhdChyZXMuZGF0YVtyZXMuZGF0YS5sZW5ndGggLSAxXS5pZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGVjdG9yID0gImNoYXRfIi5jb25jYXQoX3RoaXM0LnJlY29yZExpc3RbMF0uaWQpOwogICAgICAgIH0KICAgICAgICBfdGhpczQucmVjb3JkTGlzdCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEpLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXM0LnJlY29yZExpc3QpKTsKICAgICAgICBfdGhpczQudXBwZXJJZCA9IHJlcy5kYXRhLmxlbmd0aCA+IDAgPyByZXMuZGF0YVswXS5pZCA6IDA7CiAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczQuZmluaXNoZWQgPSByZXMuZGF0YS5sZW5ndGggPCBfdGhpczQubGltaXQ7CiAgICAgICAgX3RoaXM0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLnNldFBhZ2VTY3JvbGxUbyhzZWxlY3Rvcik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6K6+572u6aG16Z2i5rua5Yqo5L2N572uCiAgICBzZXRQYWdlU2Nyb2xsVG86IGZ1bmN0aW9uIHNldFBhZ2VTY3JvbGxUbyhzZWxlY3RvcikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzZWxlY3RvcikgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKS5vZmZzZXRUb3ApIC0gNjA7CiAgICAgICAgICAgIF90aGlzNS4kcmVmcy5yZWNvcmQuc2Nyb2xsVG9wID0gbnVtOwogICAgICAgICAgfSwgMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhdF9zY3JvbGwnKTsKICAgICAgICAgIF90aGlzNS4kcmVmcy5yZWNvcmQuc2Nyb2xsVG9wID0gY29udGFpbmVyLm9mZnNldEhlaWdodDsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAoX3RoaXM1LiRyZWZzLnJlY29yZC5zY3JvbGxUb3AgIT0gX3RoaXM1LiRyZWZzLnNjcm9sbEJveC5vZmZzZXRIZWlnaHQpIHsKICAgICAgICAgICAgICBfdGhpczUuJHJlZnMucmVjb3JkLnNjcm9sbFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0X3Njcm9sbCcpLm9mZnNldEhlaWdodDsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOihqOaDheWMheaYvuekuumakOiXjwogICAgZW1vamlTd2l0Y2g6IGZ1bmN0aW9uIGVtb2ppU3dpdGNoKCkgewogICAgICB0aGlzLmVtb2ppU2hvdyA9ICF0aGlzLmVtb2ppU2hvdzsKICAgIH0sCiAgICAvLyDlj5HpgIHmtojmga8KICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsKICAgICAgdGhpcy5zZW5kTXNnKHRoaXMuY2hhdENvbnQsIDEpOwogICAgICB0aGlzLmNoYXRDb250ID0gJyc7CiAgICB9LAogICAgY2hhdDogZnVuY3Rpb24gY2hhdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICBpZiAoZGF0YS51aWQgIT0gdGhpcy4kYXV0aC51c2VyLnVpZCAmJiB0aGlzLmF1ZGlvKSB7CiAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7CiAgICAgIH0KICAgICAgdGhpcy5yZWNvcmRMaXN0LnB1c2goZGF0YSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJHJlZnMucmVjb3JkLnNjcm9sbFRvcCA9IF90aGlzNi4kcmVmcy5yZWNvcmQuc2Nyb2xsSGVpZ2h0IC0gX3RoaXM2LiRyZWZzLnJlY29yZC5jbGllbnRIZWlnaHQ7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRHb29kczogZnVuY3Rpb24gc2VuZEdvb2RzKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgaWYgKHRoaXMuY2hhdE9wdGlvbnMuZ29vZHNJZCkgewogICAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBtc246IF90aGlzNy5jaGF0T3B0aW9ucy5nb29kc0lkLAogICAgICAgICAgICAgIHR5cGU6IDUsCiAgICAgICAgICAgICAgdG9fdWlkOiBfdGhpczcudG9VaWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHlwZTogJ3RvX2NoYXQnCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlbmRPcmRlcjogZnVuY3Rpb24gc2VuZE9yZGVyKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgaWYgKHRoaXMuY2hhdE9wdGlvbnMub3JkZXJJZCkgewogICAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBtc246IF90aGlzOC5jaGF0T3B0aW9ucy5vcmRlcklkLAogICAgICAgICAgICAgIHR5cGU6IDYsCiAgICAgICAgICAgICAgdG9fdWlkOiBfdGhpczgudG9VaWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHlwZTogJ3RvX2NoYXQnCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoYXRFbmQ6IGZ1bmN0aW9uIGNoYXRFbmQoKSB7CiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUnKSA+IDApIHsKICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFIDYuMCcpID4gMCkgewogICAgICAgICAgd2luZG93Lm9wZW5lciA9IG51bGw7CiAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2luZG93Lm9wZW4oJycsICdfdG9wJyk7CiAgICAgICAgICB3aW5kb3cudG9wLmNsb3NlKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gMCkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2Fib3V0OmJsYW5rICc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lm9wZW5lciA9IG51bGw7CiAgICAgICAgd2luZG93Lm9wZW4oJycsICdfc2VsZicsICcnKTsKICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOW5v+WRigogICAgZ2V0Tm90aWNlOiBmdW5jdGlvbiBnZXROb3RpY2UoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICBnZXRBZHZBcGkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkubm90aWNlID0gcmVzLmRhdGEuY29udGVudDsKICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMwID0gdGhpczsKICAgICAgaWYgKGlzUGljVXBsb2FkKGZpbGUpKSB7CiAgICAgICAgdGhpcy51cGxvYWREYXRhID0gewogICAgICAgICAgZmlsZW5hbWU6IGZpbGUsCiAgICAgICAgICB0b2tlbjogdGhpcy5rdWZ1VG9rZW4KICAgICAgICB9OwogICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIF90aGlzMC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcjogZnVuY3Rpb24gaGFuZGxlRm9ybWF0RXJyb3IoZmlsZSkgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlm77niYflj6rog73mmK8ganBn44CBanBn44CBanBlZ+OAgWdpZiDmoLzlvI8hJyk7CiAgICB9LAogICAgdXBsb2FkU3VjY2VzczogZnVuY3Rpb24gdXBsb2FkU3VjY2VzcyhyZXMpIHsKICAgICAgdGhpcy5zZW5kTXNnKHJlcy5kYXRhLnVybCwgMyk7CiAgICB9LAogICAgdXBsb2FkRXJyb3I6IGZ1bmN0aW9uIHVwbG9hZEVycm9yKGVycm9yKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IpOwogICAgfQogIH0KfTs="},{"version":3,"names":["emojiList","Socket","Setting","Cookies","chatListApi","serviceListApi","getAdvApi","serviceList","getOrderApi","productApi","feedBack","isPicUpload","Session","chunk","arr","num","ret","forEach","item","i","push","length","name","auth","components","props","chatOptions","type","Object","default","show","directives","drag","inserted","el","x","y","l","t","isDown","onmousedown","e","clientX","clientY","parentNode","offsetLeft","offsetTop","style","cursor","window","onmousemove","nx","ny","nl","nt","left","top","onmouseup","data","locations","concat","location","origin","change","emojiGroup","emojiShow","recordList","limit","loading","finished","chatCont","service","serviceData","uploadAction","notice","audio","muted","audioSrc","upperId","uploadData","is_tourist","text","isLoad","page","tourist_avatar","tourist_uid","toUid","kufuToken","copyright","get","watch","value","computed","records","_this","map","index","Date","add_time","created","href","indexOf","apiBaseURL","replace","token","split","mounted","_this2","that","addEventListener","$wechat","_isMobile","$router","getNotice","then","ws","send","getService","$on","msn_type","msn","replace_em","setTimeout","res","$nextTick","$refs","record","scrollTop","scrollHeight","clientHeight","id","$message","error","msg","beforeDestroy","socket","close","methods","onLook","open","closeChange","sendMsg","obj","to_uid","form_type","isWeixin","_this3","uid","getRecordList","catch","err","roomClick","event","ctrlEnter","keyCode","preventDefault","trim","sendMessage","$emit","selectEmoji","val","str","onScroll","target","_this4","selector","_toConsumableArray","setPageScrollTo","_this5","parseFloat","document","getElementById","container","querySelector","offsetHeight","scrollBox","emojiSwitch","chat","_this6","$auth","user","play","sendGoods","_this7","goodsId","sendOrder","_this8","orderId","chatEnd","navigator","userAgent","opener","_this9","content","beforeUpload","file","_this0","filename","promise","Promise","resolve","handleFormatError","uploadSuccess","url","uploadError"],"sources":["src/pages/kefu/appChat/index.vue"],"sourcesContent":["<template>\n  <div class=\"chat-room\">\n    <div class=\"room\" :class=\"{ win: !chatOptions.popup }\" v-db-click @click=\"roomClick\">\n      <div v-drag class=\"head\">\n        <div class=\"image\">\n          <img v-lazy=\"serviceData && serviceData.avatar\" />\n        </div>\n        <div class=\"name\">{{ serviceData && serviceData.nickname }}</div>\n        <div\n          :class=\"['iconfont', muted ? 'icon-shengyinjingyinxianxing' : 'icon-shengyinyinliang']\"\n          v-db-click\n          @click.stop=\"muted = !muted\"\n        ></div>\n        <div class=\"iconfont icon-guanbi5\" v-db-click @click.stop=\"close\"></div>\n      </div>\n      <div class=\"main\">\n        <div class=\"chat\">\n          <div class=\"record\" @scroll=\"onScroll\" ref=\"record\">\n            <div id=\"chat_scroll\" ref=\"scrollBox\" v-loading=\"loading\">\n              <ul>\n                <template v-for=\"item in records\">\n                  <li :key=\"item.id\" :class=\"{ right: item.uid === serviceData.tourist_uid }\" :id=\"`chat_${item.id}`\">\n                    <div v-if=\"item.show\" class=\"time-tag\">\n                      {{ item.add_time }}\n                    </div>\n                    <div class=\"avatar\">\n                      <img v-lazy=\"item.avatar\" />\n                    </div>\n                    <div class=\"content\" ref=\"chatContent\">\n                      <div v-if=\"item.msn_type === 1\" class=\"text\" v-html=\"item.msn\"></div>\n                      <div v-if=\"item.msn_type === 2\" class=\"image\">\n                        <div class=\"text\">\n                          <i :class=\"`em ${item.msn}`\"></i>\n                        </div>\n                      </div>\n                      <div v-if=\"item.msn_type === 3\" class=\"image\" v-viewer>\n                        <img v-lazy=\"item.msn\" />\n                      </div>\n                      <div v-if=\"item.msn_type === 5\" class=\"goods\">\n                        <div class=\"thumb\">\n                          <img v-lazy=\"item.productInfo.image\" />\n                        </div>\n                        <div class=\"intro\">\n                          <div class=\"name\">\n                            {{ item.productInfo.store_name }}\n                          </div>\n                          <div class=\"attr\">\n                            <span>库存：{{ item.productInfo.stock }}</span>\n                            <span\n                              >销量：{{\n                                parseInt(item.productInfo.sales) +\n                                parseInt(item.productInfo.ficti ? item.productInfo.ficti : 0)\n                              }}</span\n                            >\n                          </div>\n                          <div class=\"group\">\n                            <div class=\"money\">￥{{ item.productInfo.price }}</div>\n                            <span style=\"cursor: pointer\" v-db-click @click.stop=\"onLook(item.productInfo.id)\"\n                              >查看商品 ></span\n                            >\n                          </div>\n                        </div>\n                      </div>\n                      <template v-if=\"item.msn_type === 6\">\n                        <div v-for=\"itm in item.orderInfo.cartInfo\" :key=\"itm.id\" class=\"order\">\n                          <div class=\"thumb\">\n                            <img :src=\"itm.productInfo.image\" />\n                          </div>\n                          <div class=\"intro\">\n                            <div class=\"name\">订单ID：{{ item.orderInfo.order_id }}</div>\n                            <div class=\"attr\">商品数量：{{ itm.cart_num }}</div>\n                            <div class=\"group\">\n                              <div class=\"money\">￥{{ itm.productInfo.price }}</div>\n                              <nuxt-link\n                                target=\"_blank\"\n                                :to=\"{\n                                  path: '/order_detail',\n                                  query: { orderId: item.orderInfo.order_id },\n                                }\"\n                                >查看订单 ></nuxt-link\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </template>\n                    </div>\n                  </li>\n                </template>\n              </ul>\n            </div>\n          </div>\n          <div class=\"editor\">\n            <div class=\"editor-hd\">\n              <div>\n                <button class=\"emoji-btn\" title=\"表情\" v-db-click @click.stop=\"emojiSwitch\">\n                  <span class=\"iconfont iconbiaoqing1\"></span>\n                </button>\n                <button title=\"图片\" v-if=\"kufuToken\">\n                  <el-upload\n                    :show-file-list=\"false\"\n                    :action=\"uploadAction\"\n                    :before-upload=\"beforeUpload\"\n                    accept=\"image/*\"\n                    :on-format-error=\"handleFormatError\"\n                    :data=\"uploadData\"\n                    :on-success=\"uploadSuccess\"\n                    :on-error=\"uploadError\"\n                  >\n                    <span class=\"iconfont icontupian1\"></span>\n                  </el-upload>\n                </button>\n              </div>\n              <!--                            <div>-->\n              <!--                                <button class=\"end\" v-db-click @click=\"chatEnd\">-->\n              <!--                                    <i class=\"iconfont icon-guanji\"></i>结束-->\n              <!--                                </button>-->\n              <!--                            </div>-->\n              <!-- 表情 -->\n              <div class=\"emoji-panel\" v-if=\"emojiShow\">\n                <i\n                  class=\"em\"\n                  :class=\"emoji\"\n                  v-db-click\n                  @click.stop=\"selectEmoji(emoji)\"\n                  v-for=\"(emoji, index) in emojiList\"\n                  :key=\"index\"\n                ></i>\n              </div>\n            </div>\n            <div class=\"editor-bd\">\n              <textarea v-model=\"chatCont\" placeholder=\"请输入文字内容\" @keydown.enter=\"ctrlEnter\"></textarea>\n            </div>\n            <div class=\"editor-ft\">\n              <button :disabled=\"!chatCont\" v-db-click @click.stop=\"sendMessage\">发送</button>\n            </div>\n          </div>\n        </div>\n        <div class=\"notice\">\n          <div v-if=\"notice\" class=\"rich\" v-html=\"notice\"></div>\n          <div class=\"copy\">\n            <span v-if=\"copyright\">{{ copyright }}</span>\n            <a v-else href=\"http://www.crmeb.com/\" target=\"_blank\">CRMEB提供技术支持</a>\n          </div>\n        </div>\n      </div>\n      <audio ref=\"audio\" :src=\"audioSrc\"></audio>\n    </div>\n    <feed-back @closeChange=\"closeChange($event)\" v-if=\"change\" :change=\"change\"></feed-back>\n  </div>\n</template>\n\n<script>\nimport 'emoji-awesome/dist/css/google.min.css';\nimport emojiList from '@/utils/emoji';\nimport { Socket } from '@/libs/socket';\nimport Setting from '@/setting';\nimport Cookies from 'js-cookie';\nimport { chatListApi, serviceListApi, getAdvApi, serviceList, getOrderApi, productApi } from '@/api/kefu';\nimport feedBack from './feedback';\nimport { isPicUpload } from '@/utils';\nimport { Session } from '@/utils/storage.js';\n\nconst chunk = function (arr, num) {\n  num = num * 1 || 1;\n  var ret = [];\n  arr.forEach(function (item, i) {\n    if (i % num === 0) {\n      ret.push([]);\n    }\n    ret[ret.length - 1].push(item);\n  });\n  return ret;\n};\nexport default {\n  name: 'ChatRoom',\n  auth: false,\n  components: {\n    feedBack,\n  },\n  props: {\n    chatOptions: {\n      type: Object,\n      default: function () {\n        return {\n          show: false,\n        };\n      },\n    },\n  },\n  directives: {\n    drag: {\n      inserted: function (el) {\n        let x = 0;\n        let y = 0;\n        let l = 0;\n        let t = 0;\n        let isDown = false;\n        el.onmousedown = function (e) {\n          x = e.clientX;\n          y = e.clientY;\n          l = el.parentNode.offsetLeft;\n          t = el.parentNode.offsetTop;\n          isDown = true;\n          el.style.cursor = 'move';\n          window.onmousemove = function (e) {\n            if (isDown == false) {\n              return;\n            }\n            let nx = e.clientX;\n            let ny = e.clientY;\n            let nl = nx - (x - l);\n            let nt = ny - (y - t);\n            el.parentNode.style.left = nl + 'px';\n            el.parentNode.style.top = nt + 'px';\n          };\n          window.onmouseup = function () {\n            isDown = false;\n            el.style.cursor = 'default';\n            window.onmousemove = null;\n            window.onmouseup = null;\n          };\n          return false;\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      locations: `${location.origin}`,\n      change: false,\n      emojiGroup: chunk(emojiList, 20), // 表情列表\n      emojiList: emojiList,\n      emojiShow: false,\n      recordList: [],\n      limit: 20,\n      loading: false,\n      finished: false,\n      chatCont: '',\n      service: null,\n      serviceData: {},\n      uploadAction: '',\n      notice: '',\n      audio: null,\n      muted: false,\n      audioSrc: '',\n      upperId: 0,\n      uploadData: {},\n      is_tourist: 1, // 0登录状态，1未登录状态游客\n      text: '',\n      isLoad: false,\n      page: 1,\n      tourist_avatar: '', //游客头像\n      tourist_uid: '', //游客id\n      toUid: '', //客服id\n      kufuToken: '', // token\n      copyright: Session.get('copyright') || '',\n    };\n  },\n  watch: {\n    muted(value) {\n      this.audio.muted = value;\n    },\n  },\n  computed: {\n    records() {\n      return this.recordList.map((item, index) => {\n        if (index) {\n          if (new Date(item.add_time) - new Date(this.recordList[index - 1].add_time) >= 300000) {\n            item.show = true;\n          } else {\n            item.show = false;\n          }\n        } else {\n          item.show = false;\n        }\n        return item;\n      });\n    },\n  },\n  created() {\n    if (location.href.indexOf('kefu') != -1)\n      this.uploadAction = Setting.apiBaseURL.replace(/adminapi/, 'kefuapi') + '/tourist/upload';\n    let token = Cookies.get('auth._token.local1');\n    this.kufuToken = token ? token.split('Bearer ')[1] : '';\n  },\n  mounted() {\n    let that = this;\n    window.addEventListener('click', function () {\n      that.emojiShow = false;\n    });\n    if (this.$wechat._isMobile()) this.$router.replace('/kefu/mobile_user_chat');\n    this.getNotice();\n    Socket.then((ws) => {\n      if (this.kufuToken) {\n        ws.send({\n          type: 'login',\n          data: this.kufuToken,\n        });\n      }\n      this.getService();\n      ws.$on(['reply', 'chat'], (data) => {\n        if (data.msn_type == 1) {\n          data.msn = this.replace_em(data.msn);\n        }\n        this.recordList.push(data);\n        setTimeout((res) => {\n          this.$nextTick(function () {\n            this.$refs.record.scrollTop = this.$refs.record.scrollHeight - this.$refs.record.clientHeight;\n          });\n        }, 300);\n      });\n      // 监听客服转接\n      ws.$on('to_transfer', (data) => {\n        this.toUid = data.toUid;\n        ws.send({\n          data: {\n            id: this.toUid,\n          },\n          type: 'to_chat',\n        });\n      });\n      ws.$on('socket_error', () => {\n        this.$message.error('连接失败');\n      });\n      ws.$on('err_tip', (data) => {\n        this.$message.error(data.msg);\n      });\n      ws.$on('success', (data) => {\n        this.is_tourist = 0;\n      });\n    });\n    this.text = this.replace_em('[em-smiling_imp]');\n  },\n  beforeDestroy() {\n    this.socket.close();\n  },\n  methods: {\n    onLook(id) {\n      window.open(`${location.origin}/home/goods_detail/${id}`);\n    },\n    // 关闭\n    closeChange(msg) {\n      this.change = msg;\n    },\n    // 统一发送处理\n    sendMsg(msn, type) {\n      let obj = {\n        type: 'chat',\n        data: {\n          msn,\n          type,\n          is_tourist: this.is_tourist,\n          to_uid: this.toUid,\n          tourist_uid: this.tourist_uid,\n          tourist_avatar: this.tourist_avatar,\n          form_type: this.$wechat.isWeixin() ? 1 : 3,\n        },\n      };\n      Socket.then((ws) => {\n        ws.send(obj);\n      });\n    },\n    // 随机客服\n    getService() {\n      serviceListApi({ token: this.kufuToken || '' })\n        .then((res) => {\n          this.serviceData = res.data;\n          this.upperId = 0;\n          this.toUid = res.data.uid;\n          this.tourist_uid = res.data.tourist_uid;\n          this.tourist_avatar = res.data.tourist_avatar;\n          let obj = {\n            data: {\n              id: res.data.uid,\n              tourist_uid: this.tourist_uid,\n            },\n            type: 'to_chat',\n          };\n          Socket.then((ws) => {\n            ws.send(obj);\n          });\n          if (this.kufuToken) {\n            this.getRecordList();\n          }\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n          this.change = true;\n        });\n    },\n    roomClick(event) {\n      // if (\n      //     !event.target.classList.contains(\"emoji-panel\") &&\n      //     !event.target.classList.contains(\"emoji-btn\") &&\n      //     !event.target.classList.contains(\"icon-biaoqing\") &&\n      //     this.emojiShow\n      // ) {\n      //     this.emojiShow = false;\n      // }\n    },\n    // enter 发送\n    ctrlEnter(e) {\n      if (e.keyCode == 13) {\n        e.preventDefault();\n      }\n      if (this.chatCont.trim()) {\n        this.sendMessage();\n      }\n    },\n    // 关闭聊天窗口\n    close() {\n      this.$emit('chat-close');\n    },\n    // 选择表情\n    selectEmoji(data) {\n      let val = `[${data}]`;\n      this.chatCont += val;\n      this.emojiShow = false;\n    },\n    // 聊天表情转换\n    replace_em(str) {\n      str = str.replace(/\\[em-([\\s\\S]*)\\]/g, \"<span class='em em-$1'/></span>\");\n      return str;\n    },\n    onScroll(event) {\n      if (event.target.scrollTop <= 30) {\n        if (this.kufuToken) {\n          this.getRecordList();\n        }\n      }\n    },\n    // 聊天记录\n    getRecordList() {\n      if (this.loading) {\n        return;\n      }\n      if (this.finished) {\n        return;\n      }\n      this.loading = true;\n      chatListApi({\n        uid: this.serviceData.uid,\n        limit: this.limit,\n        upperId: this.upperId,\n        token: this.kufuToken,\n      })\n        .then((res) => {\n          if (res.data.length === 0) return (this.loading = false);\n          res.data.forEach((el) => {\n            if (el.msn_type == 1) {\n              el.msn = this.replace_em(el.msn);\n            }\n          });\n          let selector = '';\n          if (this.upperId == 0) {\n            selector = `chat_${res.data[res.data.length - 1].id}`;\n          } else {\n            selector = `chat_${this.recordList[0].id}`;\n          }\n          this.recordList = [...res.data, ...this.recordList];\n          this.upperId = res.data.length > 0 ? res.data[0].id : 0;\n          this.loading = false;\n          this.finished = res.data.length < this.limit;\n          this.$nextTick(function () {\n            this.setPageScrollTo(selector);\n          });\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n          this.loading = false;\n        });\n    },\n    // 设置页面滚动位置\n    setPageScrollTo(selector) {\n      this.$nextTick(() => {\n        if (selector) {\n          setTimeout(() => {\n            let num = parseFloat(document.getElementById(selector).offsetTop) - 60;\n            this.$refs.record.scrollTop = num;\n          }, 0);\n        } else {\n          var container = document.querySelector('#chat_scroll');\n          this.$refs.record.scrollTop = container.offsetHeight;\n          setTimeout((res) => {\n            if (this.$refs.record.scrollTop != this.$refs.scrollBox.offsetHeight) {\n              this.$refs.record.scrollTop = document.querySelector('#chat_scroll').offsetHeight;\n            }\n          }, 300);\n        }\n      });\n    },\n    // 表情包显示隐藏\n    emojiSwitch() {\n      this.emojiShow = !this.emojiShow;\n    },\n    // 发送消息\n    sendMessage() {\n      this.sendMsg(this.chatCont, 1);\n      this.chatCont = '';\n    },\n    chat(data) {\n      if (data.uid != this.$auth.user.uid && this.audio) {\n        this.audio.play();\n      }\n      this.recordList.push(data);\n      this.$nextTick(() => {\n        this.$refs.record.scrollTop = this.$refs.record.scrollHeight - this.$refs.record.clientHeight;\n      });\n    },\n    sendGoods() {\n      if (this.chatOptions.goodsId) {\n        Socket.then((ws) => {\n          ws.send({\n            data: {\n              msn: this.chatOptions.goodsId,\n              type: 5,\n              to_uid: this.toUid,\n            },\n            type: 'to_chat',\n          });\n        });\n      }\n    },\n    sendOrder() {\n      if (this.chatOptions.orderId) {\n        Socket.then((ws) => {\n          ws.send({\n            data: {\n              msn: this.chatOptions.orderId,\n              type: 6,\n              to_uid: this.toUid,\n            },\n            type: 'to_chat',\n          });\n        });\n      }\n    },\n    chatEnd() {\n      if (navigator.userAgent.indexOf('MSIE') > 0) {\n        if (navigator.userAgent.indexOf('MSIE 6.0') > 0) {\n          window.opener = null;\n          window.close();\n        } else {\n          window.open('', '_top');\n          window.top.close();\n        }\n      } else if (navigator.userAgent.indexOf('Firefox') > 0) {\n        window.location.href = 'about:blank ';\n      } else {\n        window.opener = null;\n        window.open('', '_self', '');\n        window.close();\n      }\n    },\n    // 广告\n    getNotice() {\n      getAdvApi().then((res) => {\n        this.notice = res.data.content;\n      });\n    },\n    beforeUpload(file) {\n      if (isPicUpload(file)) {\n        this.uploadData = {\n          filename: file,\n          token: this.kufuToken,\n        };\n        let promise = new Promise((resolve) => {\n          this.$nextTick(function () {\n            resolve(true);\n          });\n        });\n        return promise;\n      }\n    },\n    handleFormatError(file) {\n      this.$message.error('上传图片只能是 jpg、jpg、jpeg、gif 格式!');\n    },\n    uploadSuccess(res) {\n      this.sendMsg(res.data.url, 3);\n    },\n    uploadError(error) {\n      this.$message.error(error);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../../styles/emoji-awesome/css/google.min.css';\nli {\n  list-style-type: none;\n}\n.chat-room {\n  .room {\n    border-radius: 10px;\n    position: fixed;\n    top: calc(50% - 327px);\n    left: calc(50% - 365px);\n    z-index: 999;\n    display: flex;\n    flex-direction: column;\n    width: 730px;\n    height: 654px;\n    background-color: #ffffff;\n    overflow: hidden;\n    box-shadow: 1px 1px 15px 0 rgba(0, 0, 0, 0.1);\n\n    &.win {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n\n    .head {\n      display: flex;\n      align-items: center;\n      height: 50px;\n      padding-right: 15px;\n      padding-left: 20px;\n      background: linear-gradient(270deg, var(--prev-color-primary) 0%, #3875ea 100%);\n\n      .image {\n        width: 36px;\n        height: 36px;\n        border-radius: 50%;\n        overflow: hidden;\n\n        img {\n          display: block;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n      }\n\n      .name {\n        flex: 1;\n        min-width: 0;\n        margin-left: 15px;\n        font-size: 16px;\n        color: #ffffff;\n      }\n\n      .iconfont {\n        width: 25px;\n        height: 25px;\n        font-size: 16px;\n        line-height: 25px;\n        text-align: center;\n        color: #ffffff;\n        cursor: pointer;\n      }\n    }\n\n    .main {\n      flex: 1;\n      display: flex;\n      min-height: 0;\n\n      .chat {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        min-width: 0;\n      }\n\n      .record {\n        flex: 1;\n        min-height: 0;\n        overflow-x: hidden;\n        overflow-y: auto;\n\n        &::-webkit-scrollbar {\n          display: none;\n        }\n\n        ul {\n          padding: 20px;\n        }\n\n        li {\n          ~ li {\n            margin-top: 20px;\n          }\n\n          &::after {\n            content: '';\n            display: block;\n            height: 0;\n            clear: both;\n            visibility: hidden;\n          }\n\n          &.right {\n            .avatar {\n              float: right;\n            }\n\n            .content {\n              text-align: right;\n\n              > div {\n                text-align: left;\n              }\n            }\n          }\n        }\n\n        .time-tag {\n          padding-top: 10px;\n          padding-bottom: 30px;\n          text-align: center;\n          color: #999999;\n        }\n\n        .avatar {\n          float: left;\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          overflow: hidden;\n\n          &.right {\n            float: right;\n          }\n\n          img {\n            display: block;\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n          }\n        }\n\n        .content {\n          margin-right: 56px;\n          margin-left: 56px;\n        }\n\n        .text {\n          display: inline-block;\n          min-height: 41px;\n          padding: 10px 12px;\n          border-radius: 10px;\n          background-color: #f5f5f5;\n          font-size: 15px;\n          line-height: 21px;\n          color: #000000;\n        }\n\n        .image {\n          display: inline-block;\n          max-width: 50%;\n          border-radius: 10px;\n          overflow: hidden;\n\n          img {\n            display: block;\n            max-width: 100%;\n          }\n        }\n\n        .goods,\n        .order {\n          display: inline-flex;\n          align-items: center;\n          width: 320px;\n          padding: 10px 13px;\n          border-radius: 10px;\n          background-color: #f5f5f5;\n        }\n\n        .thumb {\n          width: 60px;\n          height: 60px;\n          border-radius: 5px;\n          overflow: hidden;\n\n          img {\n            display: block;\n            width: 100%;\n            height: 100%;\n          }\n        }\n\n        .intro {\n          flex: 1;\n          min-width: 0;\n          margin-left: 10px;\n\n          .name {\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            font-size: 15px;\n            color: #000000;\n          }\n\n          .attr {\n            margin-top: 5px;\n            font-size: 12px;\n            color: #999999;\n\n            span {\n              vertical-align: middle;\n\n              ~ span {\n                margin-left: 10px;\n              }\n            }\n          }\n\n          .group {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-top: 5px;\n\n            .money {\n              font-size: 14px;\n              color: #ff0000;\n            }\n\n            a {\n              font-size: 12px;\n              color: var(--prev-color-primary);\n            }\n          }\n        }\n      }\n\n      .editor {\n        display: flex;\n        flex-direction: column;\n        height: 162px;\n        border-top: 1px solid #ececec;\n\n        > div {\n          &:first-child {\n            font-size: 0;\n          }\n        }\n\n        button {\n          border: none;\n          background: none;\n          outline: none;\n\n          ~ button {\n            margin-left: 20px;\n          }\n\n          &.end {\n            font-size: 15px;\n          }\n\n          &:hover {\n            color: var(--prev-color-primary);\n\n            .iconfont {\n              color: var(--prev-color-primary);\n            }\n          }\n        }\n\n        .editor-hd {\n          position: relative;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          height: 50px;\n          padding-right: 20px;\n          padding-left: 20px;\n\n          .iconfont {\n            line-height: 1;\n            color: #333333;\n          }\n\n          .emoji-panel {\n            position: absolute;\n            bottom: 100%;\n            left: 5px;\n            width: 390px;\n            padding-bottom: 10px;\n            border: 1px solid #ececec;\n            margin-bottom: 5px;\n            background-color: #ffffff;\n            box-shadow: 1px 0 16px 0 rgba(0, 0, 0, 0.05);\n\n            .em {\n              width: 28px;\n              height: 28px;\n              padding: 4px;\n              margin-top: 10px;\n              margin-left: 10px;\n              box-sizing: border-box;\n\n              &:hover {\n                background-color: #ececec;\n              }\n            }\n          }\n        }\n\n        .icon-biaoqing1,\n        .icon-tupian1 {\n          font-size: 22px;\n        }\n\n        .icon-guanji {\n          margin-right: 5px;\n          font-size: 15px;\n        }\n\n        .editor-bd {\n          flex: 1;\n          min-height: 0;\n\n          textarea {\n            display: block;\n            width: 100%;\n            height: 100%;\n            padding-right: 20px;\n            padding-left: 20px;\n            border: none;\n            outline: none;\n            resize: none;\n            white-space: pre-wrap;\n            overflow-wrap: break-word;\n\n            &::-webkit-scrollbar {\n              display: none;\n            }\n          }\n        }\n\n        .editor-ft {\n          display: flex;\n          justify-content: flex-end;\n          align-items: center;\n          padding-right: 20px;\n          padding-bottom: 20px;\n\n          button {\n            width: 68px;\n            height: 26px;\n            border: none;\n            border-radius: 3px;\n            background-color: #3875ea;\n            outline: none;\n            font-size: 13px;\n            color: #ffffff;\n\n            &:disabled {\n              background-color: #cccccc;\n            }\n          }\n        }\n      }\n\n      .notice {\n        display: flex;\n        flex-direction: column;\n        width: 260px;\n        border-left: 1px solid #ececec;\n\n        .rich {\n          flex: 1;\n          min-height: 0;\n          padding: 18px 18px 0;\n          overflow-x: hidden;\n          overflow-y: auto;\n\n          &::-webkit-scrollbar {\n            display: none;\n          }\n\n          ::v-deepimg {\n            width: 100%;\n          }\n\n          ::v-deepvideo {\n            width: 100%;\n          }\n        }\n\n        .copy {\n          padding-top: 15px;\n          padding-bottom: 15px;\n          font-size: 12px;\n          text-align: center;\n          color: #cccccc !important;\n          text-decoration: none;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}