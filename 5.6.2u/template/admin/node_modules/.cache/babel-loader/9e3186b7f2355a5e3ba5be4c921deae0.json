{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\utils\\videoCloud.js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\utils\\videoCloud.js","mtime":1735294139985},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB8IENSTUVCIFsgQ1JNRULotYvog73lvIDlj5HogIXvvIzliqnlipvkvIHkuJrlj5HlsZUgXQovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB8IENvcHlyaWdodCAoYykgMjAxNn4yMDIzIGh0dHBzOi8vd3d3LmNybWViLmNvbSBBbGwgcmlnaHRzIHJlc2VydmVkLgovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB8IExpY2Vuc2VkIENSTUVC5bm25LiN5piv6Ieq55Sx6L2v5Lu277yM5pyq57uP6K645Y+v5LiN6IO95Y675o6JQ1JNRULnm7jlhbPniYjmnYMKLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gfCBBdXRob3I6IENSTUVCIFRlYW0gPGFkbWluQGNybWViLmNvbT4KLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmltcG9ydCAqIGFzIHFpbml1IGZyb20gJ3Fpbml1LWpzJzsKaW1wb3J0IENvcyBmcm9tICdjb3MtanMtc2RrLXY1JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdXBsb2FkLCBvc3NVcGxvYWQgfSBmcm9tICdAL2FwaS91cGxvYWQnOwp2YXIgc2lnbiA9IGZ1bmN0aW9uIHNpZ24obWV0aG9kLCBwdWJsaWNLZXksIHByaXZhdGVLZXksIG1kNSwgY29udGVudFR5cGUsIGRhdGUsIGJ1Y2tldE5hbWUsIGZpbGVOYW1lKSB7CiAgdmFyIENyeXB0b0pTID0gcmVxdWlyZSgnY3J5cHRvLWpzJyk7IC8vIOi/memHjOS9v+eUqOS6hmNyeXB0by1qc+WKoOWvhueul+azleW6k++8jOWuieijheaWueazleS8muWcqOWQjumdouivtOaYjgogIHZhciBDYW5vbmljYWxpemVkUmVzb3VyY2UgPSAiLyIuY29uY2F0KGJ1Y2tldE5hbWUsICIvIikuY29uY2F0KGZpbGVOYW1lKTsKICB2YXIgU3RyaW5nVG9TaWduID0gbWV0aG9kICsgJ1xuJyArIG1kNSArICdcbicgKyBjb250ZW50VHlwZSArICdcbicgKyBkYXRlICsgJ1xuJyArIENhbm9uaWNhbGl6ZWRSZXNvdXJjZTsgLy8g5q2k5aSE55qEbWQ15Lul5Y+KZGF0ZeaYr+WPr+mAieeahO+8jGNvbnRlbnRUeXBl5a+55LqOUFVU6K+35rGC5piv5Y+v6YCJ55qE77yM5a+55LqOUE9TVOivt+axguWImeaYr+W/hemhu+eahAogIHZhciBTaWduYXR1cmUgPSBDcnlwdG9KUy5IbWFjU0hBMShTdHJpbmdUb1NpZ24sIHByaXZhdGVLZXkpOwogIFNpZ25hdHVyZSA9IENyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KFNpZ25hdHVyZSk7CiAgcmV0dXJuICdVQ2xvdWQnICsgJyAnICsgcHVibGljS2V5ICsgJzonICsgU2lnbmF0dXJlOwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgdmlkZW9VcGxvYWQ6IGZ1bmN0aW9uIHZpZGVvVXBsb2FkKGNvbmZpZykgewogICAgdmFyIHJlc3VsdDsKICAgIHN3aXRjaCAoY29uZmlnLnR5cGUpIHsKICAgICAgY2FzZSAnQ09TJzoKICAgICAgICByZXN1bHQgPSB0aGlzLmNvc1VwbG9hZChjb25maWcuZXZmaWxlLCBjb25maWcucmVzLmRhdGEsIGNvbmZpZy51cGxvYWRpbmcpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdPU1MnOgogICAgICAgIHJlc3VsdCA9IHRoaXMub3NzSHR0cChjb25maWcuZXZmaWxlLCBjb25maWcucmVzLCBjb25maWcudXBsb2FkaW5nKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnT0JTJzoKICAgICAgICByZXN1bHQgPSB0aGlzLm9ic0h0dHAoY29uZmlnLmV2ZmlsZSwgY29uZmlnLnJlcywgY29uZmlnLnVwbG9hZGluZyk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ1VTMyc6CiAgICAgICAgcmVzdWx0ID0gdGhpcy51czNIdHRwKGNvbmZpZy5ldmZpbGUsIGNvbmZpZy5yZXMsIGNvbmZpZy51cGxvYWRpbmcpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdKRE9TUyc6CiAgICAgICAgcmVzdWx0ID0gdGhpcy5qZEh0dHAoY29uZmlnLmV2ZmlsZSwgY29uZmlnLnJlcywgY29uZmlnLnVwbG9hZGluZyk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0NUT1NTJzoKICAgICAgICByZXN1bHQgPSB0aGlzLm9ic0h0dHAoY29uZmlnLmV2ZmlsZSwgY29uZmlnLnJlcywgY29uZmlnLnVwbG9hZGluZyk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ1FJTklVJzoKICAgICAgICByZXN1bHQgPSB0aGlzLnFpbml1SHR0cChjb25maWcuZXZmaWxlLCBjb25maWcucmVzLCBjb25maWcudXBsb2FkaW5nKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnbG9jYWwnOgogICAgICAgIHJlc3VsdCA9IHRoaXMudXBsb2FkTXA0VG9Mb2NhbChjb25maWcuZXZmaWxlLCBjb25maWcucmVzLCBjb25maWcudXBsb2FkaW5nKTsKICAgICAgICBicmVhazsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfSwKICBjb3NVcGxvYWQ6IGZ1bmN0aW9uIGNvc1VwbG9hZChmaWxlLCBjb25maWcsIHVwbG9hZGluZykgewogICAgdmFyIGNvcyA9IG5ldyBDb3MoewogICAgICBnZXRBdXRob3JpemF0aW9uOiBmdW5jdGlvbiBnZXRBdXRob3JpemF0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7CiAgICAgICAgY2FsbGJhY2soewogICAgICAgICAgVG1wU2VjcmV0SWQ6IGNvbmZpZy5jcmVkZW50aWFscy50bXBTZWNyZXRJZCwKICAgICAgICAgIC8vIOS4tOaXtuWvhumSpeeahCB0bXBTZWNyZXRJZAogICAgICAgICAgVG1wU2VjcmV0S2V5OiBjb25maWcuY3JlZGVudGlhbHMudG1wU2VjcmV0S2V5LAogICAgICAgICAgLy8g5Li05pe25a+G6ZKl55qEIHRtcFNlY3JldEtleQogICAgICAgICAgWENvc1NlY3VyaXR5VG9rZW46IGNvbmZpZy5jcmVkZW50aWFscy5zZXNzaW9uVG9rZW4sCiAgICAgICAgICAvLyDkuLTml7blr4bpkqXnmoQgc2Vzc2lvblRva2VuCiAgICAgICAgICBFeHBpcmVkVGltZTogY29uZmlnLmV4cGlyZWRUaW1lIC8vIOS4tOaXtuWvhumSpeWkseaViOaXtumXtOaIs++8jOaYr+eUs+ivt+S4tOaXtuWvhumSpeaXtu+8jOaXtumXtOaIs+WKoCBkdXJhdGlvblNlY29uZHMKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICB2YXIgZmlsZU9iamVjdCA9IGZpbGUudGFyZ2V0LmZpbGVzWzBdOwogICAgdmFyIEtleSA9IGZpbGVPYmplY3QubmFtZTsKICAgIHZhciBwb3MgPSBLZXkubGFzdEluZGV4T2YoJy4nKTsKICAgIHZhciBzdWZmaXggPSAnJzsKICAgIGlmIChwb3MgIT09IC0xKSB7CiAgICAgIHN1ZmZpeCA9IEtleS5zdWJzdHJpbmcocG9zKTsKICAgIH0KICAgIHZhciBmaWxlbmFtZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgc3VmZml4OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgY29zLnNsaWNlVXBsb2FkRmlsZSh7CiAgICAgICAgQnVja2V0OiBjb25maWcuYnVja2V0IC8qIOW/hemhuyAqLywKICAgICAgICBSZWdpb246IGNvbmZpZy5yZWdpb24gLyog5b+F6aG7ICovLAogICAgICAgIEtleTogZmlsZW5hbWUgLyog5b+F6aG7ICovLAogICAgICAgIEJvZHk6IGZpbGVPYmplY3QsCiAgICAgICAgLy8g5LiK5Lyg5paH5Lu25a+56LGhCiAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzc0RhdGEpIHsKICAgICAgICAgIHVwbG9hZGluZyhwcm9ncmVzc0RhdGEpOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHJlamVjdCh7CiAgICAgICAgICAgIG1zZzogZXJyCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly8nICsgZGF0YS5Mb2NhdGlvbiwKICAgICAgICAgICAgRVRhZzogZGF0YS5FVGFnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBjb3NIdHRwOiBmdW5jdGlvbiBjb3NIdHRwKGV2ZmlsZSwgcmVzLCB2aWRlb0luZykgewogICAgLy8g6IW+6K6v5LqRCiAgICAvLyDlr7nmm7TlpJrlrZfnrKbnvJbnoIHnmoQgdXJsIGVuY29kZSDmoLzlvI8KICAgIHZhciBjYW1TYWZlVXJsRW5jb2RlID0gZnVuY3Rpb24gY2FtU2FmZVVybEVuY29kZShzdHIpIHsKICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoLyEvZywgJyUyMScpLnJlcGxhY2UoLycvZywgJyUyNycpLnJlcGxhY2UoL1woL2csICclMjgnKS5yZXBsYWNlKC9cKS9nLCAnJTI5JykucmVwbGFjZSgvXCovZywgJyUyQScpOwogICAgfTsKICAgIHZhciBmaWxlT2JqZWN0ID0gZXZmaWxlLnRhcmdldC5maWxlc1swXTsKICAgIHZhciBLZXkgPSBmaWxlT2JqZWN0Lm5hbWU7CiAgICB2YXIgcG9zID0gS2V5Lmxhc3RJbmRleE9mKCcuJyk7CiAgICB2YXIgc3VmZml4ID0gJyc7CiAgICBpZiAocG9zICE9PSAtMSkgewogICAgICBzdWZmaXggPSBLZXkuc3Vic3RyaW5nKHBvcyk7CiAgICB9CiAgICB2YXIgZmlsZW5hbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHN1ZmZpeDsKICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CiAgICB2YXIgWENvc1NlY3VyaXR5VG9rZW4gPSBkYXRhLmNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjsKICAgIHZhciB1cmwgPSBkYXRhLnVybCArIGNhbVNhZmVVcmxFbmNvZGUoZmlsZW5hbWUpLnJlcGxhY2UoLyUyRi9nLCAnLycpOwogICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgeGhyLm9wZW4oJ1BVVCcsIHVybCwgdHJ1ZSk7CiAgICBYQ29zU2VjdXJpdHlUb2tlbiAmJiB4aHIuc2V0UmVxdWVzdEhlYWRlcigneC1jb3Mtc2VjdXJpdHktdG9rZW4nLCBYQ29zU2VjdXJpdHlUb2tlbik7CiAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDAwKSAvIDEwMDsKICAgICAgdmlkZW9JbmcodHJ1ZSwgcHJvZ3Jlc3MpOwogICAgfTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKC9eMlxkXGQkLy50ZXN0KCcnICsgeGhyLnN0YXR1cykpIHsKICAgICAgICAgIHZhciBFVGFnID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdldGFnJyk7CiAgICAgICAgICB2aWRlb0luZyhmYWxzZSwgMCk7CiAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIEVUYWc6IEVUYWcKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZWplY3QoewogICAgICAgICAgICBtc2c6ICfmlofku7YgJyArIGZpbGVuYW1lICsgJyDkuIrkvKDlpLHotKXvvIznirbmgIHnoIHvvJonICsgeGhyLnN0YXR1CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJlamVjdCh7CiAgICAgICAgICBtc2c6ICfmlofku7YgJyArIGZpbGVuYW1lICsgJ+S4iuS8oOWksei0pe+8jOivt+ajgOafpeaYr+WQpuayoemFjee9riBDT1JTIOi3qOWfn+inhCcKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgeGhyLnNlbmQoZmlsZU9iamVjdCk7CiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7fTsKICAgIH0pOwogIH0sCiAgb3NzSHR0cDogZnVuY3Rpb24gb3NzSHR0cChldmZpbGUsIHJlcywgdmlkZW9JbmcpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciBmaWxlT2JqZWN0ID0gZXZmaWxlLnRhcmdldC5maWxlc1swXTsKICAgIHZhciBmaWxlID0gZmlsZU9iamVjdC5uYW1lOwogICAgdmFyIHBvcyA9IGZpbGUubGFzdEluZGV4T2YoJy4nKTsKICAgIHZhciBzdWZmaXggPSAnJzsKICAgIGlmIChwb3MgIT09IC0xKSB7CiAgICAgIHN1ZmZpeCA9IGZpbGUuc3Vic3RyaW5nKHBvcyk7CiAgICB9CiAgICB2YXIgZmlsZW5hbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHN1ZmZpeDsKICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgIC8vIOazqOaEj2Zvcm1EYXRh6YeMYXBwZW5k5re75Yqg55qE6ZSu55qE5aSn5bCP5YaZCiAgICBmb3JtRGF0YS5hcHBlbmQoJ2tleScsIGZpbGVuYW1lKTsgLy8g5a2Y5YKo5Zyob3Nz55qE5paH5Lu26Lev5b6ECiAgICBmb3JtRGF0YS5hcHBlbmQoJ09TU0FjY2Vzc0tleUlkJywgZGF0YS5hY2Nlc3NpZCk7IC8vIGFjY2Vzc0tleUlkCiAgICBmb3JtRGF0YS5hcHBlbmQoJ3BvbGljeScsIGRhdGEucG9saWN5KTsgLy8gcG9saWN5CiAgICBmb3JtRGF0YS5hcHBlbmQoJ1NpZ25hdHVyZScsIGRhdGEuc2lnbmF0dXJlKTsgLy8g562+5ZCNCiAgICAvLyDlpoLmnpzmmK9iYXNlNjTmlofku7bvvIzpgqPkuYjnm7TmjqXmiopiYXNlNjTlrZfnrKbkuLLovazmiJBibG9i5a+56LGh6L+b6KGM5LiK5Lyg5bCx5Y+v5Lul5LqGCiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlT2JqZWN0KTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnc3VjY2Vzc19hY3Rpb25fc3RhdHVzJywgMjAwKTsgLy8g5oiQ5Yqf5ZCO6L+U5Zue55qE5pON5L2c56CBCiAgICB2YXIgdXJsID0gZGF0YS5ob3N0OwogICAgdmFyIGZpbGVVcmwgPSB1cmwgKyAnLycgKyBmaWxlbmFtZTsKICAgIHZpZGVvSW5nKHRydWUsIDEwMCk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTsKICAgICAgYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyB0aGF0LnByb2dyZXNzID0gMDsKICAgICAgICB2aWRlb0luZyhmYWxzZSwgMCk7CiAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICB1cmw6IGZpbGVVcmwKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlamVjdCh7CiAgICAgICAgICBtc2c6IHJlcwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgb2JzSHR0cDogZnVuY3Rpb24gb2JzSHR0cChmaWxlLCByZXMsIHZpZGVvSW5nKSB7CiAgICB2YXIgZmlsZU9iamVjdCA9IGZpbGUudGFyZ2V0LmZpbGVzWzBdOwogICAgdmFyIEtleSA9IGZpbGVPYmplY3QubmFtZTsKICAgIHZhciBwb3MgPSBLZXkubGFzdEluZGV4T2YoJy4nKTsKICAgIHZhciBzdWZmaXggPSAnJzsKICAgIGlmIChwb3MgIT09IC0xKSB7CiAgICAgIHN1ZmZpeCA9IEtleS5zdWJzdHJpbmcocG9zKTsKICAgIH0KICAgIHZhciBmaWxlbmFtZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgc3VmZml4OwogICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgLy8g5rOo5oSPZm9ybURhdGHph4xhcHBlbmTmt7vliqDnmoTplK7nmoTlpKflsI/lhpkKICAgIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgZmlsZW5hbWUpOwogICAgZm9ybURhdGEuYXBwZW5kKCdBY2Nlc3NLZXlJZCcsIGRhdGEuYWNjZXNzaWQpOwogICAgZm9ybURhdGEuYXBwZW5kKCdwb2xpY3knLCBkYXRhLnBvbGljeSk7CiAgICBmb3JtRGF0YS5hcHBlbmQoJ3NpZ25hdHVyZScsIGRhdGEuc2lnbmF0dXJlKTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVPYmplY3QpOwogICAgZm9ybURhdGEuYXBwZW5kKCdzdWNjZXNzX2FjdGlvbl9zdGF0dXMnLCAyMDApOwogICAgdmFyIHVybCA9IGRhdGEuaG9zdDsKICAgIHZhciBmaWxlVXJsID0gdXJsICsgJy8nICsgZmlsZW5hbWU7CiAgICB2aWRlb0luZyh0cnVlLCAxMDApOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gZmFsc2U7CiAgICAgIGF4aW9zLnBvc3QodXJsLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmlkZW9JbmcoZmFsc2UsIDApOwogICAgICAgIHJlc29sdmUoewogICAgICAgICAgdXJsOiBkYXRhLmNkbiA/IGRhdGEuY2RuICsgJy8nICsgZmlsZW5hbWUgOiBmaWxlVXJsCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZWplY3QoewogICAgICAgICAgbXNnOiByZXMKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHVzM0h0dHA6IGZ1bmN0aW9uIHVzM0h0dHAoZmlsZSwgcmVzLCB2aWRlb0luZykgewogICAgdmFyIGZpbGVPYmplY3QgPSBmaWxlLnRhcmdldC5maWxlc1swXTsKICAgIHZhciBLZXkgPSBmaWxlT2JqZWN0Lm5hbWU7CiAgICB2YXIgcG9zID0gS2V5Lmxhc3RJbmRleE9mKCcuJyk7CiAgICB2YXIgc3VmZml4ID0gJyc7CiAgICBpZiAocG9zICE9PSAtMSkgewogICAgICBzdWZmaXggPSBLZXkuc3Vic3RyaW5nKHBvcyk7CiAgICB9CiAgICB2YXIgZmlsZW5hbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHN1ZmZpeDsKICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CiAgICB2YXIgYXV0aCA9IHNpZ24oJ1BVVCcsIGRhdGEuYWNjZXNzaWQsIGRhdGEuc2VjcmV0S2V5LCAnJywgZmlsZU9iamVjdC50eXBlLCAnJywgZGF0YS5zdG9yYWdlTmFtZSwgZmlsZW5hbWUpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gZmFsc2U7CiAgICAgIHZhciB1cmwgPSAiaHR0cHM6Ly8iLmNvbmNhdChkYXRhLnN0b3JhZ2VOYW1lLCAiLmNuLWJqLnVmaWxlb3MuY29tLyIpLmNvbmNhdChmaWxlbmFtZSk7CiAgICAgIGF4aW9zLnB1dCh1cmwsIGZpbGVPYmplY3QsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBhdXRoLAogICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IGZpbGVPYmplY3QudHlwZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmlkZW9JbmcoZmFsc2UsIDApOwogICAgICAgIHJlc29sdmUoewogICAgICAgICAgdXJsOiBkYXRhLmNkbiA/IGRhdGEuY2RuICsgJy8nICsgZmlsZW5hbWUgOiB1cmwKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlamVjdCh7CiAgICAgICAgICBtc2c6IHJlcwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgcWluaXVIdHRwOiBmdW5jdGlvbiBxaW5pdUh0dHAoZXZmaWxlLCByZXMsIHZpZGVvSW5nKSB7CiAgICB2YXIgdXB0b2tlbiA9IHJlcy5kYXRhLnRva2VuOwogICAgdmFyIGZpbGUgPSBldmZpbGUudGFyZ2V0LmZpbGVzWzBdOyAvLyBCbG9iIOWvueixoe+8jOS4iuS8oOeahOaWh+S7tgogICAgdmFyIEtleSA9IGZpbGUubmFtZTsgLy8g5LiK5Lyg5ZCO5paH5Lu26LWE5rqQ5ZCN5Lul6K6+572u55qEIGtleSDkuLrkuLvvvIzlpoLmnpwga2V5IOS4uiBudWxsIOaIluiAhSB1bmRlZmluZWTvvIzliJnmlofku7botYTmupDlkI3kvJrku6UgaGFzaCDlgLzkvZzkuLrotYTmupDlkI3jgIIKICAgIHZhciBwb3MgPSBLZXkubGFzdEluZGV4T2YoJy4nKTsKICAgIHZhciBzdWZmaXggPSAnJzsKICAgIGlmIChwb3MgIT09IC0xKSB7CiAgICAgIHN1ZmZpeCA9IEtleS5zdWJzdHJpbmcocG9zKTsKICAgIH0KICAgIHZhciBmaWxlbmFtZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgc3VmZml4OwogICAgdmFyIGZpbGVVcmwgPSByZXMuZGF0YS5kb21haW4gKyAnLycgKyBmaWxlbmFtZTsKICAgIHZhciBjb25maWcgPSB7CiAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZQogICAgfTsKICAgIHZhciBwdXRFeHRyYSA9IHsKICAgICAgZm5hbWU6ICcnLAogICAgICAvLyDmlofku7bljp/mlofku7blkI0KICAgICAgcGFyYW1zOiB7fSwKICAgICAgLy8g55So5p2l5pS+572u6Ieq5a6a5LmJ5Y+Y6YePCiAgICAgIG1pbWVUeXBlOiBudWxsIC8vIOeUqOadpemZkOWItuS4iuS8oOaWh+S7tuexu+Wei++8jOS4uiBudWxsIOaXtuihqOekuuS4jeWvueaWh+S7tuexu+Wei+mZkOWItu+8m+mZkOWItuexu+Wei+aUvuWIsOaVsOe7hOmHjO+8miBbImltYWdlL3BuZyIsICJpbWFnZS9qcGVnIiwgImltYWdlL2dpZiJdCiAgICB9OwogICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwgZmlsZW5hbWUsIHVwdG9rZW4sIHB1dEV4dHJhLCBjb25maWcpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoewogICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQocmVzdWx0KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh2aWRlb0luZyk7CiAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKHJlc3VsdC50b3RhbC5sb2FkZWQgLyByZXN1bHQudG90YWwuc2l6ZSk7CiAgICAgICAgICB2aWRlb0luZyh0cnVlLCBwcm9ncmVzcyk7CiAgICAgICAgICAvLyDkuLvopoHnlKjmnaXlsZXnpLrov5vluqYKICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlcnJSZXN1bHQpIHsKICAgICAgICAgIC8vIOWksei0peaKpemUmeS/oeaBrwogICAgICAgICAgY29uc29sZS5sb2coZXJyUmVzdWx0KTsKICAgICAgICAgIHJlamVjdCh7CiAgICAgICAgICAgIG1zZzogZXJyUmVzdWx0CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZXN1bHQpIHsKICAgICAgICAgIC8vIOaOpeaUtuaIkOWKn+WQjui/lOWbnueahOS/oeaBrwogICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCAncmVzdWx0Jyk7CiAgICAgICAgICB2aWRlb0luZyhmYWxzZSwgMCk7CiAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgdXJsOiByZXMuZGF0YS5jZG4gPyByZXMuZGF0YS5jZG4gKyAnLycgKyBmaWxlbmFtZSA6IGZpbGVVcmwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOS6rOS4nOS6keS4iuS8oAogIGpkSHR0cDogZnVuY3Rpb24gamRIdHRwKGV2ZmlsZSwgciwgdmlkZW9JbmcpIHsKICAgIHZhciBmaWxlT2JqZWN0ID0gZXZmaWxlLnRhcmdldC5maWxlc1swXTsgLy8g6I635Y+W55qE5paH5Lu25a+56LGhCiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVPYmplY3QpOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgb3NzVXBsb2FkKHIuZGF0YS51cGxvYWRfdXJsLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHZpZGVvSW5nKHRydWUsIDEwMCk7CiAgICAgICAgcmVzb2x2ZShyLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g5pys5Zyw5LiK5LygCiAgdXBsb2FkTXA0VG9Mb2NhbDogZnVuY3Rpb24gdXBsb2FkTXA0VG9Mb2NhbChldmZpbGUsIHJlcywgdmlkZW9JbmcpIHsKICAgIHZhciBmaWxlT2JqZWN0ID0gZXZmaWxlLnRhcmdldC5maWxlc1swXTsgLy8g6I635Y+W55qE5paH5Lu25a+56LGhCiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVPYmplY3QpOwogICAgdmlkZW9JbmcodHJ1ZSwgMTAwKTsKICAgIHJldHVybiB1cGxvYWQoZm9ybURhdGEpOwogIH0KfTs="},null]}