{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\list\\handle\\userEditForm.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\list\\handle\\userEditForm.vue","mtime":1731313973107},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHVzZXJMYWJlbCBmcm9tICdAL2NvbXBvbmVudHMvdXNlckxhYmVsJzsKaW1wb3J0IHsgdXNlckxhYmVsQWRkQXBpLCBnZXRVc2VySW5mbywgZWRpdFVzZXIsIHNldFVzZXIgYXMgX3NldFVzZXIgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VySW5mbycsCiAgY29tcG9uZW50czogewogICAgdXNlckxhYmVsOiB1c2VyTGFiZWwKICB9LAogIHByb3BzOiB7CiAgICB1c2VySWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0aW1lRm9ybWF0OiBmdW5jdGlvbiB0aW1lRm9ybWF0KHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gJy0nOwogICAgICB9CiAgICAgIHJldHVybiBkYXlqcyh2YWx1ZSAqIDEwMDApLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgfSwKICAgIGdlbmRlcjogZnVuY3Rpb24gZ2VuZGVyKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSAxKSB7CiAgICAgICAgcmV0dXJuICfnlLcnOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09IDIpIHsKICAgICAgICByZXR1cm4gJ+Wlsyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICfmnKrnn6UnOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFiZWxTaG93OiBmYWxzZSwKICAgICAgZm9ybUl0ZW06IHsKICAgICAgICB1aWQ6IDAsCiAgICAgICAgcmVhbF9uYW1lOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgYmlydGhkYXk6ICcnLAogICAgICAgIGNhcmRfaWQ6ICcnLAogICAgICAgIGFkZHJlczogJycsCiAgICAgICAgbWFyazogJycsCiAgICAgICAgcHdkOiAnJywKICAgICAgICB0cnVlX3B3ZDogJycsCiAgICAgICAgbGV2ZWw6ICcnLAogICAgICAgIGdyb3VwX2lkOiAnJywKICAgICAgICBsYWJlbF9pZDogW10sCiAgICAgICAgc3ByZWFkX29wZW46IDAsCiAgICAgICAgaXNfcHJvbW90ZXI6IDAsCiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH0sCiAgICAgIGdyb3VwSW5mbzogW10sCiAgICAgIGxhYmVsSW5mbzogW10sCiAgICAgIGxldmVsSW5mbzogW10sCiAgICAgIGluZm9EYXRhOiB7CiAgICAgICAgZ3JvdXBJbmZvOiBbXSwKICAgICAgICBsYWJlbEluZm86IFtdLAogICAgICAgIGxldmVsSW5mbzogW10KICAgICAgfSwKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgcmVhbF9uYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJyAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcHdkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0cnVlX3B3ZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJyAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZGF0YUxhYmVsOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNFeHRlbmRJbmZvOiBmdW5jdGlvbiBoYXNFeHRlbmRJbmZvKCkgewogICAgICAvLyAgIHJldHVybiB0aGlzLnBzSW5mby5leHRlbmRfaW5mby5zb21lKChpdGVtKSA9PiBpdGVtLnZhbHVlKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJGcm9tKHRoaXMudXNlcklkKTsKCiAgICAvLyB0aGlzLmZvcm1JdGVtID0gdGhpcy51c2VyRGF0YS51c2VySW5mbzsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gdGhpcy5mb3JtSXRlbTsKICAgICAgdmFyIGlkcyA9IFtdOwogICAgICB0aGlzLmRhdGFMYWJlbC5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICBpZHMucHVzaChpLmlkKTsKICAgICAgfSk7CiAgICAgIGRhdGEubGFiZWxfaWQgPSBpZHM7CiAgICAgIC8vIGlmICghZGF0YS5yZWFsX25hbWUpIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeecn+WunuWnk+WQjSIpOwogICAgICAvLyBpZiAoIWRhdGEucGhvbmUpIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeaJi+acuuWPtyIpOwogICAgICAvLyBpZiAoIWRhdGEucHdkKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXlr4bnoIEiKTsKICAgICAgLy8gaWYgKCFkYXRhLnRydWVfcHdkKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXnoa7orqTlr4bnoIEiKTsKICAgICAgaWYgKGRhdGEudWlkKSB7CiAgICAgICAgZWRpdFVzZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgX3RoaXMuJGVtaXQoJ3N1Y2Nlc3MnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfc2V0VXNlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLiRlbWl0KCdzdWNjZXNzJyk7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCdlcnIubXNnJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRMYWJlbDogZnVuY3Rpb24gYWRkTGFiZWwoKSB7CiAgICAgIHRoaXMuJG1vZGFsRm9ybSh1c2VyTGFiZWxBZGRBcGkoMCkpLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9wZW5MYWJlbDogZnVuY3Rpb24gb3BlbkxhYmVsKHJvdykgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMudXNlckxhYmVsLnVzZXJMYWJlbChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuaW5mb0RhdGEubGFiZWxJbmZvKSkpOwogICAgfSwKICAgIGNsb3NlTGFiZWw6IGZ1bmN0aW9uIGNsb3NlTGFiZWwobGFiZWwpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGFiZWwuaW5kZXhPZih0aGlzLmRhdGFMYWJlbC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5pZCA9PSBsYWJlbC5pZDsKICAgICAgfSlbMF0pOwogICAgICB0aGlzLmRhdGFMYWJlbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGdldFVzZXJGcm9tOiBmdW5jdGlvbiBnZXRVc2VyRnJvbShpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgZ2V0VXNlckluZm8oaWQpLnRoZW4oLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgYXJyOwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Lm4pIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIudXNlckRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5pbmZvRGF0YSwgJ2dyb3VwSW5mbycsIF90aGlzMi51c2VyRGF0YS5ncm91cEluZm8pOwogICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmluZm9EYXRhLCAnbGV2ZWxJbmZvJywgX3RoaXMyLnVzZXJEYXRhLmxldmVsSW5mbyk7CiAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIuaW5mb0RhdGEsICdsYWJlbEluZm8nLCBfdGhpczIudXNlckRhdGEubGFiZWxJbmZvKTsKICAgICAgICAgICAgICAgIGFyciA9IE9iamVjdC5rZXlzKF90aGlzMi5mb3JtSXRlbSk7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnVzZXJEYXRhLnVzZXJJbmZvKSB7CiAgICAgICAgICAgICAgICAgIGFyci5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZm9ybUl0ZW1baV0gPSBfdGhpczIudXNlckRhdGEudXNlckluZm9baV07CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5mb3JtSXRlbS5iaXJ0aGRheSkgX3RoaXMyLmZvcm1JdGVtLmJpcnRoZGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZm9ybUl0ZW0ubGFiZWxfaWQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRhdGFMYWJlbCA9IF90aGlzMi5mb3JtSXRlbS5sYWJlbF9pZDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigncmVzLm1zZycpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2U6IGZ1bmN0aW9uIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gZmFsc2U7CiAgICB9LAogICAgYWN0aXZlRGF0YTogZnVuY3Rpb24gYWN0aXZlRGF0YShkYXRhTGFiZWwpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5kYXRhTGFiZWwgPSBkYXRhTGFiZWw7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm1JdGVtID0gewogICAgICAgIHVpZDogJycsCiAgICAgICAgcmVhbF9uYW1lOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgYmlydGhkYXk6ICcnLAogICAgICAgIGNhcmRfaWQ6ICcnLAogICAgICAgIGFkZHJlczogJycsCiAgICAgICAgbWFyazogJycsCiAgICAgICAgcHdkOiAnJywKICAgICAgICB0cnVlX3B3ZDogJycsCiAgICAgICAgbGV2ZWw6ICcnLAogICAgICAgIGdyb3VwX2lkOiAnJywKICAgICAgICBsYWJlbF9pZDogW10sCiAgICAgICAgc3ByZWFkX29wZW46IDAsCiAgICAgICAgaXNfcHJvbW90ZXI6IDAsCiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["userLabel","userLabelAddApi","getUserInfo","editUser","setUser","dayjs","name","components","props","userId","type","Number","default","filters","timeFormat","value","format","gender","data","labelShow","formItem","uid","real_name","phone","birthday","card_id","addres","mark","pwd","true_pwd","level","group_id","label_id","spread_open","is_promoter","status","groupInfo","labelInfo","levelInfo","infoData","ruleValidate","required","message","trigger","dataLabel","computed","hasExtendInfo","created","getUserFrom","methods","_this","ids","map","i","push","id","then","res","$message","success","msg","$emit","catch","err","error","addLabel","$modalForm","openLabel","row","$refs","JSON","parse","stringify","closeLabel","label","index","indexOf","filter","d","splice","_this2","_ref","_asyncToGenerator","_regenerator","m","_callee","arr","w","_context","n","userData","$set","Object","keys","userInfo","length","reset","a","_x","apply","arguments","labelClose","activeData"],"sources":["src/pages/user/list/handle/userEditForm.vue"],"sourcesContent":["<template>\n  <div class=\"user-info\">\n    <el-form ref=\"formItem\" :rules=\"ruleValidate\" :model=\"formItem\" label-width=\"100px\" @submit.native.prevent>\n      <div class=\"section\">\n        <div class=\"section-hd\">基本信息</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <el-form-item label=\"用户ID：\">\n              <el-input class=\"form-sty\" disabled v-model=\"formItem.uid\" placeholder=\"请输入编号\"></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"真实姓名：\" prop=\"real_name\">\n              <el-input class=\"form-sty\" v-model.trim=\"formItem.real_name\" placeholder=\"请输入真实姓名\"></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"手机号码：\" prop=\"phone\">\n              <el-input class=\"form-sty\" v-model=\"formItem.phone\" placeholder=\"请输入手机号码\"></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"生日：\">\n              <el-date-picker\n                clearable\n                class=\"form-sty\"\n                type=\"date\"\n                v-model=\"formItem.birthday\"\n                placeholder=\"请选择生日\"\n                format=\"yyyy-MM-dd\"\n                value-format=\"yyyy-MM-dd\"\n              ></el-date-picker>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"身份证号：\">\n              <el-input class=\"form-sty\" v-model.trim=\"formItem.card_id\" placeholder=\"请输入身份证号\"></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"用户地址：\">\n              <el-input class=\"form-sty\" v-model=\"formItem.addres\" placeholder=\"请输入用户地址\"></el-input>\n            </el-form-item>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">密码</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <el-form-item label=\"登录密码：\" prop=\"pwd\">\n              <el-input\n                class=\"form-sty\"\n                type=\"password\"\n                v-model=\"formItem.pwd\"\n                placeholder=\"请输入登录密码（修改用户可不填写，不填写不修改原密码）\"\n              ></el-input>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"确认密码：\" prop=\"true_pwd\">\n              <el-input\n                class=\"form-sty\"\n                type=\"password\"\n                v-model=\"formItem.true_pwd\"\n                placeholder=\"请输入确认密码（修改用户可不填写，不填写不修改原密码）\"\n              ></el-input>\n            </el-form-item>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">用户概况</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <el-form-item label=\"用户等级：\">\n              <el-select v-model=\"formItem.level\" class=\"form-sty\" clearable>\n                <el-option\n                  v-for=\"(item, index) in infoData.levelInfo\"\n                  :key=\"index\"\n                  :value=\"item.id\"\n                  :label=\"item.name\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </div>\n          <div class=\"item\">\n            <el-form-item label=\"用户分组：\">\n              <el-select v-model=\"formItem.group_id\" class=\"form-sty\" clearable>\n                <el-option\n                  v-for=\"(item, index) in infoData.groupInfo\"\n                  :key=\"index\"\n                  :value=\"item.id\"\n                  :label=\"item.group_name\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </div>\n          <div class=\"item lang\">\n            <el-form-item label=\"用户标签：\">\n              <div style=\"display: flex\">\n                <div class=\"labelInput acea-row row-between-wrapper\" v-db-click @click=\"openLabel\">\n                  <div style=\"width: 90%\">\n                    <div v-if=\"dataLabel.length\">\n                      <el-tag\n                        closable\n                        v-for=\"(item, index) in dataLabel\"\n                        :key=\"index\"\n                        @close=\"closeLabel(item)\"\n                        class=\"mr10\"\n                        >{{ item.label_name }}</el-tag\n                      >\n                    </div>\n                    <span class=\"span\" v-else>选择用户关联标签</span>\n                  </div>\n                  <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n                </div>\n                <span class=\"addfont\" v-db-click @click=\"addLabel\">新增标签</span>\n              </div>\n            </el-form-item>\n          </div>\n          <div class=\"item lang\">\n            <el-form-item label=\"分销禁用：\">\n              <el-radio-group v-model=\"formItem.spread_open\" class=\"form-sty\">\n                <el-radio :label=\"0\">是</el-radio>\n                <el-radio :label=\"1\">否</el-radio>\n              </el-radio-group>\n              <div class=\"tip\">禁用用户的分销资格后，在任何分销模式下该用户都无分销权限</div>\n            </el-form-item>\n          </div>\n          <div class=\"item lang\" v-if=\"formItem.spread_open == 1\">\n            <el-form-item label=\"分销权限：\">\n              <el-radio-group v-model=\"formItem.is_promoter\" class=\"form-sty\">\n                <el-radio :label=\"1\">开启</el-radio>\n                <el-radio :label=\"0\">关闭</el-radio>\n              </el-radio-group>\n              <div class=\"tip\">手动开启或关闭用户的分销权限</div>\n            </el-form-item>\n          </div>\n          <div class=\"item lang\">\n            <el-form-item label=\"用户状态：\">\n              <el-radio-group v-model=\"formItem.status\" class=\"form-sty\">\n                <el-radio :label=\"1\">开启</el-radio>\n                <el-radio :label=\"0\">锁定</el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">用户备注</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <el-form-item label=\"用户备注：\">\n              <el-input\n                class=\"form-sty\"\n                type=\"textarea\"\n                :rows=\"5\"\n                v-model=\"formItem.mark\"\n                placeholder=\"请输入用户备注\"\n              ></el-input>\n            </el-form-item>\n          </div>\n        </div>\n      </div>\n    </el-form>\n    <el-dialog :visible.sync=\"labelShow\" append-to-body title=\"请选择用户标签\" :show-close=\"true\" width=\"540px\">\n      <userLabel v-if=\"labelShow\" :only_get=\"true\" :uid=\"formItem.uid\" @close=\"labelClose\" @activeData=\"activeData\">\n      </userLabel>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/userLabel';\n\nimport { userLabelAddApi, getUserInfo, editUser, setUser } from '@/api/user';\nimport dayjs from 'dayjs';\n\nexport default {\n  name: 'userInfo',\n  components: { userLabel },\n  props: {\n    userId: {\n      type: Number,\n      default: 0,\n    },\n  },\n  filters: {\n    timeFormat(value) {\n      if (!value) {\n        return '-';\n      }\n      return dayjs(value * 1000).format('YYYY-MM-DD HH:mm:ss');\n    },\n    gender(value) {\n      if (value == 1) {\n        return '男';\n      } else if (value == 2) {\n        return '女';\n      } else {\n        return '未知';\n      }\n    },\n  },\n  data() {\n    return {\n      labelShow: false,\n      formItem: {\n        uid: 0,\n        real_name: '',\n        phone: '',\n        birthday: '',\n        card_id: '',\n        addres: '',\n        mark: '',\n        pwd: '',\n        true_pwd: '',\n        level: '',\n        group_id: '',\n        label_id: [],\n        spread_open: 0,\n        is_promoter: 0,\n        status: 1,\n      },\n      groupInfo: [],\n      labelInfo: [],\n      levelInfo: [],\n      infoData: {\n        groupInfo: [],\n        labelInfo: [],\n        levelInfo: [],\n      },\n      ruleValidate: {\n        real_name: [{ required: true, message: ' ', trigger: 'blur' }],\n        phone: [{ required: true, message: ' ', trigger: 'blur' }],\n        pwd: [{ required: true, message: ' ', trigger: 'blur' }],\n        true_pwd: [{ required: true, message: ' ', trigger: 'blur' }],\n      },\n      dataLabel: [],\n    };\n  },\n  computed: {\n    hasExtendInfo() {\n      //   return this.psInfo.extend_info.some((item) => item.value);\n    },\n  },\n  created() {\n    this.getUserFrom(this.userId);\n\n    // this.formItem = this.userData.userInfo;\n  },\n  methods: {\n    setUser() {\n      let data = this.formItem;\n      let ids = [];\n      this.dataLabel.map((i) => {\n        ids.push(i.id);\n      });\n      data.label_id = ids;\n      // if (!data.real_name) return this.$message.warning(\"请输入真实姓名\");\n      // if (!data.phone) return this.$message.warning(\"请输入手机号\");\n      // if (!data.pwd) return this.$message.warning(\"请输入密码\");\n      // if (!data.true_pwd) return this.$message.warning(\"请输入确认密码\");\n      if (data.uid) {\n        editUser(data)\n          .then((res) => {\n            this.$message.success(res.msg);\n            this.$emit('success');\n          })\n          .catch((err) => {\n            this.$message.error(err.msg);\n          });\n      } else {\n        setUser(data)\n          .then((res) => {\n            this.$emit('success');\n            this.$message.success(res.msg);\n          })\n          .catch((err) => {\n            this.$message.error('err.msg');\n          });\n      }\n    },\n    addLabel() {\n      this.$modalForm(userLabelAddApi(0)).then(() => {});\n    },\n    openLabel(row) {\n      this.labelShow = true;\n      this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.infoData.labelInfo)));\n    },\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    getUserFrom(id) {\n      getUserInfo(id)\n        .then(async (res) => {\n          this.userData = res.data;\n          this.$set(this.infoData, 'groupInfo', this.userData.groupInfo);\n          this.$set(this.infoData, 'levelInfo', this.userData.levelInfo);\n          this.$set(this.infoData, 'labelInfo', this.userData.labelInfo);\n          let arr = Object.keys(this.formItem);\n          if (this.userData.userInfo) {\n            arr.map((i) => {\n              this.formItem[i] = this.userData.userInfo[i];\n            });\n            if (!this.formItem.birthday) this.formItem.birthday = '';\n            if (this.formItem.label_id.length) {\n              this.dataLabel = this.formItem.label_id;\n            }\n          } else {\n            this.reset();\n          }\n        })\n        .catch((res) => {\n          this.$message.error('res.msg');\n        });\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n    },\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    reset() {\n      this.formItem = {\n        uid: '',\n        real_name: '',\n        phone: '',\n        birthday: '',\n        card_id: '',\n        addres: '',\n        mark: '',\n        pwd: '',\n        true_pwd: '',\n        level: '',\n        group_id: '',\n        label_id: [],\n        spread_open: 0,\n        is_promoter: 0,\n        status: 1,\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.labelInput {\n  border: 1px solid #dcdee2;\n  width: 300px;\n  padding: 0 15px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n  font-size: 12px;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .iconxiayi {\n    font-size: 12px;\n  }\n}\n\n.width-add {\n  width: 40px;\n}\n\n.mr30 {\n  margin-right: 30px;\n}\n\n.user-info {\n  .section {\n    padding: 25px 0 0;\n    border-bottom: 1px dashed #eeeeee;\n\n    &-hd {\n      margin-bottom: 18px;\n      padding-left: 10px;\n      border-left: 3px solid var(--prev-color-primary);\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 16px;\n      color: #303133;\n    }\n\n    &-bd {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .item {\n      width: 50%;\n      display: flex;\n      font-size: 13px;\n      color: #666;\n\n      .form-sty {\n        width: 300px;\n      }\n\n      .ivu-form-item {\n        margin: 3px 0;\n      }\n\n      .addfont {\n        display: inline-block;\n        font-size: 12px;\n        font-weight: 400;\n        color: var(--prev-color-primary);\n        margin-left: 14px;\n        cursor: pointer;\n        margin-left: 10px;\n      }\n    }\n\n    .item.lang {\n      width: 100%;\n    }\n\n    .value {\n      flex: 1;\n    }\n\n    .avatar {\n      width: 60px;\n      height: 60px;\n      overflow: hidden;\n\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}