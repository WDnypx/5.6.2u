{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\grade\\record\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\grade\\record\\index.vue","mtime":1731313973106},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovcGMvem0vXHU2NjA2XHU2NjBFXHU5NjE0XHU3RkQ0XHU3OUQxXHU2MjgwXHU2NzA5XHU5NjUwXHU1MTZDXHU1M0Y4L1x1NkU5MFx1NzgwMS9DUk1FQi1CWiB2NS42LjIoMjAyNTA2MzApL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyB1c2VyTWVtYmVyQ2FyZCwgbWVtYmVyUmVjb3JkIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2FyZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyZWVTZWxlY3Q6IFt7CiAgICAgICAgaWQ6ICdmcmVlJywKICAgICAgICBsYWJlbDogJ+ivleeUqCcKICAgICAgfSwgewogICAgICAgIGlkOiAnY2FyZCcsCiAgICAgICAgbGFiZWw6ICfljaHlr4YnCiAgICAgIH0sIHsKICAgICAgICBpZDogJ21vbnRoJywKICAgICAgICBsYWJlbDogJ+aciOWNoScKICAgICAgfSwgewogICAgICAgIGlkOiAncXVhcnRlcicsCiAgICAgICAgbGFiZWw6ICflraPljaEnCiAgICAgIH0sIHsKICAgICAgICBpZDogJ3llYXInLAogICAgICAgIGxhYmVsOiAn5bm05Y2hJwogICAgICB9LCB7CiAgICAgICAgaWQ6ICdldmVyJywKICAgICAgICBsYWJlbDogJ+awuOS5hScKICAgICAgfV0sCiAgICAgIHBheUxpc3Q6IFt7CiAgICAgICAgdmFsOiAnZnJlZScsCiAgICAgICAgbGFiZWw6ICflhY3otLknCiAgICAgIH0sIHsKICAgICAgICB2YWw6ICd3ZWl4aW4nLAogICAgICAgIGxhYmVsOiAn5b6u5L+hJwogICAgICB9LCB7CiAgICAgICAgdmFsOiAnYWxpcGF5JywKICAgICAgICBsYWJlbDogJ+aUr+S7mOWunScKICAgICAgfV0sCiAgICAgIHRib2R5OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHRvdGFsOiAwLAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBtZW1iZXJfdHlwZTogJycsCiAgICAgICAgcGF5X3R5cGU6ICcnLAogICAgICAgIGFkZF90aW1lOiAnJwogICAgICB9LAogICAgICBwaWNrZXJPcHRpb25zOiB0aGlzLiR0aW1lT3B0aW9ucywKICAgICAgdGltZVZhbDogW10sCiAgICAgIHRhYmxlUGFnZTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnbWVkaWEnLCBbJ2lzTW9iaWxlJ10pKSwge30sIHsKICAgIGxhYmVsV2lkdGg6IGZ1bmN0aW9uIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogJzgwcHgnOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb246IGZ1bmN0aW9uIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1lbWJlclJlY29yZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g55So5oi35ZCN5pCc57Si77ybCiAgICBzZWxDaGFuZ2U6IGZ1bmN0aW9uIHNlbENoYW5nZSgpIHsKICAgICAgdGhpcy50YWJsZVBhZ2UucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TWVtYmVyUmVjb3JkKCk7CiAgICB9LAogICAgLy/nlKjmiLfnsbvlnovmkJzntKLvvJsKICAgIHVzZXJTZWFyY2hzOiBmdW5jdGlvbiB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy50YWJsZVBhZ2UucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TWVtYmVyUmVjb3JkKCk7CiAgICB9LAogICAgLy/mlK/ku5jmlrnlvI/mkJzntKLvvJsKICAgIHBheVNlYXJjaHM6IGZ1bmN0aW9uIHBheVNlYXJjaHMoKSB7CiAgICAgIHRoaXMudGFibGVQYWdlLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldE1lbWJlclJlY29yZCgpOwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lOiBmdW5jdGlvbiBvbmNoYW5nZVRpbWUoZSkgewogICAgICB0aGlzLnRpbWVWYWwgPSBlIHx8IFtdOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5hZGRfdGltZSA9IHRoaXMudGltZVZhbFswXSA/IHRoaXMudGltZVZhbCA/IHRoaXMudGltZVZhbC5qb2luKCctJykgOiAnJyA6ICcnOwogICAgICB0aGlzLnRhYmxlUGFnZS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRNZW1iZXJSZWNvcmQoKTsKICAgIH0sCiAgICBnZXRNZW1iZXJSZWNvcmQ6IGZ1bmN0aW9uIGdldE1lbWJlclJlY29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcGFnZTogdGhpcy50YWJsZVBhZ2UucGFnZSwKICAgICAgICBsaW1pdDogdGhpcy50YWJsZVBhZ2UubGltaXQsCiAgICAgICAgbWVtYmVyX3R5cGU6IHRoaXMuZm9ybVZhbGlkYXRlLm1lbWJlcl90eXBlLAogICAgICAgIHBheV90eXBlOiB0aGlzLmZvcm1WYWxpZGF0ZS5wYXlfdHlwZSwKICAgICAgICBhZGRfdGltZTogdGhpcy5mb3JtVmFsaWRhdGUuYWRkX3RpbWUsCiAgICAgICAgbmFtZTogdGhpcy5mb3JtVmFsaWRhdGUubmFtZQogICAgICB9OwogICAgICBtZW1iZXJSZWNvcmQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgICAgIGxpc3QgPSBfcmVzJGRhdGEubGlzdCwKICAgICAgICAgIGNvdW50ID0gX3JlcyRkYXRhLmNvdW50OwogICAgICAgIF90aGlzLnRib2R5ID0gbGlzdDsKICAgICAgICBfdGhpcy50b3RhbCA9IGNvdW50OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["userMemberCard","memberRecord","mapState","name","data","treeSelect","id","label","payList","val","tbody","loading","total","formValidate","member_type","pay_type","add_time","pickerOptions","$timeOptions","timeVal","tablePage","page","limit","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","created","getMemberRecord","methods","selChange","userSearchs","paySearchs","onchangeTime","e","join","_this","then","res","_res$data","list","count","catch","err","$message","error","msg"],"sources":["src/pages/user/grade/record/index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form\n          ref=\"formValidate\"\n          :model=\"formValidate\"\n          :label-width=\"labelWidth\"\n          :label-position=\"labelPosition\"\n          inline\n          @submit.native.prevent\n          class=\"tabform\"\n        >\n          <el-form-item label=\"会员类型：\">\n            <el-select v-model=\"formValidate.member_type\" clearable @change=\"userSearchs\" class=\"form_content_width\">\n              <el-option v-for=\"item in treeSelect\" :value=\"item.id\" :key=\"item.id\" :label=\"item.label\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"支付方式：\">\n            <el-select v-model=\"formValidate.pay_type\" clearable @change=\"paySearchs\" class=\"form_content_width\">\n              <el-option v-for=\"item in payList\" :value=\"item.val\" :key=\"item.val\" :label=\"item.label\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"购买时间：\">\n            <el-date-picker\n              clearable\n              v-model=\"timeVal\"\n              type=\"daterange\"\n              :editable=\"false\"\n              @change=\"onchangeTime\"\n              format=\"yyyy/MM/dd\"\n              value-format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              :picker-options=\"pickerOptions\"\n              style=\"width: 250px\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"搜索：\">\n            <el-input\n              clearable\n              placeholder=\"请输入用户名称搜索\"\n              v-model=\"formValidate.name\"\n              class=\"form_content_width\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" v-db-click @click=\"userSearchs\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <el-table\n        :data=\"tbody\"\n        ref=\"table\"\n        v-loading=\"loading\"\n        size=\"small\"\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <el-table-column label=\"订单号\" width=\"170\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.order_id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户名\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.user.nickname }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"手机号码\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.user.phone || '--' }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"会员类型\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.member_type }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"有效期限（天）\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.vip_day === -1 ? '永久' : scope.row.vip_day }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"支付金额（元）\" min-width=\"50\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.pay_price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"支付方式\" min-width=\"30\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.pay_type }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"购买时间\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.pay_time }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"tablePage.page\"\n          :limit.sync=\"tablePage.limit\"\n          @pagination=\"getMemberRecord\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { userMemberCard, memberRecord } from '@/api/user';\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'card',\n  data() {\n    return {\n      treeSelect: [\n        {\n          id: 'free',\n          label: '试用',\n        },\n        {\n          id: 'card',\n          label: '卡密',\n        },\n        {\n          id: 'month',\n          label: '月卡',\n        },\n        {\n          id: 'quarter',\n          label: '季卡',\n        },\n        {\n          id: 'year',\n          label: '年卡',\n        },\n        {\n          id: 'ever',\n          label: '永久',\n        },\n      ],\n      payList: [\n        {\n          val: 'free',\n          label: '免费',\n        },\n        {\n          val: 'weixin',\n          label: '微信',\n        },\n        {\n          val: 'alipay',\n          label: '支付宝',\n        },\n      ],\n      tbody: [],\n      loading: false,\n      total: 0,\n      formValidate: {\n        name: '',\n        member_type: '',\n        pay_type: '',\n        add_time: '',\n      },\n      pickerOptions: this.$timeOptions,\n      timeVal: [],\n      tablePage: {\n        page: 1,\n        limit: 15,\n      },\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  created() {\n    this.getMemberRecord();\n  },\n  methods: {\n    // 用户名搜索；\n    selChange() {\n      this.tablePage.page = 1;\n      this.getMemberRecord();\n    },\n    //用户类型搜索；\n    userSearchs() {\n      this.tablePage.page = 1;\n      this.getMemberRecord();\n    },\n    //支付方式搜索；\n    paySearchs() {\n      this.tablePage.page = 1;\n      this.getMemberRecord();\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e || [];\n      this.formValidate.add_time = this.timeVal[0] ? (this.timeVal ? this.timeVal.join('-') : '') : '';\n      this.tablePage.page = 1;\n      this.getMemberRecord();\n    },\n    getMemberRecord() {\n      this.loading = true;\n      let data = {\n        page: this.tablePage.page,\n        limit: this.tablePage.limit,\n        member_type: this.formValidate.member_type,\n        pay_type: this.formValidate.pay_type,\n        add_time: this.formValidate.add_time,\n        name: this.formValidate.name,\n      };\n      memberRecord(data)\n        .then((res) => {\n          this.loading = false;\n          const { list, count } = res.data;\n          this.tbody = list;\n          this.total = count;\n        })\n        .catch((err) => {\n          this.loading = false;\n          this.$message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n"],"mappings":";;;AAoHA,SAAAA,cAAA,EAAAC,YAAA;AACA,SAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA,GACA;QACAC,EAAA;QACAC,KAAA;MACA,GACA;QACAD,EAAA;QACAC,KAAA;MACA,GACA;QACAD,EAAA;QACAC,KAAA;MACA,GACA;QACAD,EAAA;QACAC,KAAA;MACA,GACA;QACAD,EAAA;QACAC,KAAA;MACA,GACA;QACAD,EAAA;QACAC,KAAA;MACA,EACA;MACAC,OAAA,GACA;QACAC,GAAA;QACAF,KAAA;MACA,GACA;QACAE,GAAA;QACAF,KAAA;MACA,GACA;QACAE,GAAA;QACAF,KAAA;MACA,EACA;MACAG,KAAA;MACAC,OAAA;MACAC,KAAA;MACAC,YAAA;QACAV,IAAA;QACAW,WAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,aAAA,OAAAC,YAAA;MACAC,OAAA;MACAC,SAAA;QACAC,IAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAtB,QAAA;IACAuB,UAAA,WAAAA,WAAA;MACA,YAAAC,QAAA,GAAAC,SAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAF,QAAA;IACA;EAAA,EACA;EACAG,OAAA,WAAAA,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAZ,SAAA,CAAAC,IAAA;MACA,KAAAS,eAAA;IACA;IACA;IACAG,WAAA,WAAAA,YAAA;MACA,KAAAb,SAAA,CAAAC,IAAA;MACA,KAAAS,eAAA;IACA;IACA;IACAI,UAAA,WAAAA,WAAA;MACA,KAAAd,SAAA,CAAAC,IAAA;MACA,KAAAS,eAAA;IACA;IACA;IACAK,YAAA,WAAAA,aAAAC,CAAA;MACA,KAAAjB,OAAA,GAAAiB,CAAA;MACA,KAAAvB,YAAA,CAAAG,QAAA,QAAAG,OAAA,WAAAA,OAAA,QAAAA,OAAA,CAAAkB,IAAA;MACA,KAAAjB,SAAA,CAAAC,IAAA;MACA,KAAAS,eAAA;IACA;IACAA,eAAA,WAAAA,gBAAA;MAAA,IAAAQ,KAAA;MACA,KAAA3B,OAAA;MACA,IAAAP,IAAA;QACAiB,IAAA,OAAAD,SAAA,CAAAC,IAAA;QACAC,KAAA,OAAAF,SAAA,CAAAE,KAAA;QACAR,WAAA,OAAAD,YAAA,CAAAC,WAAA;QACAC,QAAA,OAAAF,YAAA,CAAAE,QAAA;QACAC,QAAA,OAAAH,YAAA,CAAAG,QAAA;QACAb,IAAA,OAAAU,YAAA,CAAAV;MACA;MACAF,YAAA,CAAAG,IAAA,EACAmC,IAAA,WAAAC,GAAA;QACAF,KAAA,CAAA3B,OAAA;QACA,IAAA8B,SAAA,GAAAD,GAAA,CAAApC,IAAA;UAAAsC,IAAA,GAAAD,SAAA,CAAAC,IAAA;UAAAC,KAAA,GAAAF,SAAA,CAAAE,KAAA;QACAL,KAAA,CAAA5B,KAAA,GAAAgC,IAAA;QACAJ,KAAA,CAAA1B,KAAA,GAAA+B,KAAA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAP,KAAA,CAAA3B,OAAA;QACA2B,KAAA,CAAAQ,QAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAG,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}