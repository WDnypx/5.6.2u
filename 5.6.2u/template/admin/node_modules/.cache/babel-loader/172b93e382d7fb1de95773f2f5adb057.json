{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue","mtime":1735952580413},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\babel.config.js","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\.babelrc","mtime":1679965410000},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9wYy96bS9cdTY2MDZcdTY2MEVcdTk2MTRcdTdGRDRcdTc5RDFcdTYyODBcdTY3MDlcdTk2NTBcdTUxNkNcdTUzRjgvXHU2RTkwXHU3ODAxL0NSTUVCLUJaIHY1LjYuMigyMDI1MDYzMCkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3BjL3ptL1x1NjYwNlx1NjYwRVx1OTYxNFx1N0ZENFx1NzlEMVx1NjI4MFx1NjcwOVx1OTY1MFx1NTE2Q1x1NTNGOC9cdTZFOTBcdTc4MDEvQ1JNRUItQlogdjUuNi4yKDIwMjUwNjMwKS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCB7IHByb2R1Y3RMYWJlbFVzZUxpc3RBcGkgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3VzZXJMYWJlbCcsCiAgY29tcG9uZW50czogewogICAgdnVlZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICB9LAogIHByb3BzOiB7CiAgICBhY3RpdmVJZDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgW107CiAgICAgIH0KICAgIH0sCiAgICBsaXN0RGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbExpc3Q6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGFjdGl2ZUlkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgaWYgKG5WYWwgIT0gb1ZhbCkgewogICAgICAgICAgaWYgKG5WYWwubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMubGFiZWxMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMubGlzdERhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKG5WYWwuaW5jbHVkZXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgICAgIF90aGlzLmxhYmVsTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBvbk1vdmVTcGVjOiBmdW5jdGlvbiBvbk1vdmVTcGVjKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbmV3SW5kZXgsIG9sZEluZGV4LCBsYWJlbCwgbmV3TGFiZWxMaXN0OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgICAgICAgIG5ld0luZGV4ID0gZXZlbnQubmV3SW5kZXgsIG9sZEluZGV4ID0gZXZlbnQub2xkSW5kZXg7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3SW5kZXgsIG9sZEluZGV4KTsKICAgICAgICAgICAgICBsYWJlbCA9IF90aGlzMi5hY3RpdmVJZFtvbGRJbmRleF07CiAgICAgICAgICAgICAgbmV3TGFiZWxMaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMi5hY3RpdmVJZCk7CiAgICAgICAgICAgICAgbmV3TGFiZWxMaXN0LnNwbGljZShvbGRJbmRleCwgMSk7CiAgICAgICAgICAgICAgbmV3TGFiZWxMaXN0LnNwbGljZShuZXdJbmRleCwgMCwgbGFiZWwpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0xhYmVsTGlzdCk7CiAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCd1cGRhdGU6YWN0aXZlSWQnLCBuZXdMYWJlbExpc3QpOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["productLabelUseListApi","vuedraggable","name","components","props","activeId","type","Array","default","listData","data","labelList","watch","handler","nVal","oVal","_this","length","map","item","includes","id","push","deep","immediate","mounted","methods","onMoveSpec","event","_this2","_asyncToGenerator","_regenerator","m","_callee","newIndex","oldIndex","label","newLabelList","w","_context","n","console","log","_toConsumableArray","splice","$emit","a"],"sources":["src/components/goodsLabel/useLabel.vue"],"sourcesContent":["<template>\n  <div class=\"list\">\n    <vuedraggable\n      class=\"flex\"\n      group=\"label\"\n      :disabled=\"labelList.length < 2\"\n      :list=\"labelList\"\n      handle=\".label\"\n      @end=\"onMoveSpec\"\n      animation=\"300\"\n    >\n      <div\n        class=\"label\"\n        v-for=\"(label, j) in labelList\"\n        :key=\"j\"\n        v-dragging=\"{\n          list: activeId,\n        }\"\n      >\n        <div\n          class=\"label-item\"\n          :style=\"{\n            backgroundColor: label.bg_color,\n            color: label.font_color,\n            border: label.border_color ? '1px solid ' + label.border_color : 'none',\n          }\"\n          v-if=\"!label.image\"\n        >\n          {{ label.name }}\n        </div>\n        <img :src=\"label.image\" class=\"img-tag\" v-else />\n      </div>\n    </vuedraggable>\n  </div>\n</template>\n\n<script>\nimport { productLabelUseListApi } from '@/api/product';\nimport vuedraggable from 'vuedraggable';\n\nexport default {\n  name: 'userLabel',\n  components: { vuedraggable },\n  props: {\n    activeId: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n    listData: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n  },\n  data() {\n    return {\n      labelList: [],\n    };\n  },\n  watch: {\n    activeId: {\n      handler(nVal, oVal) {\n        if (nVal != oVal) {\n          if (nVal.length) {\n            this.labelList = [];\n            this.listData.map((item) => {\n              if (nVal.includes(item.id)) {\n                this.labelList.push(item);\n              }\n            });\n          }\n        }\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n  mounted() {},\n  methods: {\n    async onMoveSpec(event) {\n      console.log(event);\n      const { newIndex, oldIndex } = event;\n      console.log(newIndex, oldIndex);\n      const label = this.activeId[oldIndex];\n      const newLabelList = [...this.activeId];\n      newLabelList.splice(oldIndex, 1);\n      newLabelList.splice(newIndex, 0, label);\n      console.log(newLabelList);\n      this.$emit('update:activeId', newLabelList);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n  display: flex;\n  flex-wrap: wrap;\n  .label {\n    padding: 2px;\n    border-radius: 4px;\n    margin: 0 8px 0px 0;\n    cursor: move;\n    display: flex;\n    align-items: center;\n  }\n  .label-item {\n    height: 22px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0px 8px;\n\n    background: #eeeeee;\n    color: #333333;\n    border-radius: 2px;\n    cursor: pointer;\n    font-size: 12px;\n  }\n\n  .img-tag {\n    height: 22px;\n    border-radius: 2px;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;AAqCA,SAAAA,sBAAA;AACA,OAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF,YAAA,EAAAA;EAAA;EACAG,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAA,SAAA;QACA;MACA;IACA;IACAC,QAAA;MACAH,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAA,SAAA;QACA;MACA;IACA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;IACA;EACA;EACAC,KAAA;IACAP,QAAA;MACAQ,OAAA,WAAAA,QAAAC,IAAA,EAAAC,IAAA;QAAA,IAAAC,KAAA;QACA,IAAAF,IAAA,IAAAC,IAAA;UACA,IAAAD,IAAA,CAAAG,MAAA;YACA,KAAAN,SAAA;YACA,KAAAF,QAAA,CAAAS,GAAA,WAAAC,IAAA;cACA,IAAAL,IAAA,CAAAM,QAAA,CAAAD,IAAA,CAAAE,EAAA;gBACAL,KAAA,CAAAL,SAAA,CAAAW,IAAA,CAAAH,IAAA;cACA;YACA;UACA;QACA;MACA;MACAI,IAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA;IACAC,UAAA,WAAAA,WAAAC,KAAA;MAAA,IAAAC,MAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,QAAA,EAAAC,KAAA,EAAAC,YAAA;QAAA,OAAAN,YAAA,GAAAO,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA;YAAA;cACAC,OAAA,CAAAC,GAAA,CAAAd,KAAA;cACAM,QAAA,GAAAN,KAAA,CAAAM,QAAA,EAAAC,QAAA,GAAAP,KAAA,CAAAO,QAAA;cACAM,OAAA,CAAAC,GAAA,CAAAR,QAAA,EAAAC,QAAA;cACAC,KAAA,GAAAP,MAAA,CAAAxB,QAAA,CAAA8B,QAAA;cACAE,YAAA,GAAAM,kBAAA,CAAAd,MAAA,CAAAxB,QAAA;cACAgC,YAAA,CAAAO,MAAA,CAAAT,QAAA;cACAE,YAAA,CAAAO,MAAA,CAAAV,QAAA,KAAAE,KAAA;cACAK,OAAA,CAAAC,GAAA,CAAAL,YAAA;cACAR,MAAA,CAAAgB,KAAA,oBAAAR,YAAA;YAAA;cAAA,OAAAE,QAAA,CAAAO,CAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}