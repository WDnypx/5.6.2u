{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\app\\wechat\\menus\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\app\\wechat\\menus\\index.vue","mtime":1731313973062},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHdlY2hhdE1lbnVBcGksIE1lbnVBcGkgfSBmcm9tICdAL2FwaS9hcHAnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3dlY2hhdE1lbnVzJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kYWwyOiBmYWxzZSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdHlwZTogJ2NsaWNrJywKICAgICAgICBhcHBpZDogJycsCiAgICAgICAgdXJsOiAnJywKICAgICAgICBrZXk6ICcnLAogICAgICAgIHBhZ2VwYXRoOiAnJywKICAgICAgICBpZDogMCwKICAgICAgfSwKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgbmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeiPnOWNleWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBtaW46IDEsIG1heDogMTQsIG1lc3NhZ2U6ICfplb/luqblnKggMSDliLAgMTQg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXSwKICAgICAgICBrZXk6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5YWz6ZSu5a2XJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIGFwcGlkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmWFwcGlkJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHBhZ2VwYXRoOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeWkh+eUqOe9kemhtScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICB1cmw6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6Lez6L2s5Zyw5Z2AJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHR5cGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6KeE5YiZ54q25oCBJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgIH0sCiAgICAgIHBhcmVudE1lbnVJZDogbnVsbCwKICAgICAgbGlzdDogW10sCiAgICAgIGNoZWNrZWRNZW51SWQ6IG51bGwsCiAgICAgIGlzVHJ1ZTogZmFsc2UsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TWVudXMoKTsKICAgIGlmICh0aGlzLmxpc3QubGVuZ3RoKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gdGhpcy5saXN0W3RoaXMuYWN0aXZlQ2xhc3NdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMuZm9ybVZhbGlkYXRlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5re75Yqg5LiA57qn5a2X5q615Ye95pWwCiAgICBkZWZhdWx0TWVudXNEYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHR5cGU6ICdjbGljaycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc3ViX2J1dHRvbjogW10sCiAgICAgIH07CiAgICB9LAogICAgLy8g5re75Yqg5LqM57qn5a2X5q615Ye95pWwCiAgICBkZWZhdWx0Q2hpbGREYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHR5cGU6ICdjbGljaycsCiAgICAgICAgbmFtZTogJycsCiAgICAgIH07CiAgICB9LAogICAgLy8g6I635Y+WIOiPnOWNlQogICAgZ2V0TWVudXMoKSB7CiAgICAgIHdlY2hhdE1lbnVBcGkoKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLmxpc3QgPSBkYXRhLm1lbnVzOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75L+d5a2Y5o+Q5LqkCiAgICBzdWJtZW51cyhuYW1lKSB7CiAgICAgIGlmICh0aGlzLmlzVHJ1ZSAmJiAhdGhpcy5jaGVja2VkTWVudUlkICYmIHRoaXMuY2hlY2tlZE1lbnVJZCAhPT0gMCkgewogICAgICAgIHRoaXMucHV0RGF0YSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgdGhpcy5wdXREYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2soKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5paw5aKeZGF0YQogICAgcHV0RGF0YSgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgYnV0dG9uOiB0aGlzLmxpc3QsCiAgICAgIH07CiAgICAgIE1lbnVBcGkoZGF0YSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRNZW51SWQgPSBudWxsOwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7fTsKICAgICAgICAgIHRoaXMuaXNUcnVlID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDngrnlh7vlhYPntKAKICAgIGdldHRlbShpdGVtLCBpbmRleCwgcGlkKSB7CiAgICAgIHRoaXMuY2hlY2tlZE1lbnVJZCA9IGluZGV4OwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IGl0ZW07CiAgICAgIHRoaXMucGFyZW50TWVudUlkID0gcGlkOwogICAgICB0aGlzLmlzVHJ1ZSA9IHRydWU7CiAgICB9LAogICAgLy8g5aKe5Yqg5LqM57qnCiAgICBhZGQoaXRlbSwgaW5kZXgpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrKCkpIHJldHVybiBmYWxzZTsKICAgICAgaWYgKGl0ZW0uc3ViX2J1dHRvbi5sZW5ndGggPCA1KSB7CiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRlZmF1bHRDaGlsZERhdGEoKTsKICAgICAgICBsZXQgaWQgPSBpdGVtLnN1Yl9idXR0b24ubGVuZ3RoOwogICAgICAgIGl0ZW0uc3ViX2J1dHRvbi5wdXNoKGRhdGEpOwogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gZGF0YTsKICAgICAgICB0aGlzLmNoZWNrZWRNZW51SWQgPSBpZDsKICAgICAgICB0aGlzLnBhcmVudE1lbnVJZCA9IGluZGV4OwogICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+S6jOe6p+iPnOWNleacgOWkmuWPquiDvea3u+WKoDXkuKohJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g5aKe5Yqg5LiA57qnCiAgICBhZGR0ZXh0KCkgewogICAgICBpZiAoIXRoaXMuY2hlY2soKSkgcmV0dXJuIGZhbHNlOwogICAgICBsZXQgZGF0YSA9IHRoaXMuZGVmYXVsdE1lbnVzRGF0YSgpOwogICAgICBsZXQgaWQgPSB0aGlzLmxpc3QubGVuZ3RoOwogICAgICB0aGlzLmxpc3QucHVzaChkYXRhKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSBkYXRhOwogICAgICB0aGlzLmNoZWNrZWRNZW51SWQgPSBpZDsKICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPSBudWxsOwogICAgICB0aGlzLmlzVHJ1ZSA9IHRydWU7CiAgICB9LAogICAgLy8g5Yik5pat5Ye95pWwCiAgICBjaGVjazogZnVuY3Rpb24gKCkgewogICAgICBsZXQgcmVnID0gL1thLXpBLVowLTldWy1hLXpBLVowLTldezAsNjJ9KFwuW2EtekEtWjAtOV1bLWEtekEtWjAtOV17MCw2Mn0pK1wuPy87CiAgICAgIGlmICh0aGlzLmNoZWNrZWRNZW51SWQgPT09IG51bGwpIHJldHVybiB0cnVlOwogICAgICBpZiAoIXRoaXMuaXNUcnVlKSByZXR1cm4gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLmZvcm1WYWxpZGF0ZS5uYW1lKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXmjInpkq7lkI3np7AhJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS50eXBlID09PSAnY2xpY2snICYmICF0aGlzLmZvcm1WYWxpZGF0ZS5rZXkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+i+k+WFpeWFs+mUruWtlyEnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLnR5cGUgPT09ICd2aWV3JyAmJiAhcmVnLnRlc3QodGhpcy5mb3JtVmFsaWRhdGUudXJsKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5q2j56Gu55qE6Lez6L2s5Zyw5Z2AIScpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoCiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudHlwZSA9PT0gJ21pbmlwcm9ncmFtJyAmJgogICAgICAgICghdGhpcy5mb3JtVmFsaWRhdGUuYXBwaWQgfHwgIXRoaXMuZm9ybVZhbGlkYXRlLnBhZ2VwYXRoIHx8ICF0aGlzLmZvcm1WYWxpZGF0ZS51cmwpCiAgICAgICkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35aGr5YaZ5a6M5pW05bCP56iL5bqP6YWN572uIScpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbHRNZW51cygpIHsKICAgICAgaWYgKHRoaXMuaXNUcnVlKSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk5q2k6I+c5Y2V5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIGJlZm9yZUNsb3NlKGFjdGlvbiwgaW5zdGFuY2UsIGRvbmUpIHsKICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAnY29uZmlybScpIHsKICAgICAgICAgICAgICBpbnN0YW5jZS4kcmVmcy5jb25maXJtLiRlbC5vbmNsaWNrID0gYSgpOwogICAgICAgICAgICAgIGZ1bmN0aW9uIGEoZSkgewogICAgICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50OwogICAgICAgICAgICAgICAgaWYgKGUuZGV0YWlsICE9IDApIHsKICAgICAgICAgICAgICAgICAgZG9uZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkb25lKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPT09IG51bGwKICAgICAgICAgICAgICA/IHRoaXMubGlzdC5zcGxpY2UodGhpcy5jaGVja2VkTWVudUlkLCAxKQogICAgICAgICAgICAgIDogdGhpcy5saXN0W3RoaXMucGFyZW50TWVudUlkXS5zdWJfYnV0dG9uLnNwbGljZSh0aGlzLmNoZWNrZWRNZW51SWQsIDEpOwogICAgICAgICAgICB0aGlzLnBhcmVudE1lbnVJZCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gewogICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgIHR5cGU6ICdjbGljaycsCiAgICAgICAgICAgICAgYXBwaWQ6ICcnLAogICAgICAgICAgICAgIHVybDogJycsCiAgICAgICAgICAgICAga2V5OiAnJywKICAgICAgICAgICAgICBwYWdlcGF0aDogJycsCiAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5tb2RhbDIgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5jaGVja2VkTWVudUlkID0gbnVsbDsKICAgICAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6I+c5Y2VIScpOwogICAgICB9CiAgICB9LAogICAgLy8g56Gu6K6k5Yig6ZmkCiAgICBkZWwoKSB7CiAgICAgIHRoaXMucGFyZW50TWVudUlkID09PSBudWxsCiAgICAgICAgPyB0aGlzLmxpc3Quc3BsaWNlKHRoaXMuY2hlY2tlZE1lbnVJZCwgMSkKICAgICAgICA6IHRoaXMubGlzdFt0aGlzLnBhcmVudE1lbnVJZF0uc3ViX2J1dHRvbi5zcGxpY2UodGhpcy5jaGVja2VkTWVudUlkLCAxKTsKICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPSBudWxsOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0eXBlOiAnY2xpY2snLAogICAgICAgIGFwcGlkOiAnJywKICAgICAgICB1cmw6ICcnLAogICAgICAgIGtleTogJycsCiAgICAgICAgcGFnZXBhdGg6ICcnLAogICAgICAgIGlkOiAwLAogICAgICB9OwogICAgICB0aGlzLmlzVHJ1ZSA9IHRydWU7CiAgICAgIHRoaXMubW9kYWwyID0gZmFsc2U7CiAgICAgIHRoaXMuY2hlY2tlZE1lbnVJZCA9IG51bGw7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm1WYWxpZGF0ZSddLnJlc2V0RmllbGRzKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/app/wechat/menus","sourcesContent":["<template>\n  <div class=\"article-manager\">\n    <!-- <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n    </div> -->\n    <pages-header ref=\"pageHeader\" :title=\"$route.meta.title\"></pages-header>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <!-- 公众号设置 -->\n      <el-row :gutter=\"24\">\n        <el-col :span=\"24\" class=\"ml40\">\n          <!-- 预览功能 -->\n          <el-col :span=\"24\">\n            <el-col :xl=\"7\" :lg=\"7\" :md=\"22\" :sm=\"22\" :xs=\"22\" class=\"left mb15\">\n              <img class=\"top\" src=\"../../../../assets/images/mobilehead.png\" />\n              <img class=\"bottom\" src=\"@/assets/images/mobilefoot.png\" />\n              <div style=\"background: #f4f5f9; min-height: 438px; position: absolute; top: 63px; width: 320px\"></div>\n              <div class=\"textbot\">\n                <div class=\"li\" v-for=\"(item, indx) in list\" :key=\"indx\" :class=\"{ active: item === formValidate }\">\n                  <div>\n                    <div class=\"add\" v-db-click @click=\"add(item, indx)\">\n                      <i class=\"el-icon-plus\"></i>\n                      <div class=\"arrow\"></div>\n                    </div>\n                    <div class=\"tianjia\">\n                      <div\n                        class=\"addadd\"\n                        v-for=\"(j, index) in item.sub_button\"\n                        :key=\"index\"\n                        :class=\"{ active: j === formValidate }\"\n                        v-db-click\n                        @click=\"gettem(j, index, indx)\"\n                      >\n                        {{ j.name || '二级菜单' }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"text\" v-db-click @click=\"gettem(item, indx, null)\">{{ item.name || '一级菜单' }}</div>\n                </div>\n                <div class=\"li\" v-show=\"list.length < 3\">\n                  <div class=\"text\" v-db-click @click=\"addtext\"><i class=\"el-icon-plus\"></i></div>\n                </div>\n              </div>\n            </el-col>\n            <el-col :xl=\"11\" :lg=\"12\" :md=\"22\" :sm=\"22\" :xs=\"22\">\n              <el-tabs value=\"name1\" v-if=\"checkedMenuId !== null\">\n                <el-tab-pane label=\"菜单信息\" name=\"name1\">\n                  <el-col :span=\"24\" class=\"userAlert\">\n                    <div class=\"box-card right\">\n                      <el-alert type=\"info\" show-icon closable title=\"已添加子菜单，仅可设置菜单名称\"></el-alert>\n                      <el-form\n                        ref=\"formValidate\"\n                        :model=\"formValidate\"\n                        :rules=\"ruleValidate\"\n                        label-width=\"100px\"\n                        class=\"mt20\"\n                      >\n                        <el-form-item label=\"菜单名称\" prop=\"name\">\n                          <el-input v-model=\"formValidate.name\" placeholder=\"请填写菜单名称\" class=\"spwidth\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"规则状态\" prop=\"type\">\n                          <el-select v-model=\"formValidate.type\" placeholder=\"请选择规则状态\" class=\"spwidth\">\n                            <el-option value=\"click\" label=\"关键字\"></el-option>\n                            <el-option value=\"view\" label=\"跳转网页\"></el-option>\n                            <el-option value=\"miniprogram\" label=\"小程序\"></el-option>\n                          </el-select>\n                        </el-form-item>\n                        <div v-if=\"formValidate.type === 'click'\">\n                          <el-form-item label=\"关键字\" prop=\"key\">\n                            <el-input v-model=\"formValidate.key\" placeholder=\"请填写关键字\" class=\"spwidth\"></el-input>\n                          </el-form-item>\n                        </div>\n                        <div v-if=\"formValidate.type === 'miniprogram'\">\n                          <el-form-item label=\"appid\" prop=\"appid\">\n                            <el-input v-model=\"formValidate.appid\" placeholder=\"请填写appid\" class=\"spwidth\"></el-input>\n                          </el-form-item>\n                          <el-form-item label=\"小程序路径\" prop=\"pagepath\">\n                            <el-input\n                              v-model=\"formValidate.pagepath\"\n                              placeholder=\"请填写小程序路径\"\n                              class=\"spwidth\"\n                            ></el-input>\n                          </el-form-item>\n                          <el-form-item label=\"备用网页\" prop=\"url\">\n                            <el-input\n                              v-model=\"formValidate.url\"\n                              placeholder=\"请填写备用网页\"\n                              class=\"spwidth\"\n                            ></el-input>\n                          </el-form-item>\n                        </div>\n                        <div v-if=\"formValidate.type === 'view'\">\n                          <el-form-item label=\"跳转地址\" prop=\"url\">\n                            <el-input\n                              v-model=\"formValidate.url\"\n                              placeholder=\"请填写跳转地址\"\n                              class=\"spwidth\"\n                            ></el-input>\n                          </el-form-item>\n                        </div>\n                      </el-form>\n                    </div>\n                  </el-col>\n                </el-tab-pane>\n              </el-tabs>\n              <el-col :span=\"24\" v-if=\"isTrue\">\n                <el-button size=\"small\" type=\"danger\" v-db-click @click=\"deltMenus\">删除</el-button>\n                <el-button type=\"primary\" v-db-click @click=\"submenus('formValidate')\">保存并发布</el-button>\n              </el-col>\n            </el-col>\n          </el-col>\n        </el-col>\n      </el-row>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { wechatMenuApi, MenuApi } from '@/api/app';\nexport default {\n  name: 'wechatMenus',\n  data() {\n    return {\n      modal2: false,\n      formValidate: {\n        name: '',\n        type: 'click',\n        appid: '',\n        url: '',\n        key: '',\n        pagepath: '',\n        id: 0,\n      },\n      ruleValidate: {\n        name: [\n          { required: true, message: '请填写菜单名称', trigger: 'blur' },\n          { min: 1, max: 14, message: '长度在 1 到 14 个字符', trigger: 'blur' },\n        ],\n        key: [{ required: true, message: '请填写关键字', trigger: 'blur' }],\n        appid: [{ required: true, message: '请填写appid', trigger: 'blur' }],\n        pagepath: [{ required: true, message: '请填写备用网页', trigger: 'blur' }],\n        url: [{ required: true, message: '请填写跳转地址', trigger: 'blur' }],\n        type: [{ required: true, message: '请选择规则状态', trigger: 'change' }],\n      },\n      parentMenuId: null,\n      list: [],\n      checkedMenuId: null,\n      isTrue: false,\n    };\n  },\n  mounted() {\n    this.getMenus();\n    if (this.list.length) {\n      this.formValidate = this.list[this.activeClass];\n    } else {\n      return this.formValidate;\n    }\n  },\n  methods: {\n    // 添加一级字段函数\n    defaultMenusData() {\n      return {\n        type: 'click',\n        name: '',\n        sub_button: [],\n      };\n    },\n    // 添加二级字段函数\n    defaultChildData() {\n      return {\n        type: 'click',\n        name: '',\n      };\n    },\n    // 获取 菜单\n    getMenus() {\n      wechatMenuApi()\n        .then(async (res) => {\n          let data = res.data;\n          this.list = data.menus;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 点击保存提交\n    submenus(name) {\n      if (this.isTrue && !this.checkedMenuId && this.checkedMenuId !== 0) {\n        this.putData();\n      } else {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            this.putData();\n          } else {\n            if (!this.check()) return false;\n          }\n        });\n      }\n    },\n    // 新增data\n    putData() {\n      let data = {\n        button: this.list,\n      };\n      MenuApi(data)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n          this.checkedMenuId = null;\n          this.formValidate = {};\n          this.isTrue = false;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 点击元素\n    gettem(item, index, pid) {\n      this.checkedMenuId = index;\n      this.formValidate = item;\n      this.parentMenuId = pid;\n      this.isTrue = true;\n    },\n    // 增加二级\n    add(item, index) {\n      if (!this.check()) return false;\n      if (item.sub_button.length < 5) {\n        let data = this.defaultChildData();\n        let id = item.sub_button.length;\n        item.sub_button.push(data);\n        this.formValidate = data;\n        this.checkedMenuId = id;\n        this.parentMenuId = index;\n        this.isTrue = true;\n      } else {\n        this.$message.warning('二级菜单最多只能添加5个!');\n        return false;\n      }\n    },\n    // 增加一级\n    addtext() {\n      if (!this.check()) return false;\n      let data = this.defaultMenusData();\n      let id = this.list.length;\n      this.list.push(data);\n      this.formValidate = data;\n      this.checkedMenuId = id;\n      this.parentMenuId = null;\n      this.isTrue = true;\n    },\n    // 判断函数\n    check: function () {\n      let reg = /[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\.?/;\n      if (this.checkedMenuId === null) return true;\n      if (!this.isTrue) return true;\n      if (!this.formValidate.name) {\n        this.$message.warning('请输入按钮名称!');\n        return false;\n      }\n      if (this.formValidate.type === 'click' && !this.formValidate.key) {\n        this.$message.warning('请输入关键字!');\n        return false;\n      }\n      if (this.formValidate.type === 'view' && !reg.test(this.formValidate.url)) {\n        this.$message.warning('请输入正确的跳转地址!');\n        return false;\n      }\n      if (\n        this.formValidate.type === 'miniprogram' &&\n        (!this.formValidate.appid || !this.formValidate.pagepath || !this.formValidate.url)\n      ) {\n        this.$message.warning('请填写完整小程序配置!');\n        return false;\n      }\n      return true;\n    },\n    // 删除\n    deltMenus() {\n      if (this.isTrue) {\n        this.$confirm('确认删除此菜单吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          beforeClose(action, instance, done) {\n            if (action == 'confirm') {\n              instance.$refs.confirm.$el.onclick = a();\n              function a(e) {\n                e = e || window.event;\n                if (e.detail != 0) {\n                  done();\n                }\n              }\n            } else {\n              done();\n            }\n          },\n        })\n          .then(() => {\n            this.parentMenuId === null\n              ? this.list.splice(this.checkedMenuId, 1)\n              : this.list[this.parentMenuId].sub_button.splice(this.checkedMenuId, 1);\n            this.parentMenuId = null;\n            this.formValidate = {\n              name: '',\n              type: 'click',\n              appid: '',\n              url: '',\n              key: '',\n              pagepath: '',\n              id: 0,\n            };\n            this.isTrue = true;\n            this.modal2 = false;\n            this.checkedMenuId = null;\n            this.$refs['formValidate'].resetFields();\n          })\n          .catch(() => {});\n      } else {\n        this.$message.warning('请选择菜单!');\n      }\n    },\n    // 确认删除\n    del() {\n      this.parentMenuId === null\n        ? this.list.splice(this.checkedMenuId, 1)\n        : this.list[this.parentMenuId].sub_button.splice(this.checkedMenuId, 1);\n      this.parentMenuId = null;\n      this.formValidate = {\n        name: '',\n        type: 'click',\n        appid: '',\n        url: '',\n        key: '',\n        pagepath: '',\n        id: 0,\n      };\n      this.isTrue = true;\n      this.modal2 = false;\n      this.checkedMenuId = null;\n      this.$refs['formValidate'].resetFields();\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n* {\n  -moz-user-select: none; /*火狐*/\n  -webkit-user-select: none; /*webkit浏览器*/\n  -ms-user-select: none; /*IE10*/\n  -khtml-user-select: none; /*早期浏览器*/\n  user-select: none;\n}\n\n.left {\n  min-width: 390px;\n  min-height: 550px;\n  position: relative;\n  padding-left: 40px;\n}\n\n.top {\n  position: absolute;\n  top: 0px;\n}\n\n.bottom {\n  position: absolute;\n  bottom: 0px;\n}\n\n.textbot {\n  position: absolute;\n  bottom: 0px;\n  left: 55px;\n  width: 100%;\n}\n.active {\n  border: 1px solid var(--prev-color-primary) !important;\n  color: var(--prev-color-primary) !important;\n}\n.li {\n  float: left;\n  width: 92px;\n  height: 48px;\n  line-height: 48px;\n  border-left: 1px solid #e7e7eb;\n  background: #fafafa;\n  text-align: center;\n  cursor: pointer;\n  color: #999;\n  position: relative;\n}\n.text {\n  height: 50px;\n  white-space: nowrap;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0 5px;\n}\n.text:hover {\n  color: #000;\n}\n\n.add {\n  position: absolute;\n  bottom: 65px;\n  width: 100%;\n  line-height: 40px;\n  // border: 1px solid #e7e7eb;\n  background: #fafafa;\n}\n.arrow {\n  position: absolute;\n  bottom: -16px;\n  left: 36px;\n  /* 圆角的位置需要细心调试哦 */\n  width: 0;\n  height: 0;\n  font-size: 0;\n  border: solid 8px;\n  border-color: #fafafa #f4f5f9 #f4f5f9 #f4f5f9;\n}\n.tianjia {\n  position: absolute;\n  bottom: 107px;\n  width: 100%;\n  line-height: 48px;\n  background: #fafafa;\n  :first-child {\n    border: none;\n  }\n}\n.addadd {\n  width: 100%;\n  line-height: 40px;\n  border-top: 1px solid #f0f0f0;\n  background: #fafafa;\n  height: 40px;\n}\n.right {\n  background: #fff;\n  min-height: 400px;\n}\n.spwidth {\n  width: 100%;\n}\n.userAlert {\n  margin-top: 16px !important;\n}\n</style>\n"]}]}