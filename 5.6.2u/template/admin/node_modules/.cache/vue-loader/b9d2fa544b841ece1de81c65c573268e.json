{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue?vue&type=style&index=0&id=9147e304&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue","mtime":1735952580413},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5saXN0IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogd3JhcDsKICAubGFiZWwgewogICAgcGFkZGluZzogMnB4OwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgbWFyZ2luOiAwIDhweCAwcHggMDsKICAgIGN1cnNvcjogbW92ZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogIH0KICAubGFiZWwtaXRlbSB7CiAgICBoZWlnaHQ6IDIycHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZzogMHB4IDhweDsKCiAgICBiYWNrZ3JvdW5kOiAjZWVlZWVlOwogICAgY29sb3I6ICMzMzMzMzM7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXNpemU6IDEycHg7CiAgfQoKICAuaW1nLXRhZyB7CiAgICBoZWlnaHQ6IDIycHg7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgfQp9Cg=="},{"version":3,"sources":["useLabel.vue"],"names":[],"mappings":";AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"useLabel.vue","sourceRoot":"src/components/goodsLabel","sourcesContent":["<template>\n  <div class=\"list\">\n    <vuedraggable\n      class=\"flex\"\n      group=\"label\"\n      :disabled=\"labelList.length < 2\"\n      :list=\"labelList\"\n      handle=\".label\"\n      @end=\"onMoveSpec\"\n      animation=\"300\"\n    >\n      <div\n        class=\"label\"\n        v-for=\"(label, j) in labelList\"\n        :key=\"j\"\n        v-dragging=\"{\n          list: activeId,\n        }\"\n      >\n        <div\n          class=\"label-item\"\n          :style=\"{\n            backgroundColor: label.bg_color,\n            color: label.font_color,\n            border: label.border_color ? '1px solid ' + label.border_color : 'none',\n          }\"\n          v-if=\"!label.image\"\n        >\n          {{ label.name }}\n        </div>\n        <img :src=\"label.image\" class=\"img-tag\" v-else />\n      </div>\n    </vuedraggable>\n  </div>\n</template>\n\n<script>\nimport { productLabelUseListApi } from '@/api/product';\nimport vuedraggable from 'vuedraggable';\n\nexport default {\n  name: 'userLabel',\n  components: { vuedraggable },\n  props: {\n    activeId: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n    listData: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n  },\n  data() {\n    return {\n      labelList: [],\n    };\n  },\n  watch: {\n    activeId: {\n      handler(nVal, oVal) {\n        if (nVal != oVal) {\n          if (nVal.length) {\n            this.labelList = [];\n            this.listData.map((item) => {\n              if (nVal.includes(item.id)) {\n                this.labelList.push(item);\n              }\n            });\n          }\n        }\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n  mounted() {},\n  methods: {\n    async onMoveSpec(event) {\n      console.log(event);\n      const { newIndex, oldIndex } = event;\n      console.log(newIndex, oldIndex);\n      const label = this.activeId[oldIndex];\n      const newLabelList = [...this.activeId];\n      newLabelList.splice(oldIndex, 1);\n      newLabelList.splice(newIndex, 0, label);\n      console.log(newLabelList);\n      this.$emit('update:activeId', newLabelList);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n  display: flex;\n  flex-wrap: wrap;\n  .label {\n    padding: 2px;\n    border-radius: 4px;\n    margin: 0 8px 0px 0;\n    cursor: move;\n    display: flex;\n    align-items: center;\n  }\n  .label-item {\n    height: 22px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0px 8px;\n\n    background: #eeeeee;\n    color: #333333;\n    border-radius: 2px;\n    cursor: pointer;\n    font-size: 12px;\n  }\n\n  .img-tag {\n    height: 22px;\n    border-radius: 2px;\n  }\n}\n</style>\n"]}]}