{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\product\\productList\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\product\\productList\\index.vue","mtime":1750726023752},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBleHBhbmRSb3cgZnJvbSAnLi90YWJsZUV4cGFuZC52dWUnOwppbXBvcnQgYXR0cmlidXRlIGZyb20gJy4vYXR0cmlidXRlJzsKaW1wb3J0IHRvRXhjZWwgZnJvbSAnLi4vLi4vLi4vdXRpbHMvRXhjZWwuanMnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgdGFvQmFvIGZyb20gJy4vdGFvQmFvJzsKaW1wb3J0IGdvb2RzRGV0YWlsIGZyb20gJy4vY29tcG9uZW50cy9nb29kc0RldGFpbC52dWUnOwppbXBvcnQgY291cG9uTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvY291cG9uTGlzdCc7CmltcG9ydCB7IGV4cG9ydFByb2R1Y3RMaXN0LCBleHBvcnRQcm9kdWN0RXhwb3J0IH0gZnJvbSAnQC9hcGkvZXhwb3J0JzsKaW1wb3J0IHNldHRpbmdzIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCBnb29kc0ltcG9ydCBmcm9tICcuL2NvbXBvbmVudHMvZ29vZHNJbXBvcnQudnVlJzsKaW1wb3J0IGJyb2tlcmFnZVNldCBmcm9tICcuLi9jb21wb25lbnRzL2Jyb2tlcmFnZVNldC52dWUnOwppbXBvcnQgdmlwUHJpY2VTZXQgZnJvbSAnLi4vY29tcG9uZW50cy92aXBQcmljZVNldC52dWUnOwppbXBvcnQgewogIGdldEdvb2RIZWFkZSwKICBnZXRHb29kcywKICBQb3N0Z29vZHNJc1Nob3csCiAgY2FzY2FkZXJMaXN0QXBpLCAvLyDliIbnsbvliJfooagKICBwcm9kdWN0U2hvd0FwaSwKICBwcm9kdWN0VW5zaG93QXBpLAogIHN0b3JlUHJvZHVjdEFwaSwKICBiYXRjaFNldHRpbmcsCiAgcHJvZHVjdEdldFRlbXBsYXRlQXBpLAogIHByb2R1Y3RMYWJlbFVzZUxpc3RBcGksCiAgcHJvZHVjdEJhdGNoRGVsZXRlLAp9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwppbXBvcnQgdXNlckxhYmVsIGZyb20gJ0AvY29tcG9uZW50cy9sYWJlbExpc3QnOwppbXBvcnQgc3RvcmVMYWJlbExpc3QgZnJvbSAnQC9jb21wb25lbnRzL3N0b3JlTGFiZWxMaXN0JzsKaW1wb3J0IGdvb2RzTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGFiZWwnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwcm9kdWN0X3Byb2R1Y3RMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBleHBhbmRSb3csCiAgICBhdHRyaWJ1dGUsCiAgICB0YW9CYW8sCiAgICBnb29kc0RldGFpbCwKICAgIHVzZXJMYWJlbCwKICAgIGNvdXBvbkxpc3QsCiAgICBnb29kc0ltcG9ydCwKICAgIGJyb2tlcmFnZVNldCwKICAgIHZpcFByaWNlU2V0LAogICAgc3RvcmVMYWJlbExpc3QsCiAgICBnb29kc0xhYmVsLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCd1c2VyTGV2ZWwnLCBbJ2NhdGVnb3J5SWQnXSksCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm91dGVQcmU6IHNldHRpbmdzLnJvdXRlUHJlLAogICAgICBwaWNrZXJPcHRpb25zOiB0aGlzLiR0aW1lT3B0aW9ucywKICAgICAgdGVtcGxhdGU6IGZhbHNlLAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBpbXBvcnRTaG93OiBmYWxzZSwKICAgICAgYmF0Y2hNb2RhbDogZmFsc2UsCiAgICAgIGxhYmVsU2hvdzogZmFsc2UsCiAgICAgIGJhdGNoVHlwZTogMSwgLy8g5om56YeP6K6+572u57G75Z6LCiAgICAgIGJhdGNoRm9ybURhdGE6IHsKICAgICAgICBjYXRlX2lkOiBbXSwKICAgICAgICBsb2dpc3RpY3M6IFtdLAogICAgICAgIGZyZWlnaHQ6IDIsCiAgICAgICAgcG9zdGFnZTogMCwKICAgICAgICB0ZW1wX2lkOiBudWxsLAogICAgICAgIGdpdmVfaW50ZWdyYWw6IDAsCiAgICAgICAgbGFiZWxfaWQ6IFtdLAogICAgICAgIGNvdXBvbl9pZHM6IFtdLAogICAgICAgIHJlY29tbWVuZDogW10sCiAgICAgIH0sCiAgICAgIHJ1bGVCYXRjaDoge30sCiAgICAgIGNvdXBvbk5hbWU6IFtdLCAvLyDkvJjmg6DliLgKICAgICAgZGF0YUxhYmVsOiBbXSwgLy8g5qCH562+CiAgICAgIHRlbXBsYXRlTGlzdDogW10sIC8vIOi/kOi0ueaooeeJiAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDYsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQsCiAgICAgIH0sCiAgICAgIGFydEZyb206IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBjYXRlX2lkOiAnJywKICAgICAgICB0eXBlOiAnMScsCiAgICAgICAgc3RvcmVfbmFtZTogJycsCiAgICAgICAgc3BlY190eXBlOiAnJywKICAgICAgICBsb2dpc3RpY3M6ICcnLAogICAgICAgIHZpcF9wcm9kdWN0OiAnJywKICAgICAgICBpc19naWZ0OiAnJywKICAgICAgICBzYWxlc19zOiBbJycsICcnXSwKICAgICAgICBzdG9ja19zOiBbJycsICcnXSwKICAgICAgICBwcmljZV9zOiBbJycsICcnXSwKICAgICAgICBzdG9yZV9sYWJlbF9pZDogW10sCiAgICAgICAgdGltZTogJycsCiAgICAgICAgdmlydHVhbF90eXBlOiAnJywKICAgICAgfSwKICAgICAgbGlzdDogW10sCiAgICAgIHRhYmxlTGlzdDogW10sCiAgICAgIGhlYWRlTnVtOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRhdGE6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgYXR0clRlbXBsYXRlOiBmYWxzZSwKICAgICAgaWRzOiBbXSwKICAgICAgZ29vZHNJZDogJycsCiAgICAgIGlzUHJvZHVjdEJveDogZmFsc2UsCiAgICAgIHRyZWVTZWxlY3Q6IFtdLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHNob3dCcm9rZXJhZ2U6IGZhbHNlLAogICAgICBzaG93VmlwUHJpY2U6IGZhbHNlLAogICAgICBzdG9yZUxhYmVsU2hvdzogZmFsc2UsCiAgICAgIHRhZ1Nob3c6IGZhbHNlLAogICAgICBwcm9kdWN0SWQ6IDAsCiAgICAgIHN0b3JlTGFiZWxMaXN0OiBbXSwKICAgICAgZ29vZHNMYWJlbExpc3Q6IFtdLAogICAgICB0aW1lVmFsOiBbXSwKICAgICAgY29sbGFwc2U6IGZhbHNlLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGUoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5mdWxsUGF0aCA9PT0gdGhpcy4kcm91dGVQcm9TdHIgKyAnL3Byb2R1Y3QvcHJvZHVjdF9saXN0P3R5cGU9NScpIHsKICAgICAgICB0aGlzLmdldFBhdGgoKTsKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmdvb2RIZWFkZSgpOwogICAgdGhpcy5nb29kc0NhdGVnb3J5KCk7CiAgICB0aGlzLmdldExhYmVsTGlzdCgpOwogICAgaWYgKHRoaXMuJHJvdXRlLmZ1bGxQYXRoID09PSB0aGlzLiRyb3V0ZVByb1N0ciArICcvcHJvZHVjdC9wcm9kdWN0X2xpc3Q/dHlwZT01JykgewogICAgICB0aGlzLmdldFBhdGgoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy50aW1lVmFsID0gZTsKICAgICAgdGhpcy5hcnRGcm9tLnRpbWUgPSB0aGlzLnRpbWVWYWwgPyB0aGlzLnRpbWVWYWwuam9pbignLScpIDogJyc7CiAgICAgIHRoaXMuYXJ0RnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOagh+etvuW8ueeql+WFs+mXrQogICAgc3RvcmVMYWJlbENsb3NlKCkgewogICAgICB0aGlzLnN0b3JlTGFiZWxTaG93ID0gZmFsc2U7CiAgICB9LAogICAgZ2V0TGFiZWxMaXN0KCkgewogICAgICBwcm9kdWN0TGFiZWxVc2VMaXN0QXBpKCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICByZXMuZGF0YS5tYXAoKGVsKSA9PiB7CiAgICAgICAgICAgIGlmIChlbC5saXN0ICYmIGVsLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgZWwubGlzdC5tYXAoKGxhYmVsKSA9PiB7CiAgICAgICAgICAgICAgICBsYWJlbC5hY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmdvb2RzTGFiZWxMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvcGVuU3RvcmVMYWJlbChyb3cpIHsKICAgICAgdGhpcy5zdG9yZUxhYmVsU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKChlKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5zdG9yZUxhYmVsLnN0b3JlTGFiZWwoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0b3JlTGFiZWxMaXN0KSkpOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZVN0b3JlTGFiZWwobGFiZWwpIHsKICAgICAgbGV0IGluZGV4ID0gdGhpcy5zdG9yZUxhYmVsTGlzdC5pbmRleE9mKHRoaXMuc3RvcmVMYWJlbExpc3QuZmlsdGVyKChkKSA9PiBkLmlkID09IGxhYmVsLmlkKVswXSk7CiAgICAgIHRoaXMuc3RvcmVMYWJlbExpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5nZXRMYWJlbElkKHRoaXMuc3RvcmVMYWJlbExpc3QpOwogICAgfSwKICAgIGFjdGl2ZVN0b3JlRGF0YShzdG9yZURhdGFMYWJlbCkgewogICAgICB0aGlzLnN0b3JlTGFiZWxTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuc3RvcmVMYWJlbExpc3QgPSBzdG9yZURhdGFMYWJlbDsKICAgICAgdGhpcy5nZXRMYWJlbElkKHN0b3JlRGF0YUxhYmVsKTsKICAgIH0sCiAgICBnZXRMYWJlbElkKHN0b3JlRGF0YUxhYmVsKSB7CiAgICAgIGxldCBzdG9yZUFjdGl2ZUlkcyA9IFtdOwogICAgICBzdG9yZURhdGFMYWJlbC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgc3RvcmVBY3RpdmVJZHMucHVzaChpdGVtLmlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYXJ0RnJvbS5zdG9yZV9sYWJlbF9pZCA9IHN0b3JlQWN0aXZlSWRzOwogICAgICB0aGlzLmFydEZyb20ucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICBhY3Rpdml0eURldGFpbChyb3csIHR5cGUpIHsKICAgICAgbGV0IG5hbWUgPSAnJzsKICAgICAgaWYgKHR5cGUgPT09IDApIHsKICAgICAgICBuYW1lID0gJ21hcmtldGluZ19zdG9yZUJhcmdhaW4nOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHsKICAgICAgICBuYW1lID0gJ21hcmtldGluZ19jb21iaW5hbGlzdCc7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikgewogICAgICAgIG5hbWUgPSAnbWFya2V0aW5nX3N0b3JlU2Vja2lsbCc7CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWUsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9kdWN0X2lkOiByb3cuaWQsCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogICAgb3Blbk1vZGFsKHJvdywgdHlwZSkgewogICAgICB0aGlzLnByb2R1Y3RJZCA9IHJvdy5pZDsKICAgICAgdGhpcy4kcmVmc1t0eXBlXS52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBiYXRjaFN1YigpIHsKICAgICAgbGV0IGRhdGEgPSB0aGlzLmJhdGNoRm9ybURhdGE7CiAgICAgIGRhdGEuaWRzID0gdGhpcy5pZHM7CiAgICAgIGRhdGEudHlwZSA9IHRoaXMuYmF0Y2hUeXBlOwogICAgICBsZXQgYWN0aXZlSWRzID0gW107CiAgICAgIHRoaXMuZGF0YUxhYmVsLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBhY3RpdmVJZHMucHVzaChpdGVtLmlkKTsKICAgICAgfSk7CiAgICAgIGRhdGEubGFiZWxfaWQgPSBhY3RpdmVJZHM7CiAgICAgIGlmICh0aGlzLmJhdGNoVHlwZSA9PSAyICYmICF0aGlzLmJhdGNoRm9ybURhdGEubG9naXN0aWNzLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeeJqea1geaWueW8jycpOwogICAgICB9CiAgICAgIGJhdGNoU2V0dGluZyhkYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICAgIHRoaXMuY2xlYXJCYXRjaERhdGEoZmFsc2UpOwogICAgICAgICAgdGhpcy5pZHMgPSBbXTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyQmF0Y2hEYXRhKHN0YXR1cykgewogICAgICBpZiAoIXN0YXR1cykgewogICAgICAgIHRoaXMuYmF0Y2hGb3JtRGF0YSA9IHsKICAgICAgICAgIGNhdGVfaWQ6IFtdLAogICAgICAgICAgbG9naXN0aWNzOiBbXSwKICAgICAgICAgIGZyZWlnaHQ6IDAsCiAgICAgICAgICBwb3N0YWdlOiBudWxsLAogICAgICAgICAgdGVtcF9pZDogbnVsbCwKICAgICAgICAgIGdpdmVfaW50ZWdyYWw6IG51bGwsCiAgICAgICAgICBsYWJlbF9pZDogW10sCiAgICAgICAgICBjb3Vwb25faWRzOiBbXSwKICAgICAgICAgIHJlY29tbWVuZDogW10sCiAgICAgICAgICBpc19naWZ0OiBudWxsLAogICAgICAgICAgbGFiZWxfbGlzdDogW10sCiAgICAgICAgfTsKICAgICAgICB0aGlzLmRhdGFMYWJlbCA9IFtdOwogICAgICB9CiAgICAgIHRoaXMuYmF0Y2hNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICB9LAogICAgLy8g5om56YeP6K6+572u5ZWG5ZOBCiAgICBiYXRjaFNlbGVjdCh0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKHR5cGUsICd0eXBlJyk7CiAgICAgIGlmICghdGhpcy5pZHMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHkv67mlLnnmoTllYblk4EnKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSA3KSB7CiAgICAgICAgdGhpcy5vbkRpc21vdW50KCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gOCkgewogICAgICAgIHRoaXMub25TaGVsdmVzKCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gOSkgewogICAgICAgIHRoaXMuYmF0Y2hUeXBlID0gdHlwZTsKICAgICAgICB0aGlzLnRhZ1Nob3cgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDExKSB7CiAgICAgICAgdGhpcy5iYXRjaEdvb2RzU2V0dGluZygn5YWo6YOo56e75Yiw5Zue5pS256uZJywgMSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMTIpIHsKICAgICAgICB0aGlzLmJhdGNoR29vZHNTZXR0aW5nKCfmgaLlpI3pgInkuK3llYblk4EnLCAyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZSA9IHR5cGU7CiAgICAgICAgdGhpcy5iYXRjaE1vZGFsID0gdHJ1ZTsKICAgICAgICB0aGlzLnByb2R1Y3RHZXRUZW1wbGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgYmF0Y2hHb29kc1NldHRpbmcodGl0LCB0eXBlKSB7CiAgICAgIGxldCB1cmwgPSB0eXBlID09IDEgPyAncHJvZHVjdC9wcm9kdWN0L2JhdGNoX2RlbGV0ZScgOiAncHJvZHVjdC9wcm9kdWN0L2JhdGNoX3JlY292ZXInOwogICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICB1cmwsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaWRzOiB7CiAgICAgICAgICBpZHM6IHRoaXMuaWRzLAogICAgICAgIH0sCiAgICAgICAgdW46IDEsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmdvb2RIZWFkZSgpOwogICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ29vZHNNb3ZlKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09IDEpIHsKICAgICAgICB0aGlzLm9uSW1wb3J0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vbkV4cG9ydHMoMik7CiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVEYXRhKGRhdGFMYWJlbCkgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGFMYWJlbDsKICAgIH0sCiAgICBuYW1lSWQoaWQsIG5hbWVzKSB7CiAgICAgIHRoaXMuYmF0Y2hGb3JtRGF0YS5jb3Vwb25faWRzID0gaWQ7CiAgICAgIHRoaXMuY291cG9uTmFtZSA9IHRoaXMudW5pcXVlKG5hbWVzKTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZShuYW1lKSB7CiAgICAgIGxldCBpbmRleCA9IHRoaXMuY291cG9uTmFtZS5pbmRleE9mKG5hbWUpOwogICAgICB0aGlzLmNvdXBvbk5hbWUuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuY291cG9uX2lkcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8v5a+56LGh5pWw57uE5Y676YeN77ybCiAgICB1bmlxdWUoYXJyKSB7CiAgICAgIGNvbnN0IHJlcyA9IG5ldyBNYXAoKTsKICAgICAgcmV0dXJuIGFyci5maWx0ZXIoKGFycikgPT4gIXJlcy5oYXMoYXJyLmlkKSAmJiByZXMuc2V0KGFyci5pZCwgMSkpOwogICAgfSwKICAgIC8vIOiOt+WPlui/kOi0ueaooeadv++8mwogICAgcHJvZHVjdEdldFRlbXBsYXRlKCkgewogICAgICBwcm9kdWN0R2V0VGVtcGxhdGVBcGkoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnRlbXBsYXRlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMudGFnU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOmAieaLqeWVhuWTgeagh+etvgogICAgYWN0aXZlR29vZHNMYWJlbChkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEsICdkYXRhJyk7CiAgICAgIHRoaXMudGFnU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmJhdGNoRm9ybURhdGEubGFiZWxfbGlzdCA9IEFycmF5LmZyb20obmV3IFNldChkYXRhKSk7CiAgICAgIHRoaXMuYmF0Y2hTdWIoKTsKICAgIH0sCiAgICBsb29rKHJvdykgewogICAgICB0aGlzLmdvb2RzSWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuaXNQcm9kdWN0Qm94ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnianmtYHmlrnlvI8KICAgIGxvZ2lzdGljc0J0bihlKSB7CiAgICAgIHRoaXMuYmF0Y2hGb3JtRGF0YS5sb2dpc3RpY3MgPSBlOwogICAgfSwKICAgIC8vIOWFs+iBlOeUqOaIt+agh+etvgogICAgb3BlbkxhYmVsKCkgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IHRydWU7CiAgICAgIC8vIHRoaXMuJHJlZnMudXNlckxhYmVsLnNldExhYmVsKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhTGFiZWwpKSk7CiAgICB9LAogICAgY2xvc2VMYWJlbChsYWJlbCkgewogICAgICBsZXQgaW5kZXggPSB0aGlzLmRhdGFMYWJlbC5pbmRleE9mKHRoaXMuZGF0YUxhYmVsLmZpbHRlcigoZCkgPT4gZC5pZCA9PSBsYWJlbC5pZClbMF0pOwogICAgICB0aGlzLmRhdGFMYWJlbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8vIOa3u+WKoOS8mOaDoOWIuAogICAgYWRkQ291cG9uKCkgewogICAgICB0aGlzLiRyZWZzLmNvdXBvblRlbXBsYXRlcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5jb3Vwb25UZW1wbGF0ZXMudGFibGVMaXN0KCk7CiAgICB9LAogICAgZ2V0UGF0aCgpIHsKICAgICAgdGhpcy5hcnRGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLmFydEZyb20udHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUudG9TdHJpbmcoKTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIG9uSW1wb3J0KCkgewogICAgICB0aGlzLmltcG9ydFNob3cgPSB0cnVlOwogICAgfSwKICAgIC8vIOWvvOWHugogICAgYXN5bmMgb25FeHBvcnRzKHR5cGUpIHsKICAgICAgbGV0IFt0aCwgZmlsZWtleSwgZGF0YSwgZmlsZU5hbWVdID0gW1tdLCBbXSwgW10sICcnXTsKICAgICAgbGV0IGV4Y2VsRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hcnRGcm9tKSk7CiAgICAgIGV4Y2VsRGF0YS5wYWdlID0gMTsKICAgICAgZXhjZWxEYXRhLmxpbWl0ID0gNTA7CiAgICAgIGV4Y2VsRGF0YS5pZHMgPSB0aGlzLmlkczsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGNlbERhdGEucGFnZSArIDE7IGkrKykgewogICAgICAgIGxldCBsZWJEYXRhID0gYXdhaXQgdGhpcy5nZXRFeGNlbERhdGEoZXhjZWxEYXRhLCB0eXBlKTsKICAgICAgICBpZiAoIWZpbGVOYW1lKSBmaWxlTmFtZSA9IGxlYkRhdGEuZmlsZW5hbWU7CiAgICAgICAgaWYgKCFmaWxla2V5Lmxlbmd0aCkgewogICAgICAgICAgZmlsZWtleSA9IGxlYkRhdGEuZmlsZUtleTsKICAgICAgICB9CiAgICAgICAgaWYgKCF0aC5sZW5ndGgpIHRoID0gbGViRGF0YS5oZWFkZXI7CiAgICAgICAgaWYgKGxlYkRhdGEuZXhwb3J0Lmxlbmd0aCkgewogICAgICAgICAgZGF0YSA9IGRhdGEuY29uY2F0KGxlYkRhdGEuZXhwb3J0KTsKICAgICAgICAgIGV4Y2VsRGF0YS5wYWdlKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGV4cG9ydEV4Y2VsKHRoLCBmaWxla2V5LCBmaWxlTmFtZSwgZGF0YSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0RXhjZWxEYXRhKGV4Y2VsRGF0YSwgdHlwZSkgewogICAgICBsZXQgZnVuID0gdHlwZSA/IGV4cG9ydFByb2R1Y3RFeHBvcnQgOiBleHBvcnRQcm9kdWN0TGlzdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBmdW4oZXhjZWxEYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBmcmVpZ2h0KCkgewogICAgICB0aGlzLiRyZWZzLnRlbXBsYXRlLmlzVGVtcGxhdGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOaJuemHj+S4iuaetgogICAgb25TaGVsdmVzKCkgewogICAgICBpZiAodGhpcy5pZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHkuIrmnrbnmoTllYblk4EnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGlkczogdGhpcy5pZHMsCiAgICAgICAgfTsKICAgICAgICBwcm9kdWN0U2hvd0FwaShkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIHRoaXMuZ29vZEhlYWRlKCk7CiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmibnph4/kuIvmnrYKICAgIG9uRGlzbW91bnQoKSB7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeS4i+aetueahOWVhuWTgScpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgaWRzOiB0aGlzLmlkcywKICAgICAgICB9OwogICAgICAgIHByb2R1Y3RVbnNob3dBcGkoZGF0YSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICB0aGlzLmFydEZyb20ucGFnZSA9IDE7CiAgICAgICAgICAgIHRoaXMuZ29vZEhlYWRlKCk7CiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgLy8g5YWo6YCJCiAgICAvLyBvblNlbGVjdFRhYiAoc2VsZWN0aW9uKSB7CiAgICAvLyAgICAgbGV0IGRhdGEgPSBbXQogICAgLy8gICAgIHNlbGVjdGlvbi5tYXAoKGl0ZW0pID0+IHsKICAgIC8vICAgICAgICAgZGF0YS5wdXNoKGl0ZW0uaWQpCiAgICAvLyAgICAgfSkKICAgIC8vICAgICB0aGlzLmlkcyA9IGRhdGEKICAgIC8vIH0sCiAgICBnZXRSb3dLZXkocm93KSB7CiAgICAgIHJldHVybiByb3cuaWQ7CiAgICB9LAogICAgLy8gIOmAieS4reafkOS4gOihjAogICAgaGFuZGxlU2VsZWN0Um93KHNlbGVjdGlvbikgewogICAgICBjb25zdCB1bmlxdWVBcnIgPSBbXTsKICAgICAgY29uc3QgaWRzID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgaXRlbSA9IHNlbGVjdGlvbltpXTsKICAgICAgICBpZiAoIWlkcy5pbmNsdWRlcyhpdGVtLmlkKSkgewogICAgICAgICAgdW5pcXVlQXJyLnB1c2goaXRlbSk7CiAgICAgICAgICBpZHMucHVzaChpdGVtLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5pZHMgPSBpZHM7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB1bmlxdWVBcnI7CiAgICB9LAogICAgLy8g5re75Yqg5reY5a6d5ZWG5ZOB5oiQ5YqfCiAgICBvbkNsb3NlKCkgewogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWkjeWItua3mOWunQogICAgb25Db3B5KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL3Byb2R1Y3QvYWRkX3Byb2R1Y3QnLAogICAgICAgIHF1ZXJ5OiB7IHR5cGU6IC0xIH0sCiAgICAgIH0pOwogICAgICAvLyB0aGlzLm1vZGFscyA9IHRydWUKICAgIH0sCiAgICAvLyB0YWLpgInmi6kKICAgIG9uQ2xpY2tUYWIoKSB7CiAgICAgIHRoaXMuYXJ0RnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IFtdOwogICAgICB0aGlzLiRyZWZzLnRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICAvLyDkuIvmi4nmoJEKICAgIGhhbmRsZUNoZWNrQ2hhbmdlKGRhdGEpIHsKICAgICAgbGV0IHZhbHVlID0gJyc7CiAgICAgIGxldCB0aXRsZSA9ICcnOwogICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgdGhpcy5hcnRGcm9tLmNhdGVfaWQgPSAwOwogICAgICBkYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgdmFsdWUgKz0gYCR7aXRlbS5pZH0sYDsKICAgICAgICB0aXRsZSArPSBgJHtpdGVtLnRpdGxlfSxgOwogICAgICB9KTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSk7CiAgICAgIHRpdGxlID0gdGl0bGUuc3Vic3RyaW5nKDAsIHRpdGxlLmxlbmd0aCAtIDEpOwogICAgICB0aGlzLmxpc3QucHVzaCh7CiAgICAgICAgdmFsdWUsCiAgICAgICAgdGl0bGUsCiAgICAgIH0pOwogICAgICB0aGlzLmFydEZyb20uY2F0ZV9pZCA9IHZhbHVlOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g6I635Y+W5ZWG5ZOB6KGo5Y2V5aS05pWw6YePCiAgICBnb29kSGVhZGUoKSB7CiAgICAgIGdldEdvb2RIZWFkZSh0aGlzLmFydEZyb20pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5oZWFkZU51bSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDllYblk4HliIbnsbvvvJsKICAgIGdvb2RzQ2F0ZWdvcnkoKSB7CiAgICAgIGNhc2NhZGVyTGlzdEFwaSgxKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMudHJlZVNlbGVjdCA9IHJlcy5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5ZWG5ZOB5YiX6KGo77ybCiAgICBnZXREYXRhTGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5hcnRGcm9tLmNhdGVfaWQgPSB0aGlzLmFydEZyb20uY2F0ZV9pZCB8fCAnJzsKICAgICAgZ2V0R29vZHModGhpcy5hcnRGcm9tKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgLy/noa7kv51kb23liqDovb3lrozmr5UKICAgICAgICAgICAgLy8gdGhpcy5zZXRDaGVja2VkKCk7CiAgICAgICAgICAgIHRoaXMuc2hvd1NlbGVjdERhdGEoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHNob3dTZWxlY3REYXRhKCkgewogICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5Yik5pat5piv5ZCm5a2Y5Zyo5Yu+6YCJ6L+H55qE5pWw5o2uCiAgICAgICAgdGhpcy50YWJsZUxpc3QuZm9yRWFjaCgocm93KSA9PiB7CiAgICAgICAgICAvLyDojrflj5bmlbDmja7liJfooajmjqXlj6Por7fmsYLliLDnmoTmlbDmja4KICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICAvLyDli77pgInliLDnmoTmlbDmja4KICAgICAgICAgICAgaWYgKHJvdy5pZCA9PT0gaXRlbS5pZCkgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMudGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKGl0ZW0sIHRydWUpOyAvLyDoi6XmnInph43lkIjvvIzliJnlm57mmL7or6XmnaHmlbDmja4KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDooajmoLzmkJzntKIKICAgIHVzZXJTZWFyY2hzKCkgewogICAgICB0aGlzLmFydEZyb20ucGFnZSA9IDE7CiAgICAgIHRoaXMuZ29vZEhlYWRlKCk7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICAvLyDkuIrkuIvmnrYKICAgIGNoYW5nZVN3aXRjaChyb3cpIHsKICAgICAgUG9zdGdvb2RzSXNTaG93KHJvdy5pZCwgcm93LmlzX3Nob3cpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgdGhpcy5nb29kSGVhZGUoKTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICByb3cuaXNfc2hvdyA9ICFyb3cuaXNfc2hvdyA/IDEgOiAwOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmlbDmja7lr7zlh7rvvJsKICAgIGV4cG9ydERhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IHRoID0gWyfllYblk4HlkI3np7AnLCAn5ZWG5ZOB566A5LuLJywgJ+WVhuWTgeWIhuexuycsICfku7fmoLwnLCAn5bqT5a2YJywgJ+mUgOmHjycsICfmlLbol4/kurrmlbAnXTsKICAgICAgbGV0IGZpbHRlclZhbCA9IFsnc3RvcmVfbmFtZScsICdzdG9yZV9pbmZvJywgJ2NhdGVfbmFtZScsICdwcmljZScsICdzdG9jaycsICdzYWxlcycsICdjb2xsZWN0J107CiAgICAgIHRoaXMud2hlcmUucGFnZSA9ICdub3BhZ2UnOwogICAgICBnZXRHb29kcyh0aGlzLndoZXJlKS50aGVuKChyZXMpID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLm1hcCgodikgPT4gZmlsdGVyVmFsLm1hcCgoaykgPT4gdltrXSkpOwogICAgICAgIGxldCBmaWxlVGltZSA9IERhdGUucGFyc2UobmV3IERhdGUoKSk7CiAgICAgICAgbGV0IFtmaWxlTmFtZSwgZmlsZVR5cGUsIHNoZWV0TmFtZV0gPSBbJ+WVhuaIt+aVsOaNrl8nICsgZmlsZVRpbWUsICd4bHN4JywgJ+WVhuaIt+aVsOaNriddOwogICAgICAgIHRvRXhjZWwoeyB0aCwgZGF0YSwgZmlsZU5hbWUsIGZpbGVUeXBlLCBzaGVldE5hbWUgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWxnuaAp+W8ueWHuu+8mwogICAgYXR0clRhcCgpIHsKICAgICAgdGhpcy5hdHRyVGVtcGxhdGUgPSB0cnVlOwogICAgfSwKICAgIGNoYW5nZVRlbXBsYXRlKG1zZykgewogICAgICB0aGlzLmF0dHJUZW1wbGF0ZSA9IG1zZzsKICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL3Byb2R1Y3QvYWRkX3Byb2R1Y3QvJyArIHJvdy5pZCB9KTsKICAgIH0sCiAgICAvLyDnoa7orqQKICAgIGRlbChyb3csIHRpdCwgbnVtKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogYHByb2R1Y3QvcHJvZHVjdC8ke3Jvdy5pZH1gLAogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaWRzOiAnJywKICAgICAgICB1bjogMSwKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0LnNwbGljZShudW0sIDEpOwogICAgICAgICAgdGhpcy5nb29kSGVhZGUoKTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIGZ1bGxEZWwocm93LCB0aXQsIG51bSkgewogICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6IGBwcm9kdWN0L2Z1bGxfZGVsLyR7cm93LmlkfWAsCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0LnNwbGljZShudW0sIDEpOwogICAgICAgICAgdGhpcy5nb29kSGVhZGUoKTsKICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9rgogICAgcmVzZXQobmFtZSkgewogICAgICB0aGlzLmFydEZyb20gPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgY2F0ZV9pZDogJycsCiAgICAgICAgdHlwZTogJzEnLAogICAgICAgIHN0b3JlX25hbWU6ICcnLAogICAgICAgIHNwZWNfdHlwZTogJycsCiAgICAgICAgbG9naXN0aWNzOiAnJywKICAgICAgICB2aXBfcHJvZHVjdDogJycsCiAgICAgICAgaXNfZ2lmdDogJycsCiAgICAgICAgc2FsZXNfczogWycnLCAnJ10sCiAgICAgICAgc3RvY2tfczogWycnLCAnJ10sCiAgICAgICAgcHJpY2VfczogWycnLCAnJ10sCiAgICAgICAgc3RvcmVfbGFiZWxfaWQ6IFtdLAogICAgICAgIHRpbWU6ICcnLAogICAgICAgIHZpcnR1YWxfdHlwZTogJycsCiAgICAgIH07CiAgICAgIHRoaXMuc3RvcmVMYWJlbExpc3QgPSBbXTsKICAgICAgdGhpcy50YWJsZUxpc3QgPSBbXTsKICAgICAgdGhpcy50b3RhbCA9IDA7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/product/productList","sourcesContent":["<template>\n  <div class=\"article-manager\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form ref=\"artFrom\" :model=\"artFrom\" label-width=\"80px\" label-position=\"right\" inline @submit.native.prevent>\n          <div class=\"acea-row search-form\">\n            <div class=\"search-form-box\">\n              <el-form-item label=\"商品搜索：\" label-for=\"store_name\">\n                <el-input\n                  clearable\n                  placeholder=\"请输入商品名称/关键字/ID\"\n                  v-model=\"artFrom.store_name\"\n                  class=\"form_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"商品类型：\">\n                <el-select v-model=\"artFrom.virtual_type\" clearable placeholder=\"全部\" class=\"form_content_width\">\n                  <el-option label=\"全部\" value=\"\" />\n                  <el-option label=\"普通商品\" value=\"0\" />\n                  <el-option label=\"卡密商品\" value=\"1\" />\n                  <el-option label=\"优惠券商品\" value=\"2\" />\n                  <el-option label=\"虚拟商品\" value=\"3\" />\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"商品分类：\" label-for=\"pid\">\n                <el-cascader\n                  v-model=\"artFrom.cate_id\"\n                  size=\"small\"\n                  :options=\"treeSelect\"\n                  :props=\"{ multiple: false, emitPath: false, checkStrictly: true }\"\n                  clearable\n                  class=\"form_content_width\"\n                ></el-cascader>\n              </el-form-item>\n              <el-form-item label=\"配送方式：\">\n                <el-select v-model=\"artFrom.logistics\" clearable placeholder=\"全部\" class=\"form_content_width\">\n                  <el-option label=\"全部\" value=\"\" />\n                  <el-option label=\"快递配送\" value=\"1\" />\n                  <el-option label=\"到店自提\" value=\"2\" />\n                </el-select>\n              </el-form-item>\n              <template v-if=\"collapse\">\n                <el-form-item label=\"商品标签：\" label-for=\"store_name\">\n                  <div class=\"labelInput acea-row row-between-wrapper form_content_width\" @click=\"openStoreLabel\">\n                    <div style=\"width: 90%\">\n                      <div v-if=\"storeLabelList.length\">\n                        <el-tag\n                          class=\"mr5\"\n                          closable\n                          v-for=\"(item, index) in storeLabelList\"\n                          :key=\"index\"\n                          @close=\"closeStoreLabel(item)\"\n                          >{{ item.label_name }}</el-tag\n                        >\n                      </div>\n                      <span class=\"span\" v-else>选择商品标签</span>\n                    </div>\n                    <div class=\"iconfont iconxiayi\"></div>\n                  </div>\n                </el-form-item>\n                <el-form-item label=\"商品规格：\">\n                  <el-select v-model=\"artFrom.spec_type\" clearable placeholder=\"全部\" class=\"form_content_width\">\n                    <el-option label=\"全部\" value=\"\" />\n                    <el-option label=\"单规格\" value=\"0\" />\n                    <el-option label=\"多规格\" value=\"1\" />\n                  </el-select>\n                </el-form-item>\n                <el-form-item label=\"会员专属：\">\n                  <el-select v-model=\"artFrom.vip_product\" clearable placeholder=\"全部\" class=\"form_content_width\">\n                    <el-option label=\"全部\" value=\"\" />\n                    <el-option label=\"否\" value=\"0\" />\n                    <el-option label=\"是\" value=\"1\" />\n                  </el-select>\n                </el-form-item>\n                <el-form-item label=\"是否礼物：\">\n                  <el-select v-model=\"artFrom.is_gift\" clearable placeholder=\"全部\" class=\"form_content_width\">\n                    <el-option label=\"全部\" value=\"\" />\n                    <el-option label=\"否\" value=\"0\" />\n                    <el-option label=\"是\" value=\"1\" />\n                  </el-select>\n                </el-form-item>\n\n                <el-form-item label=\"添加时间：\">\n                  <el-date-picker\n                    class=\"form_range_content_width\"\n                    clearable\n                    v-model=\"timeVal\"\n                    type=\"daterange\"\n                    :editable=\"false\"\n                    @change=\"onchangeTime\"\n                    format=\"yyyy/MM/dd\"\n                    value-format=\"yyyy/MM/dd\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\"\n                    :picker-options=\"pickerOptions\"\n                    style=\"width: 250px\"\n                  ></el-date-picker>\n                </el-form-item>\n                <el-form-item label=\"库存：\" label-for=\"store_name\">\n                  <el-input\n                    clearable\n                    placeholder=\"最小值\"\n                    v-model=\"artFrom.stock_s[0]\"\n                    class=\"form_range_content_width\"\n                  />\n                  ~\n                  <el-input\n                    clearable\n                    placeholder=\"最大值\"\n                    v-model=\"artFrom.stock_s[1]\"\n                    class=\"form_range_content_width\"\n                  />\n                </el-form-item>\n                <el-form-item label=\"价格：\" label-for=\"store_name\">\n                  <el-input\n                    clearable\n                    placeholder=\"最小值\"\n                    v-model=\"artFrom.price_s[0]\"\n                    class=\"form_range_content_width\"\n                  />\n                  ~\n                  <el-input\n                    clearable\n                    placeholder=\"最大值\"\n                    v-model=\"artFrom.price_s[1]\"\n                    class=\"form_range_content_width\"\n                  />\n                </el-form-item>\n                <el-form-item label=\"销量：\" label-for=\"store_name\">\n                  <el-input\n                    clearable\n                    placeholder=\"最小值\"\n                    v-model=\"artFrom.sales_s[0]\"\n                    class=\"form_range_content_width\"\n                  />\n                  ~\n                  <el-input\n                    clearable\n                    placeholder=\"最大值\"\n                    v-model=\"artFrom.sales_s[1]\"\n                    class=\"form_range_content_width\"\n                  />\n                </el-form-item>\n              </template>\n            </div>\n            <div class=\"search-form-sub\">\n              <el-button type=\"primary\" v-db-click @click=\"userSearchs\">查询</el-button>\n              <el-button class=\"ResetSearch\" v-db-click @click=\"reset\">重置</el-button>\n              <a class=\"ivu-ml-8 font12 ml10\" v-db-click @click=\"collapse = !collapse\">\n                <template v-if=\"!collapse\"> 展开 <i class=\"el-icon-arrow-down\" /> </template>\n                <template v-else> 收起 <i class=\"el-icon-arrow-up\" /> </template>\n              </a>\n            </div>\n          </div>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\" :body-style=\"{ padding: '0 20px 20px' }\">\n      <el-tabs v-model=\"artFrom.type\" @tab-click=\"onClickTab\">\n        <el-tab-pane\n          :label=\"item.name + '(' + item.count + ')'\"\n          :name=\"item.type.toString()\"\n          v-for=\"(item, index) in headeNum\"\n          :key=\"index\"\n        />\n      </el-tabs>\n      <div class=\"Button\">\n        <router-link v-auth=\"['product-product-save']\" :to=\"$routeProStr + '/product/add_product'\"\n          ><el-button type=\"primary\" class=\"mr14\">添加商品</el-button></router-link\n        >\n        <el-button v-auth=\"['product-crawl-save']\" type=\"success\" class=\"mr14\" v-db-click @click=\"onCopy\"\n          >商品采集</el-button\n        >\n        <el-dropdown class=\"bnt mr14\" @command=\"batchSelect\">\n          <el-button>批量修改<i class=\"el-icon-arrow-down el-icon--right\"></i></el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item :command=\"1\">商品分类</el-dropdown-item>\n            <el-dropdown-item :command=\"2\">物流设置</el-dropdown-item>\n            <el-dropdown-item :command=\"3\">购买送积分</el-dropdown-item>\n            <el-dropdown-item :command=\"4\">购买送优惠券</el-dropdown-item>\n            <el-dropdown-item :command=\"5\">关联用户标签</el-dropdown-item>\n            <el-dropdown-item :command=\"6\">活动推荐</el-dropdown-item>\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" v-if=\"artFrom.type === '1'\" :command=\"7\"\n              >批量下架</el-dropdown-item\n            >\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" v-if=\"artFrom.type === '2'\" :command=\"8\"\n              >批量上架</el-dropdown-item\n            >\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" :command=\"9\">设置商品标签</el-dropdown-item>\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" :command=\"10\">是否支持送礼</el-dropdown-item>\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" v-if=\"artFrom.type !== '6'\" :command=\"11\"\n              >移到回收站</el-dropdown-item\n            >\n            <el-dropdown-item v-auth=\"['product-product-product_show']\" v-if=\"artFrom.type == '6'\" :command=\"12\"\n              >恢复商品</el-dropdown-item\n            >\n          </el-dropdown-menu>\n        </el-dropdown>\n        <el-dropdown class=\"bnt mr14\" @command=\"goodsMove\">\n          <el-button>商品迁移<i class=\"el-icon-arrow-down el-icon--right\"></i></el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item :command=\"1\">商品导入</el-dropdown-item>\n            <el-dropdown-item :command=\"2\">商品导出</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <el-button v-auth=\"['export-storeProduct']\" class=\"export\" v-db-click @click=\"onExports(0)\">数据导出</el-button>\n      </div>\n      <el-table\n        ref=\"table\"\n        :data=\"tableList\"\n        class=\"ivu-mt mt14\"\n        v-loading=\"loading\"\n        highlight-current-row\n        :row-key=\"getRowKey\"\n        @selection-change=\"handleSelectRow\"\n        empty-text=\"暂无数据\"\n      >\n        <el-table-column type=\"expand\" width=\"50\" v-if=\"['1', '2'].includes(artFrom.type)\">\n          <template slot-scope=\"scope\">\n            <expandRow :row=\"scope.row\"></expandRow>\n          </template>\n        </el-table-column>\n        <el-table-column type=\"selection\" width=\"60\" :reserve-selection=\"true\"> </el-table-column>\n        <el-table-column label=\"商品ID\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品图\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"scope.row.image\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品名称\" min-width=\"250\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.store_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"参与活动\" width=\"90\">\n          <template slot-scope=\"scope\">\n            <el-tag\n              class=\"mb5 cup\"\n              v-if=\"scope.row.activityExist.bargain\"\n              type=\"\"\n              @click=\"activityDetail(scope.row, 0)\"\n              effect=\"dark\"\n            >\n              砍价\n            </el-tag>\n            <el-tag\n              class=\"mb5 cup\"\n              v-if=\"scope.row.activityExist.combination\"\n              type=\"success\"\n              @click=\"activityDetail(scope.row, 1)\"\n              effect=\"dark\"\n            >\n              拼团\n            </el-tag>\n            <el-tag\n              class=\"mb5 cup\"\n              v-if=\"scope.row.activityExist.seckill\"\n              type=\"warning\"\n              @click=\"activityDetail(scope.row, 2)\"\n              effect=\"dark\"\n            >\n              秒杀\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品类型\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.product_type }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品售价\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"销量\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.sales }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"库存\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.stock }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"排序\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.sort }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"状态\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              class=\"defineSwitch\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n              v-model=\"scope.row.is_show\"\n              :value=\"scope.row.is_show\"\n              :disabled=\"scope.row.stop_status ? true : false\"\n              @change=\"changeSwitch(scope.row)\"\n              size=\"large\"\n              active-text=\"上架\"\n              inactive-text=\"下架\"\n            >\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" minWidth=\"100\">\n          <template slot-scope=\"scope\">\n            <!-- <a v-db-click @click=\"look(scope.row)\">查看</a>\n            <el-divider direction=\"vertical\"></el-divider> -->\n            <a v-db-click @click=\"edit(scope.row)\">编辑</a>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-dropdown size=\"small\">\n              <span class=\"el-dropdown-link\">更多<i class=\"el-icon-arrow-down el-icon--right\"></i> </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item>\n                  <router-link :to=\"{ path: $routeProStr + '/product/product_reply/' + scope.row.id }\"\n                    ><a>查看评论</a></router-link\n                  >\n                </el-dropdown-item>\n                <el-dropdown-item v-db-click @click.native=\"openModal(scope.row, 'vipPriceSet')\"\n                  >会员价管理</el-dropdown-item\n                >\n                <el-dropdown-item v-db-click @click.native=\"openModal(scope.row, 'brokerageSet')\"\n                  >佣金管理</el-dropdown-item\n                >\n                <el-dropdown-item\n                  v-if=\"artFrom.type === '6'\"\n                  v-db-click\n                  @click.native=\"del(scope.row, '恢复商品', scope.$index)\"\n                  >恢复商品</el-dropdown-item\n                >\n                <el-dropdown-item\n                  v-if=\"artFrom.type === '6'\"\n                  v-db-click\n                  @click.native=\"fullDel(scope.row, '彻底删除', scope.$index)\"\n                  >彻底删除</el-dropdown-item\n                >\n                <el-dropdown-item v-else v-db-click @click.native=\"del(scope.row, '移入回收站', scope.$index)\"\n                  >移到回收站</el-dropdown-item\n                >\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"artFrom.page\"\n          :limit.sync=\"artFrom.limit\"\n          @pagination=\"getDataList\"\n        />\n      </div>\n      <attribute :attrTemplate=\"attrTemplate\" v-on:changeTemplate=\"changeTemplate\"></attribute>\n    </el-card>\n    <!-- 生成淘宝京东表单-->\n    <el-dialog\n      :visible.sync=\"modals\"\n      class=\"Box\"\n      title=\"复制淘宝、天猫、京东、苏宁、1688\"\n      :close-on-click-modal=\"false\"\n      width=\"720px\"\n    >\n      <tao-bao ref=\"taobaos\" v-if=\"modals\" @on-close=\"onClose\"></tao-bao>\n    </el-dialog>\n    <el-dialog\n      :visible.sync=\"batchModal\"\n      class=\"batch-box\"\n      title=\"批量设置\"\n      :show-close=\"true\"\n      :close-on-click-modal=\"false\"\n      width=\"540px\"\n    >\n      <el-form\n        class=\"batchFormData\"\n        ref=\"batchFormData\"\n        :rules=\"ruleBatch\"\n        :model=\"batchFormData\"\n        label-width=\"90px\"\n        label-position=\"right\"\n        @submit.native.prevent\n      >\n        <el-row :gutter=\"24\">\n          <el-col :span=\"24\" v-if=\"batchType == 1\">\n            <!--            <el-divider content-position=\"left\">基础设置</el-divider>-->\n            <el-form-item label=\"商品分类：\" prop=\"cate_id\">\n              <!-- <el-select v-model=\"batchFormData.cate_id\" placeholder=\"请选择商品分类\" multiple class=\"perW20\">\n                <el-option v-for=\"item in treeSelect\" :disabled=\"item.pid === 0\" :value=\"item.id\" :key=\"item.id\">{{\n                  item.html + item.cate_name\n                }}</el-option>\n              </el-select> -->\n              <el-cascader\n                v-model=\"batchFormData.cate_id\"\n                size=\"small\"\n                :options=\"treeSelect\"\n                :props=\"{ multiple: true, emitPath: false, checkStrictly: true }\"\n                clearable\n                style=\"width: 400px\"\n              ></el-cascader>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\" v-if=\"batchType == 2\">\n            <el-form-item label=\"物流方式：\" prop=\"logistics\">\n              <el-checkbox-group v-model=\"batchFormData.logistics\" @change=\"logisticsBtn\">\n                <el-checkbox label=\"1\">快递</el-checkbox>\n                <el-checkbox label=\"2\">到店</el-checkbox>\n              </el-checkbox-group>\n            </el-form-item>\n            <el-form-item label=\"运费设置：\">\n              <el-radio-group v-model=\"batchFormData.freight\">\n                <!-- <el-radio :label=\"1\">包邮</el-radio> -->\n                <el-radio :label=\"2\">固定邮费</el-radio>\n                <el-radio :label=\"3\">运费模板</el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"\" v-if=\"batchFormData.freight == 2\">\n              <div class=\"acea-row\">\n                <el-input-number\n                  :controls=\"false\"\n                  :min=\"0\"\n                  v-model=\"batchFormData.postage\"\n                  placeholder=\"请输入金额\"\n                  class=\"perW20 maxW\"\n                />\n              </div>\n            </el-form-item>\n            <el-form-item label=\"\" v-if=\"batchFormData.freight == 3\" prop=\"temp_id\">\n              <div class=\"acea-row\">\n                <el-select v-model=\"batchFormData.temp_id\" clearable placeholder=\"请选择运费模板\" style=\"width: 414px\">\n                  <el-option\n                    v-for=\"(item, index) in templateList\"\n                    :value=\"item.id\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                  ></el-option>\n                </el-select>\n              </div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\" v-if=\"[3, 4, 5, 6].includes(batchType)\">\n            <!--            <el-divider content-position=\"left\" v-if=\"[3, 4, 5, 6].includes(batchType)\">营销设置</el-divider>-->\n            <el-form-item label=\"赠送积分：\" prop=\"give_integral\" v-if=\"batchType == 3\">\n              <el-input-number\n                :controls=\"false\"\n                v-model=\"batchFormData.give_integral\"\n                :min=\"0\"\n                :max=\"9999999999\"\n                placeholder=\"请输入积分\"\n                style=\"width: 100%\"\n              />\n            </el-form-item>\n            <el-form-item label=\"赠送优惠券：\" v-if=\"batchType == 4\">\n              <div v-if=\"couponName.length\" class=\"mb20\">\n                <el-tag closable v-for=\"(item, index) in couponName\" :key=\"index\" @close=\"handleClose(item)\">{{\n                  item.title\n                }}</el-tag>\n              </div>\n              <el-button type=\"primary\" v-db-click @click=\"addCoupon\">添加优惠券</el-button>\n            </el-form-item>\n            <el-form-item label=\"关联标签：\" prop=\"label_id\" v-if=\"batchType == 5\">\n              <div class=\"acea-row label_width\">\n                <div class=\"labelInput acea-row row-between-wrapper\" v-db-click @click=\"openLabel\">\n                  <div style=\"width: auto\">\n                    <div v-if=\"dataLabel.length\">\n                      <el-tag\n                        class=\"m-r-2\"\n                        closable\n                        v-for=\"(item, index) in dataLabel\"\n                        @close=\"closeLabel(item)\"\n                        :key=\"index\"\n                        >{{ item.label_name }}</el-tag\n                      >\n                    </div>\n                    <span class=\"span\" v-else>选择用户关联标签</span>\n                  </div>\n                  <div class=\"iconfont iconxiayi\"></div>\n                </div>\n              </div>\n            </el-form-item>\n            <el-form-item label=\"商品推荐：\" v-if=\"batchType == 6\">\n              <el-checkbox-group v-model=\"batchFormData.recommend\">\n                <el-checkbox label=\"is_hot\">热卖单品</el-checkbox>\n                <!-- <el-checkbox label=\"is_benefit\">促销单品</el-checkbox> -->\n                <el-checkbox label=\"is_best\">精品推荐</el-checkbox>\n                <el-checkbox label=\"is_new\">首发新品</el-checkbox>\n                <el-checkbox label=\"is_good\">优品推荐</el-checkbox>\n              </el-checkbox-group>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\" v-if=\"batchType == 10\">\n            <el-form-item label=\"开启送礼：\">\n              <el-switch\n                v-model=\"batchFormData.is_gift\"\n                class=\"defineSwitch\"\n                active-text=\"开启\"\n                inactive-text=\"关闭\"\n                :active-value=\"1\"\n                :inactive-value=\"0\"\n                size=\"large\"\n              >\n              </el-switch>\n              <div class=\"tips-info\">开启送礼后，移动端商品详情的底部菜单显示送礼按钮</div>\n            </el-form-item>\n            <el-form-item v-if=\"batchFormData.is_gift\" label=\"礼品附加费：\">\n              <el-input-number\n                :controls=\"false\"\n                :min=\"0\"\n                :max=\"100000\"\n                v-model=\"batchFormData.gift_price\"\n                placeholder=\"礼品附加费\"\n                class=\"input-number-unit-class\"\n                class-unit=\"元\"\n              />\n              <div class=\"tips-info\">送礼下单时，订单默认无运费，此费用可用于负担商品运费、产品包装等附加费用</div>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button v-db-click @click=\"clearBatchData\">取 消</el-button>\n        <el-button type=\"primary\" v-db-click @click=\"batchSub\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 商品标签 -->\n    <el-dialog\n      :visible.sync=\"tagShow\"\n      title=\"请选择商品标签\"\n      :show-close=\"true\"\n      width=\"540px\"\n      :close-on-click-modal=\"false\"\n    >\n      <goodsLabel\n        ref=\"goodsLabel\"\n        :defaultLabelList=\"goodsLabelList\"\n        @activeLabel=\"activeGoodsLabel\"\n        @close=\"labelClose\"\n      ></goodsLabel>\n    </el-dialog>\n    <!-- 用户标签 -->\n    <el-dialog\n      :visible.sync=\"labelShow\"\n      title=\"请选择用户标签\"\n      width=\"540px\"\n      :show-close=\"true\"\n      :close-on-click-modal=\"false\"\n    >\n      <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n    </el-dialog>\n    <!-- 商品弹窗 -->\n    <div v-if=\"isProductBox\">\n      <div class=\"bg\" v-db-click @click=\"isProductBox = false\"></div>\n      <goodsDetail :goodsId=\"goodsId\"></goodsDetail>\n    </div>\n    <coupon-list ref=\"couponTemplates\" @nameId=\"nameId\" :couponids=\"batchFormData.coupon_ids\"></coupon-list>\n    <!-- 商品导入 -->\n    <el-dialog\n      :visible.sync=\"importShow\"\n      title=\"商品导入\"\n      width=\"900px\"\n      :show-close=\"true\"\n      :close-on-click-modal=\"false\"\n    >\n      <goodsImport v-if=\"importShow\" @close=\"importShow = false\"></goodsImport>\n    </el-dialog>\n    <brokerageSet ref=\"brokerageSet\" :productId=\"productId\"></brokerageSet>\n    <vipPriceSet ref=\"vipPriceSet\" :productId=\"productId\"></vipPriceSet>\n    <!-- 商品标签 -->\n    <el-dialog :visible.sync=\"storeLabelShow\" title=\"选择商品标签\" width=\"540\">\n      <storeLabelList\n        v-if=\"storeLabelShow\"\n        ref=\"storeLabel\"\n        @activeData=\"activeStoreData\"\n        @close=\"storeLabelClose\"\n      ></storeLabelList>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport expandRow from './tableExpand.vue';\nimport attribute from './attribute';\nimport toExcel from '../../../utils/Excel.js';\nimport { mapState } from 'vuex';\nimport taoBao from './taoBao';\nimport goodsDetail from './components/goodsDetail.vue';\nimport couponList from '@/components/couponList';\nimport { exportProductList, exportProductExport } from '@/api/export';\nimport settings from '@/setting';\nimport goodsImport from './components/goodsImport.vue';\nimport brokerageSet from '../components/brokerageSet.vue';\nimport vipPriceSet from '../components/vipPriceSet.vue';\nimport {\n  getGoodHeade,\n  getGoods,\n  PostgoodsIsShow,\n  cascaderListApi, // 分类列表\n  productShowApi,\n  productUnshowApi,\n  storeProductApi,\n  batchSetting,\n  productGetTemplateApi,\n  productLabelUseListApi,\n  productBatchDelete,\n} from '@/api/product';\nimport userLabel from '@/components/labelList';\nimport storeLabelList from '@/components/storeLabelList';\nimport goodsLabel from '@/components/goodsLabel';\n\nexport default {\n  name: 'product_productList',\n  components: {\n    expandRow,\n    attribute,\n    taoBao,\n    goodsDetail,\n    userLabel,\n    couponList,\n    goodsImport,\n    brokerageSet,\n    vipPriceSet,\n    storeLabelList,\n    goodsLabel,\n  },\n  computed: {\n    ...mapState('userLevel', ['categoryId']),\n  },\n  data() {\n    return {\n      routePre: settings.routePre,\n      pickerOptions: this.$timeOptions,\n      template: false,\n      modals: false,\n      importShow: false,\n      batchModal: false,\n      labelShow: false,\n      batchType: 1, // 批量设置类型\n      batchFormData: {\n        cate_id: [],\n        logistics: [],\n        freight: 2,\n        postage: 0,\n        temp_id: null,\n        give_integral: 0,\n        label_id: [],\n        coupon_ids: [],\n        recommend: [],\n      },\n      ruleBatch: {},\n      couponName: [], // 优惠券\n      dataLabel: [], // 标签\n      templateList: [], // 运费模版\n      grid: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      artFrom: {\n        page: 1,\n        limit: 15,\n        cate_id: '',\n        type: '1',\n        store_name: '',\n        spec_type: '',\n        logistics: '',\n        vip_product: '',\n        is_gift: '',\n        sales_s: ['', ''],\n        stock_s: ['', ''],\n        price_s: ['', ''],\n        store_label_id: [],\n        time: '',\n        virtual_type: '',\n      },\n      list: [],\n      tableList: [],\n      headeNum: [],\n      loading: false,\n      data: [],\n      total: 0,\n      attrTemplate: false,\n      ids: [],\n      goodsId: '',\n      isProductBox: false,\n      treeSelect: [],\n      multipleSelection: [],\n      showBrokerage: false,\n      showVipPrice: false,\n      storeLabelShow: false,\n      tagShow: false,\n      productId: 0,\n      storeLabelList: [],\n      goodsLabelList: [],\n      timeVal: [],\n      collapse: false,\n    };\n  },\n  watch: {\n    $route() {\n      if (this.$route.fullPath === this.$routeProStr + '/product/product_list?type=5') {\n        this.getPath();\n      }\n    },\n  },\n  created() {},\n  activated() {\n    this.goodHeade();\n    this.goodsCategory();\n    this.getLabelList();\n    if (this.$route.fullPath === this.$routeProStr + '/product/product_list?type=5') {\n      this.getPath();\n    } else {\n      this.getDataList();\n    }\n  },\n  methods: {\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.artFrom.time = this.timeVal ? this.timeVal.join('-') : '';\n      this.artFrom.page = 1;\n      this.getDataList();\n    },\n    // 标签弹窗关闭\n    storeLabelClose() {\n      this.storeLabelShow = false;\n    },\n    getLabelList() {\n      productLabelUseListApi()\n        .then((res) => {\n          res.data.map((el) => {\n            if (el.list && el.list.length) {\n              el.list.map((label) => {\n                label.active = false;\n              });\n            }\n          });\n          this.goodsLabelList = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    openStoreLabel(row) {\n      this.storeLabelShow = true;\n      this.$nextTick((e) => {\n        this.$refs.storeLabel.storeLabel(JSON.parse(JSON.stringify(this.storeLabelList)));\n      });\n    },\n    closeStoreLabel(label) {\n      let index = this.storeLabelList.indexOf(this.storeLabelList.filter((d) => d.id == label.id)[0]);\n      this.storeLabelList.splice(index, 1);\n      this.getLabelId(this.storeLabelList);\n    },\n    activeStoreData(storeDataLabel) {\n      this.storeLabelShow = false;\n      this.storeLabelList = storeDataLabel;\n      this.getLabelId(storeDataLabel);\n    },\n    getLabelId(storeDataLabel) {\n      let storeActiveIds = [];\n      storeDataLabel.forEach((item) => {\n        storeActiveIds.push(item.id);\n      });\n      this.artFrom.store_label_id = storeActiveIds;\n      this.artFrom.page = 1;\n      this.getDataList();\n    },\n    activityDetail(row, type) {\n      let name = '';\n      if (type === 0) {\n        name = 'marketing_storeBargain';\n      } else if (type === 1) {\n        name = 'marketing_combinalist';\n      } else if (type === 2) {\n        name = 'marketing_storeSeckill';\n      }\n      this.$router.push({\n        name,\n        params: {\n          product_id: row.id,\n        },\n      });\n    },\n    openModal(row, type) {\n      this.productId = row.id;\n      this.$refs[type].visible = true;\n    },\n    batchSub() {\n      let data = this.batchFormData;\n      data.ids = this.ids;\n      data.type = this.batchType;\n      let activeIds = [];\n      this.dataLabel.forEach((item) => {\n        activeIds.push(item.id);\n      });\n      data.label_id = activeIds;\n      if (this.batchType == 2 && !this.batchFormData.logistics.length) {\n        return this.$message.warning('请选择物流方式');\n      }\n      batchSetting(data)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getDataList();\n          this.clearBatchData(false);\n          this.ids = [];\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n    clearBatchData(status) {\n      if (!status) {\n        this.batchFormData = {\n          cate_id: [],\n          logistics: [],\n          freight: 0,\n          postage: null,\n          temp_id: null,\n          give_integral: null,\n          label_id: [],\n          coupon_ids: [],\n          recommend: [],\n          is_gift: null,\n          label_list: [],\n        };\n        this.dataLabel = [];\n      }\n      this.batchModal = false;\n      this.$refs.table.clearSelection();\n    },\n    // 批量设置商品\n    batchSelect(type) {\n      console.log(type, 'type');\n      if (!this.ids.length) {\n        this.$message.warning('请选择要修改的商品');\n      } else if (type === 7) {\n        this.onDismount();\n      } else if (type === 8) {\n        this.onShelves();\n      } else if (type === 9) {\n        this.batchType = type;\n        this.tagShow = true;\n      } else if (type === 11) {\n        this.batchGoodsSetting('全部移到回收站', 1);\n      } else if (type === 12) {\n        this.batchGoodsSetting('恢复选中商品', 2);\n      } else {\n        this.batchType = type;\n        this.batchModal = true;\n        this.productGetTemplate();\n      }\n    },\n    batchGoodsSetting(tit, type) {\n      let url = type == 1 ? 'product/product/batch_delete' : 'product/product/batch_recover';\n      let delfromData = {\n        title: tit,\n        url,\n        method: 'post',\n        ids: {\n          ids: this.ids,\n        },\n        un: 1,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.goodHeade();\n          this.getDataList();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    goodsMove(type) {\n      if (type === 1) {\n        this.onImport();\n      } else {\n        this.onExports(2);\n      }\n    },\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    nameId(id, names) {\n      this.batchFormData.coupon_ids = id;\n      this.couponName = this.unique(names);\n    },\n    handleClose(name) {\n      let index = this.couponName.indexOf(name);\n      this.couponName.splice(index, 1);\n      this.formValidate.coupon_ids.splice(index, 1);\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1));\n    },\n    // 获取运费模板；\n    productGetTemplate() {\n      productGetTemplateApi().then((res) => {\n        this.templateList = res.data;\n      });\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n      this.tagShow = false;\n    },\n    // 选择商品标签\n    activeGoodsLabel(data) {\n      console.log(data, 'data');\n      this.tagShow = false;\n      this.batchFormData.label_list = Array.from(new Set(data));\n      this.batchSub();\n    },\n    look(row) {\n      this.goodsId = row.id;\n      this.isProductBox = true;\n    },\n    // 物流方式\n    logisticsBtn(e) {\n      this.batchFormData.logistics = e;\n    },\n    // 关联用户标签\n    openLabel() {\n      this.labelShow = true;\n      // this.$refs.userLabel.setLabel(JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    // 添加优惠券\n    addCoupon() {\n      this.$refs.couponTemplates.isTemplate = true;\n      this.$refs.couponTemplates.tableList();\n    },\n    getPath() {\n      this.artFrom.page = 1;\n      this.artFrom.type = this.$route.query.type.toString();\n      this.getDataList();\n    },\n    onImport() {\n      this.importShow = true;\n    },\n    // 导出\n    async onExports(type) {\n      let [th, filekey, data, fileName] = [[], [], [], ''];\n      let excelData = JSON.parse(JSON.stringify(this.artFrom));\n      excelData.page = 1;\n      excelData.limit = 50;\n      excelData.ids = this.ids;\n      for (let i = 0; i < excelData.page + 1; i++) {\n        let lebData = await this.getExcelData(excelData, type);\n        if (!fileName) fileName = lebData.filename;\n        if (!filekey.length) {\n          filekey = lebData.fileKey;\n        }\n        if (!th.length) th = lebData.header;\n        if (lebData.export.length) {\n          data = data.concat(lebData.export);\n          excelData.page++;\n        } else {\n          this.$exportExcel(th, filekey, fileName, data);\n          return;\n        }\n      }\n    },\n    getExcelData(excelData, type) {\n      let fun = type ? exportProductExport : exportProductList;\n      return new Promise((resolve, reject) => {\n        fun(excelData).then((res) => {\n          resolve(res.data);\n        });\n      });\n    },\n    freight() {\n      this.$refs.template.isTemplate = true;\n    },\n    // 批量上架\n    onShelves() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要上架的商品');\n      } else {\n        let data = {\n          ids: this.ids,\n        };\n        productShowApi(data)\n          .then((res) => {\n            this.$message.success(res.msg);\n            this.goodHeade();\n            this.getDataList();\n          })\n          .catch((res) => {\n            this.$message.error(res.msg);\n          });\n      }\n    },\n    // 批量下架\n    onDismount() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要下架的商品');\n      } else {\n        let data = {\n          ids: this.ids,\n        };\n        productUnshowApi(data)\n          .then((res) => {\n            this.$message.success(res.msg);\n            this.artFrom.page = 1;\n            this.goodHeade();\n            this.getDataList();\n          })\n          .catch((res) => {\n            this.$message.error(res.msg);\n          });\n      }\n    },\n\n    // 全选\n    // onSelectTab (selection) {\n    //     let data = []\n    //     selection.map((item) => {\n    //         data.push(item.id)\n    //     })\n    //     this.ids = data\n    // },\n    getRowKey(row) {\n      return row.id;\n    },\n    //  选中某一行\n    handleSelectRow(selection) {\n      const uniqueArr = [];\n      const ids = [];\n      for (let i = 0; i < selection.length; i++) {\n        const item = selection[i];\n        if (!ids.includes(item.id)) {\n          uniqueArr.push(item);\n          ids.push(item.id);\n        }\n      }\n      this.ids = ids;\n      this.multipleSelection = uniqueArr;\n    },\n    // 添加淘宝商品成功\n    onClose() {\n      this.modals = false;\n    },\n    // 复制淘宝\n    onCopy() {\n      this.$router.push({\n        path: this.$routeProStr + '/product/add_product',\n        query: { type: -1 },\n      });\n      // this.modals = true\n    },\n    // tab选择\n    onClickTab() {\n      this.artFrom.page = 1;\n      this.multipleSelection = [];\n      this.$refs.table.clearSelection();\n      this.getDataList();\n    },\n    // 下拉树\n    handleCheckChange(data) {\n      let value = '';\n      let title = '';\n      this.list = [];\n      this.artFrom.cate_id = 0;\n      data.forEach((item, index) => {\n        value += `${item.id},`;\n        title += `${item.title},`;\n      });\n      value = value.substring(0, value.length - 1);\n      title = title.substring(0, title.length - 1);\n      this.list.push({\n        value,\n        title,\n      });\n      this.artFrom.cate_id = value;\n      this.getDataList();\n    },\n    // 获取商品表单头数量\n    goodHeade() {\n      getGoodHeade(this.artFrom)\n        .then((res) => {\n          this.headeNum = res.data.list;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 商品分类；\n    goodsCategory() {\n      cascaderListApi(1)\n        .then((res) => {\n          this.treeSelect = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 商品列表；\n    getDataList() {\n      this.loading = true;\n      this.artFrom.cate_id = this.artFrom.cate_id || '';\n      getGoods(this.artFrom)\n        .then((res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.$nextTick(() => {\n            //确保dom加载完毕\n            // this.setChecked();\n            this.showSelectData();\n          });\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    showSelectData() {\n      if (this.multipleSelection.length > 0) {\n        // 判断是否存在勾选过的数据\n        this.tableList.forEach((row) => {\n          // 获取数据列表接口请求到的数据\n          this.multipleSelection.forEach((item) => {\n            // 勾选到的数据\n            if (row.id === item.id) {\n              this.$refs.table.toggleRowSelection(item, true); // 若有重合，则回显该条数据\n            }\n          });\n        });\n      }\n    },\n    // 表格搜索\n    userSearchs() {\n      this.artFrom.page = 1;\n      this.goodHeade();\n      this.getDataList();\n    },\n    // 上下架\n    changeSwitch(row) {\n      PostgoodsIsShow(row.id, row.is_show)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.goodHeade();\n          this.getDataList();\n        })\n        .catch((res) => {\n          row.is_show = !row.is_show ? 1 : 0;\n          this.$message.error(res.msg);\n        });\n    },\n    // 数据导出；\n    exportData: function () {\n      let th = ['商品名称', '商品简介', '商品分类', '价格', '库存', '销量', '收藏人数'];\n      let filterVal = ['store_name', 'store_info', 'cate_name', 'price', 'stock', 'sales', 'collect'];\n      this.where.page = 'nopage';\n      getGoods(this.where).then((res) => {\n        let data = res.data.map((v) => filterVal.map((k) => v[k]));\n        let fileTime = Date.parse(new Date());\n        let [fileName, fileType, sheetName] = ['商户数据_' + fileTime, 'xlsx', '商户数据'];\n        toExcel({ th, data, fileName, fileType, sheetName });\n      });\n    },\n    // 属性弹出；\n    attrTap() {\n      this.attrTemplate = true;\n    },\n    changeTemplate(msg) {\n      this.attrTemplate = msg;\n    },\n    // 编辑\n    edit(row) {\n      this.$router.push({ path: this.$routeProStr + '/product/add_product/' + row.id });\n    },\n    // 确认\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `product/product/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n        un: 1,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.tableList.splice(num, 1);\n          this.goodHeade();\n          this.getDataList();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    fullDel(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `product/full_del/${row.id}`,\n        method: 'DELETE',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.tableList.splice(num, 1);\n          this.goodHeade();\n          this.getDataList();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 重置\n    reset(name) {\n      this.artFrom = {\n        page: 1,\n        limit: 15,\n        cate_id: '',\n        type: '1',\n        store_name: '',\n        spec_type: '',\n        logistics: '',\n        vip_product: '',\n        is_gift: '',\n        sales_s: ['', ''],\n        stock_s: ['', ''],\n        price_s: ['', ''],\n        store_label_id: [],\n        time: '',\n        virtual_type: '',\n      };\n      this.storeLabelList = [];\n      this.tableList = [];\n      this.total = 0;\n      this.timeVal = [];\n      this.getDataList();\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n::v-deep .ivu-modal-mask {\n  z-index: 999 !important;\n}\n\n::v-deep .ivu-modal-wrap {\n  z-index: 999 !important;\n}\n\n.Box {\n  ::v-deep .ivu-modal-body {\n    height: 700px;\n    overflow: auto;\n  }\n}\n\n.batch-box {\n  ::v-deep .ivu-modal-body {\n    overflow: auto;\n    min-height: 350px;\n  }\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.bg {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 11;\n}\n\n::v-deep .happy-scroll-content {\n  width: 100%;\n\n  .demo-spin-icon-load {\n    animation: ani-demo-spin 1s linear infinite;\n  }\n\n  @keyframes ani-demo-spin {\n    from {\n      transform: rotate(0deg);\n    }\n\n    50% {\n      transform: rotate(180deg);\n    }\n\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  .demo-spin-col {\n    height: 100px;\n    position: relative;\n    border: 1px solid #eee;\n  }\n}\n\n.labelInput {\n  border: 1px solid #dcdee2;\n  padding: 0 15px 0 10px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n  font-size: 12px;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .iconxiayi {\n    margin-left: 5px;\n    font-size: 12px;\n  }\n}\n.el-dropdown-link {\n  cursor: pointer;\n  color: var(--prev-color-primary);\n  font-size: 12px;\n}\n.el-icon-arrow-down {\n  font-size: 12px;\n}\n.el-dropdown-menu__item {\n  a {\n    color: #606266;\n  }\n}\n.label_width {\n  width: 400px;\n}\n.search-form {\n  display: flex;\n  justify-content: space-between;\n  .search-form-box {\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1;\n  }\n  .search-form-sub {\n    display: flex;\n    align-items: baseline;\n  }\n}\n</style>\n"]}]}