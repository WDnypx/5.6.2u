{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\mobile\\goods\\list.vue?vue&type=style&index=1&id=c94df23c&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\mobile\\goods\\list.vue","mtime":1731313973070},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wcm9kdWN0X2luZm8gewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBoZWlnaHQ6IDEwMHZoOwogIC5oZWFkIHsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAudGFiLWJveCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgaGVpZ2h0OiAwLjhyZW07CiAgICAgIHBhZGRpbmc6IDAgMS40NnJlbTsKICAgICAgLnRhYi1pdGVtIHsKICAgICAgICBoZWlnaHQ6IDAuOHJlbTsKICAgICAgICBsaW5lLWhlaWdodDogMC44cmVtOwogICAgICAgIHBhZGRpbmc6IDAgMC4xNXJlbTsKICAgICAgICBmb250LXNpemU6IDAuMjhyZW07CiAgICAgICAgY29sb3I6ICMyODI4Mjg7CiAgICAgICAgJi5vbiB7CiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzM4NzVlYTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC5zZWFyY2gtYm94IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgaGVpZ2h0OiAxLjI4cmVtOwogICAgICBwYWRkaW5nOiAwIDAuM3JlbTsKICAgICAgaW5wdXQgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMC42OHJlbTsKICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuN3JlbTsKICAgICAgICBiYWNrZ3JvdW5kOiAjZjVmNmY5OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMzlyZW07CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAvKmJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vc3RhdGljL3NlYXJjaC5wbmciKTsqLwogICAgICB9CiAgICB9CiAgfQogIC5zY3JvbGwtYm94IHsKICAgIGZsZXg6IDE7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgLmdvb2RzLWl0ZW0gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBwYWRkaW5nOiAwLjNyZW07CiAgICAgIG1hcmdpbi10b3A6IDAuMTVyZW07CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDEuN3JlbTsKICAgICAgICBoZWlnaHQ6IDEuN3JlbTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwLjA2cmVtOwogICAgICB9CiAgICAgIC5pbmZvIHsKICAgICAgICB3aWR0aDogMy4yNnJlbTsKICAgICAgICBtYXJnaW4tbGVmdDogMC4yMnJlbTsKICAgICAgICAudGl0bGUgewogICAgICAgICAgZm9udC1zaXplOiAwLjI4cmVtOwogICAgICAgICAgY29sb3I6ICMyODI4Mjg7CiAgICAgICAgfQogICAgICAgIC5udW0gewogICAgICAgICAgbWFyZ2luLXRvcDogMC4xcmVtOwogICAgICAgICAgZm9udC1zaXplOiAwLjI0cmVtOwogICAgICAgICAgY29sb3I6ICM5ZjlmOWY7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5yaWdodCB7CiAgICAgICAgZmxleDogMTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIG1hcmdpbi1sZWZ0OiAwLjM2cmVtOwogICAgICAgIC5wcmljZSB7CiAgICAgICAgICBjb2xvcjogI2Y3NGMzMTsKICAgICAgICB9CiAgICAgICAgLmJ0biB7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIGhlaWdodDogMC42cmVtOwogICAgICAgICAgbGluZS1oZWlnaHQ6IDAuNnJlbTsKICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgYmFja2dyb3VuZDogIzM4NzVlYTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMDZyZW07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/pages/kefu/mobile/goods","sourcesContent":["<template>\n  <div class=\"product_info\">\n    <div class=\"head\">\n      <div class=\"tab-box\">\n        <div\n          class=\"tab-item\"\n          :class=\"{ on: index == tabCur }\"\n          v-for=\"(item, index) in tabList\"\n          :key=\"index\"\n          v-db-click\n          @click=\"bindTab(item)\"\n        >\n          {{ item.title }}\n        </div>\n      </div>\n      <div class=\"search-box\">\n        <el-input\n          type=\"text\"\n          placeholder=\"搜索商品名称/ID\"\n          v-model=\"searchTxt\"\n          style=\"border-radius: 0.39rem; background: #f5f6f9\"\n          :search=\"true\"\n          @on-search=\"bindSearch\"\n        />\n      </div>\n    </div>\n    <div class=\"scroll-box\" v-if=\"list.length > 0\">\n      <vue-scroll :ops=\"ops\">\n        <div class=\"goods-item\" v-for=\"(item, index) in list\" :key=\"index\">\n          <img :src=\"item.image\" mode=\"\" />\n          <div class=\"info\">\n            <div class=\"title line2 mb15\">{{ item.store_name }}</div>\n            <div class=\"num\">\n              <span class=\"mr15\">库存 {{ item.stock }}</span>\n              <span>销量 {{ item.sales }}</span>\n            </div>\n          </div>\n          <div class=\"right\">\n            <div class=\"price\">￥{{ item.price }}</div>\n            <div class=\"btn\" v-db-click @click=\"bingGoods(item)\">推送</div>\n          </div>\n        </div>\n        <div class=\"slot-load\" slot=\"load-deactive\"></div>\n        <div class=\"slot-load\" slot=\"load-active\">下滑加载更多</div>\n      </vue-scroll>\n    </div>\n    <empty v-else msg=\"暂无商品信息\"></empty>\n  </div>\n</template>\n\n<script>\nimport { Socket } from '@/libs/socket';\nimport { productCart, productHot, productVisit } from '@/api/kefu.js';\nimport { serviceInfo } from '@/api/kefu_mobile';\nimport empty from '../../components/empty';\nexport default {\n  name: 'product_info',\n  components: {\n    empty,\n  },\n  data() {\n    return {\n      ops: {\n        bar: {\n          background: '#393232',\n          opacity: '.5',\n          size: '2px',\n        },\n      },\n      searchTxt: '',\n      tabCur: 0,\n      tabList: [\n        {\n          key: 0,\n          title: '购买',\n          api: 'productCart',\n        },\n        {\n          key: 1,\n          title: '足迹',\n          api: 'productHot',\n        },\n        {\n          key: 2,\n          title: '热销',\n          api: 'productVisit',\n        },\n      ],\n      toUid: '',\n      list: [],\n    };\n  },\n  watch: {\n    tabCur(nVal, oVal) {\n      this.list = [];\n      if (nVal == 0) return this.getBuyList();\n      if (nVal == 1) return this.getVisit();\n      if (nVal == 2) return this.getProductHot();\n    },\n  },\n  created() {\n    serviceInfo().then((res) => {\n      window.document.title = `${res.data.site_name} - 商品列表`;\n    });\n    this.toUid = this.$route.query.toUid;\n    this.getBuyList();\n  },\n  methods: {\n    // 购买记录\n    getBuyList() {\n      productCart(this.toUid, {\n        store_name: this.searchTxt,\n      }).then((res) => {\n        this.list = res.data;\n      });\n    },\n    // 热销商品\n    getProductHot() {\n      productHot(this.toUid, {\n        store_name: this.searchTxt,\n      }).then((res) => {\n        this.list = res.data;\n      });\n    },\n    // 足迹\n    getVisit() {\n      productVisit(this.toUid, {\n        store_name: this.searchTxt,\n      }).then((res) => {\n        this.list = res.data;\n      });\n    },\n    // 推送\n    bingGoods(item) {\n      let obj = {\n        type: 'chat',\n        data: {\n          msn: item.id,\n          type: 5,\n          to_uid: this.toUid,\n        },\n      };\n      Socket.then((ws) => {\n        ws.send(obj);\n      });\n      // this.bus.$emit('selectGoods',item)\n      this.$router.go(-1);\n    },\n    // 顶部选项卡切换\n    bindTab(item) {\n      this.tabCur = item.key;\n    },\n    // 搜索\n    bindSearch() {\n      if (this.tabCur == 0) return this.getBuyList();\n      if (this.tabCur == 1) return this.getVisit();\n      if (this.tabCur == 2) return this.getProductHot();\n    },\n  },\n};\n</script>\n<style>\npage {\n  height: 100%;\n}\n</style>\n<style lang=\"scss\" scoped>\n.product_info {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  .head {\n    background: #fff;\n    .tab-box {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 0.8rem;\n      padding: 0 1.46rem;\n      .tab-item {\n        height: 0.8rem;\n        line-height: 0.8rem;\n        padding: 0 0.15rem;\n        font-size: 0.28rem;\n        color: #282828;\n        &.on {\n          border-bottom: 1px solid #3875ea;\n        }\n      }\n    }\n    .search-box {\n      display: flex;\n      align-items: center;\n      height: 1.28rem;\n      padding: 0 0.3rem;\n      input {\n        display: block;\n        width: 100%;\n        height: 0.68rem;\n        padding-left: 0.7rem;\n        background: #f5f6f9;\n        border-radius: 0.39rem;\n        box-sizing: border-box;\n        /*background-image: url(\"../static/search.png\");*/\n      }\n    }\n  }\n  .scroll-box {\n    flex: 1;\n    overflow: hidden;\n    .goods-item {\n      display: flex;\n      padding: 0.3rem;\n      margin-top: 0.15rem;\n      background-color: #fff;\n      img {\n        width: 1.7rem;\n        height: 1.7rem;\n        border-radius: 0.06rem;\n      }\n      .info {\n        width: 3.26rem;\n        margin-left: 0.22rem;\n        .title {\n          font-size: 0.28rem;\n          color: #282828;\n        }\n        .num {\n          margin-top: 0.1rem;\n          font-size: 0.24rem;\n          color: #9f9f9f;\n        }\n      }\n      .right {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        margin-left: 0.36rem;\n        .price {\n          color: #f74c31;\n        }\n        .btn {\n          width: 100%;\n          height: 0.6rem;\n          line-height: 0.6rem;\n          text-align: center;\n          color: #fff;\n          background: #3875ea;\n          border-radius: 0.06rem;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}