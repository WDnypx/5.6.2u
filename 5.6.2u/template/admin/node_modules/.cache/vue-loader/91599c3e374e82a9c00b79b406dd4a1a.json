{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\list\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\user\\list\\index.vue","mtime":1750064202516},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL3VzZXJMYWJlbCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBleHBhbmRSb3cgZnJvbSAnLi90YWJsZUV4cGFuZC52dWUnOwppbXBvcnQgdXNlckVkaXQgZnJvbSAnLi9oYW5kbGUvdXNlckVkaXQudnVlJzsKaW1wb3J0IHsKICB1c2VyTGlzdCwKICBnZXRVc2VyRGF0YSwKICBpc1Nob3dBcGksCiAgZWRpdE90aGVyQXBpLAogIGdpdmVMZXZlbEFwaSwKICB1c2VyU2V0R3JvdXAsCiAgdXNlckdyb3VwQXBpLAogIGxldmVsTGlzdEFwaSwKICB1c2VyU2V0TGFiZWxBcGksCiAgdXNlckxhYmVsQXBpLAogIHVzZXJTeW5jaHJvLAogIGdldFVzZXJTYXZlRm9ybSwKICBnaXZlTGV2ZWxUaW1lQXBpLAogIGdldFVzZXJJbmZvLAogIHNldFVzZXIsCiAgZWRpdFVzZXIsCiAgc2F2ZVNldExhYmVsLAp9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBhZ2VudFNwcmVhZEFwaSB9IGZyb20gJ0AvYXBpL2FnZW50JzsKaW1wb3J0IHsgZXhwb3J0VXNlckxpc3QgfSBmcm9tICdAL2FwaS9leHBvcnQnOwppbXBvcnQgZWRpdEZyb20gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9mcm9tL2Zyb20nOwppbXBvcnQgc2VuZEZyb20gZnJvbSAnQC9jb21wb25lbnRzL3NlbmRDb3Vwb25zL2luZGV4JzsKaW1wb3J0IHVzZXJEZXRhaWxzIGZyb20gJy4vaGFuZGxlL3VzZXJEZXRhaWxzJzsKaW1wb3J0IG5ld3NDYXRlZ29yeSBmcm9tICdAL2NvbXBvbmVudHMvbmV3c0NhdGVnb3J5L2luZGV4JzsKaW1wb3J0IGN1c3RvbWVySW5mbyBmcm9tICdAL2NvbXBvbmVudHMvY3VzdG9tZXJJbmZvJzsKaW1wb3J0IHsgY2l0eUxpc3QgfSBmcm9tICdAL2FwaS9hcHAnOwppbXBvcnQgeyBtZW1iZXJzaGlwRGF0YUxpc3RBcGkgfSBmcm9tICdAL2FwaS9tZW1iZXJzaGlwTGV2ZWwnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyX2xpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIGV4cGFuZFJvdywKICAgIGVkaXRGcm9tLAogICAgc2VuZEZyb20sCiAgICB1c2VyRGV0YWlscywKICAgIG5ld3NDYXRlZ29yeSwKICAgIGN1c3RvbWVySW5mbywKICAgIHVzZXJMYWJlbCwKICAgIHVzZXJFZGl0LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFMYWJlbDogW10sCiAgICAgIHNlbGVjdERhdGFMYWJlbDogW10sCiAgICAgIHVzZXJEYXRhOiB7fSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgc2VsZWN0TGFiZWxTaG93OiBmYWxzZSwKICAgICAgbGFiZWxTaG93OiBmYWxzZSwKICAgICAgY3VzdG9tZXJTaG93OiBmYWxzZSwKICAgICAgcHJvbW90ZXJTaG93OiBmYWxzZSwKICAgICAgbGFiZWxBY3RpdmU6IHsKICAgICAgICB1aWQ6IDAsCiAgICAgIH0sCiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICB1aWQ6IDAsCiAgICAgICAgc3ByZWFkX3VpZDogMCwKICAgICAgICBpbWFnZTogJycsCiAgICAgIH0sCiAgICAgIHBpY2tlck9wdGlvbnM6IHRoaXMuJHRpbWVPcHRpb25zLAogICAgICBjb2xsYXBzZTogZmFsc2UsCiAgICAgIGhlYWRlTnVtOiBbCiAgICAgICAgeyB0eXBlOiAnJywgbmFtZTogJ+WFqOmDqCcgfSwKICAgICAgICB7IHR5cGU6ICd3ZWNoYXQnLCBuYW1lOiAn5b6u5L+h5YWs5LyX5Y+3JyB9LAogICAgICAgIHsgdHlwZTogJ3JvdXRpbmUnLCBuYW1lOiAn5b6u5L+h5bCP56iL5bqPJyB9LAogICAgICAgIHsgdHlwZTogJ2g1JywgbmFtZTogJ0g1JyB9LAogICAgICAgIHsgdHlwZTogJ3BjJywgbmFtZTogJ1BDJyB9LAogICAgICAgIHsgdHlwZTogJ2FwcCcsIG5hbWU6ICdBUFAnIH0sCiAgICAgIF0sCiAgICAgIGFkZHJlc3M6IFtdLAogICAgICBhZGRyZXNEYXRhOiBbXSwKICAgICAgaXNTaG93U2VuZDogdHJ1ZSwKICAgICAgbW9kYWwxMzogZmFsc2UsCiAgICAgIG1heENvbHM6IDQsCiAgICAgIHNjcm9sbGVySGVpZ2h0OiAnNjAwJywKICAgICAgY29udGVudFRvcDogJzEzMCcsCiAgICAgIGNvbnRlbnRXaWR0aDogJzk4JScsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogNiwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICBncmlkMjogewogICAgICAgIHhsOiA4LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiA4LAogICAgICAgIHNtOiAxMiwKICAgICAgICB4czogMjQsCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgICAgdXNlckZyb206IHsKICAgICAgICBsYWJlbF9pZDogJycsCiAgICAgICAgdXNlcl90eXBlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHNleDogJycsCiAgICAgICAgaXNfcHJvbW90ZXI6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIGlzTWVtYmVyOiAnJywKICAgICAgICBwYXlfY291bnRfbnVtOiBbJycsICcnXSwKICAgICAgICBiYWxhbmNlOiBbJycsICcnXSwKICAgICAgICBpbnRlZ3JhbDogWycnLCAnJ10sCiAgICAgICAgcGF5X2NvdW50X21vbmV5OiBbJycsICcnXSwKICAgICAgICByZWNoYXJnZV9jb3VudDogWycnLCAnJ10sCiAgICAgICAgdXNlcl90aW1lX3R5cGU6ICcnLAogICAgICAgIHVzZXJfdGltZTogJycsCiAgICAgICAgYmVmb3JlX3BheV90aW1lOiAnJywKICAgICAgICBuaWNrbmFtZTogJycsCiAgICAgICAgcHJvdmluY2U6ICcnLAogICAgICAgIGNpdHk6ICcnLAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIGxldmVsOiAnJywKICAgICAgICBncm91cF9pZDogJycsCiAgICAgICAgYWdlbnRfbGV2ZWw6ICcnLAogICAgICAgIGZpZWxkX2tleTogJycsCiAgICAgIH0sCiAgICAgIGJlZm9yZV9wYXlfdGltZTogJycsCiAgICAgIGZpZWxkX2tleTogJycsCiAgICAgIGxldmVsOiAnJywKICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICBhZ2VudF9sZXZlbDogJycsCiAgICAgIGxhYmVsX2lkOiAnJywKICAgICAgdXNlcl90aW1lX3R5cGU6ICcnLAogICAgICBwYXlfY291bnQ6ICcnLAogICAgICB1c2VyTGlzdHM6IFtdLAogICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgc2VsZWN0aW9uTGlzdDogW10sCiAgICAgIHVzZXJfaWRzOiAnJywKICAgICAgc2VsZWN0ZWREYXRhOiBbXSwKICAgICAgdGltZVZhbDogW10sCiAgICAgIGdyb3VwTGlzdDogW10sCiAgICAgIGxldmVsTGlzdDogW10sCiAgICAgIG1lbWJlcnNoaXBMaXN0OiBbXSwKICAgICAgbGFiZWxGcm9tOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogJycsCiAgICAgIH0sCiAgICAgIGxhYmVsTGlzdHM6IFtdLAogICAgICBzZWxlY3RlZElkczogW10sIC8v6YCJ5Lit5ZCI5bm26aG555qEaWQKICAgICAgaWRzOiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0Q2l0eUxpc3QoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVzZXJHcm91cCgpOwogICAgdGhpcy5sZXZlbExpc3RzKCk7CiAgICB0aGlzLm1lbWJlcnNoaXBEYXRhTGlzdCgpOwogICAgLy8gdGhpcy5ncm91cExpc3RzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDaXR5TGlzdCgpIHsKICAgICAgY2l0eUxpc3QoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmFkZHJlc0RhdGEgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0VXNlcigpIHsKICAgICAgbGV0IGRhdGEgPSB0aGlzLiRyZWZzLnVzZXJFZGl0LmZvcm1JdGVtOwogICAgICBsZXQgaWRzID0gW107CiAgICAgIHRoaXMuJHJlZnMudXNlckVkaXQuZGF0YUxhYmVsLm1hcCgoaSkgPT4gewogICAgICAgIGlkcy5wdXNoKGkuaWQpOwogICAgICB9KTsKICAgICAgZGF0YS5sYWJlbF9pZCA9IGlkczsKICAgICAgLy8gaWYgKCFkYXRhLnJlYWxfbmFtZSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl55yf5a6e5aeT5ZCNIik7CiAgICAgIC8vIGlmICghZGF0YS5waG9uZSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl5omL5py65Y+3Iik7CiAgICAgIC8vIGlmICghZGF0YS5wd2QpIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeWvhueggSIpOwogICAgICAvLyBpZiAoIWRhdGEudHJ1ZV9wd2QpIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeehruiupOWvhueggSIpOwogICAgICBpZiAoZGF0YS51aWQpIHsKICAgICAgICBlZGl0VXNlcihkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNldFVzZXIoZGF0YSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvbmNlR2V0TGlzdCgpIHsKICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSAwOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxBY3RpdmUudWlkID0gMDsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RMYWJlbFNob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIHB1dFNlbmQobmFtZSkgewogICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKCF0aGlzLmZvcm1JbmxpbmUuc3ByZWFkX3VpZCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35LiK5Lyg55So5oi3Jyk7CiAgICAgICAgICB9CiAgICAgICAgICBhZ2VudFNwcmVhZEFwaSh0aGlzLmZvcm1JbmxpbmUpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLnByb21vdGVyU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgc2F2ZSgpIHsKICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwoKICAgICAgLy8gdGhpcy4kbW9kYWxGb3JtKGdldFVzZXJTYXZlRm9ybSgpKQogICAgICAvLyAgIC50aGVuKCgpID0+IHsKICAgICAgLy8gICAgIHRoaXMudXNlckZyb20ucGFnZSA9IDE7CiAgICAgIC8vICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIHN5bmNocm8oKSB7CiAgICAgIHVzZXJTeW5jaHJvKCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBpc1NlbChyb3cpIHsKICAgICAgcmV0dXJuICEhIXJvdy5pc19kZWw7CiAgICB9LAogICAgLy8g5YiG57uE5YiX6KGoCiAgICBncm91cExpc3RzKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB1c2VyTGFiZWxBcGkodGhpcy5sYWJlbEZyb20pCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMubGFiZWxMaXN0cyA9IGRhdGEubGlzdDsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja1RhYigpIHsKICAgICAgdGhpcy51c2VyRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgdXNlckdyb3VwKCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAnJywKICAgICAgfTsKICAgICAgdXNlckdyb3VwQXBpKGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuZ3JvdXBMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgbGV2ZWxMaXN0cygpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGlzX3Nob3c6IDEsCiAgICAgIH07CiAgICAgIGxldmVsTGlzdEFwaShkYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmxldmVsTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIG1lbWJlcnNoaXBEYXRhTGlzdCgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMCwKICAgICAgICBzdGF1czogMSwKICAgICAgfTsKICAgICAgbWVtYmVyc2hpcERhdGFMaXN0QXBpKGRhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMubWVtYmVyc2hpcExpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmibnph4/orr7nva7liIbnu4TvvJsKICAgIHNldEdyb3VwKCkgewogICAgICBpZiAodGhpcy5pZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHorr7nva7liIbnu4TnmoTnlKjmiLcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgdWlkcyA9IHsgdWlkczogdGhpcy5pZHMgfTsKICAgICAgICB0aGlzLiRtb2RhbEZvcm0odXNlclNldEdyb3VwKHVpZHMpKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuaWRzID0gW107CiAgICAgICAgICB0aGlzLnNlbGVjdGVkSWRzID0gW107CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOaJuemHj+iuvue9ruagh+etvu+8mwogICAgc2V0TGFiZWwoKSB7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeiuvue9ruagh+etvueahOeUqOaItycpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCB1aWRzID0geyB1aWRzOiB0aGlzLmlkcyB9OwogICAgICAgIHRoaXMubGFiZWxBY3RpdmUudWlkID0gMDsKICAgICAgICB0aGlzLmxhYmVsU2hvdyA9IHRydWU7CiAgICAgICAgLy8gdGhpcy4kbW9kYWxGb3JtKHVzZXJTZXRMYWJlbEFwaSh1aWRzKSkudGhlbigoKSA9PgogICAgICAgIC8vICAgdGhpcy4kcmVmcy5zZW5kcy5nZXRMaXN0KCkKICAgICAgICAvLyApOwogICAgICB9CiAgICB9LAogICAgYWN0aXZlU2VsZWN0RGF0YShkYXRhKSB7CiAgICAgIHRoaXMuc2VsZWN0TGFiZWxTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsID0gZGF0YSB8fCBbXTsKICAgICAgaWYgKHRoaXMuc2VsZWN0RGF0YUxhYmVsLmxlbmd0aCkgewogICAgICAgIGxldCBhY3RpdmVJZHMgPSBbXTsKICAgICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgIGFjdGl2ZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXNlckZyb20ubGFiZWxfaWQgPSAnJzsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsb3NlKHRhZykgewogICAgICBsZXQgaSA9IHRoaXMuc2VsZWN0RGF0YUxhYmVsLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdGFnLmlkKTsKICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgdGhpcy5zZWxlY3REYXRhTGFiZWwuc3BsaWNlKGksIDEpOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAodGhpcy5zZWxlY3REYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgICAgICBsZXQgYWN0aXZlSWRzID0gW107CiAgICAgICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgYWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnVzZXJGcm9tLmxhYmVsX2lkID0gJyc7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8gdGhpcy51c2VyU2VhcmNocygpOwogICAgfSwKICAgIC8vIOaJuemHj+iuvue9ruagh+etvgogICAgYWN0aXZlRGF0YShkYXRhKSB7CiAgICAgIGxldCBsYWJlbHMgPSBbXTsKICAgICAgaWYgKCFkYXRhLmxlbmd0aCkgcmV0dXJuOwogICAgICBkYXRhLm1hcCgoaSkgPT4gewogICAgICAgIGxhYmVscy5wdXNoKGkuaWQpOwogICAgICB9KTsKICAgICAgc2F2ZVNldExhYmVsKHsKICAgICAgICB1aWRzOiB0aGlzLmlkcy5qb2luKCcsJyksCiAgICAgICAgbGFiZWxfaWQ6IGxhYmVscywKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgICB0aGlzLnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mmK/lkKbkuLrku5jotLnkvJrlkZjvvJsKICAgIGNoYW5nZU1lbWJlcigpIHsKICAgICAgdGhpcy51c2VyRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6YCJ5oup5Zu95a62CiAgICBjaGFuZ2VDb3VudHJ5KCkgewogICAgICBpZiAodGhpcy51c2VyRnJvbS5jb3VudHJ5ID09PSAnYWJyb2FkJyB8fCAhdGhpcy51c2VyRnJvbS5jb3VudHJ5KSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBbXTsKICAgICAgICB0aGlzLnVzZXJGcm9tLnByb3ZpbmNlID0gJyc7CiAgICAgICAgdGhpcy51c2VyRnJvbS5jaXR5ID0gJyc7CiAgICAgICAgdGhpcy5hZGRyZXNzID0gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDpgInmi6nlnLDlnYAKICAgIGhhbmRsZUNoYW5nZShzZWxlY3RlZERhdGEpIHsKICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBzZWxlY3RlZERhdGEubWFwKChvKSA9PiBvLmxhYmVsKTsKICAgICAgdGhpcy51c2VyRnJvbS5wcm92aW5jZSA9IHRoaXMuc2VsZWN0ZWREYXRhWzBdOwogICAgICB0aGlzLnVzZXJGcm9tLmNpdHkgPSB0aGlzLnNlbGVjdGVkRGF0YVsxXTsKICAgIH0sCiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZShlLCB0eXBlKSB7CiAgICAgIHRoaXMudXNlckZyb21bdHlwZV0gPSBlID8gZS5qb2luKCctJykgOiAnJzsKICAgIH0sCiAgICB1c2VyRGV0YWlsKHJvdykgewogICAgICB0aGlzLiRyZWZzLnVzZXJEZXRhaWxzLm1vZGFscyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMudXNlckRldGFpbHMuZ2V0RGV0YWlscyhyb3cudWlkKTsKICAgIH0sCiAgICAvLyDmk43kvZwKICAgIGNoYW5nZU1lbnUocm93LCBuYW1lLCBpbmRleCkgewogICAgICBsZXQgdWlkID0gW107CiAgICAgIHVpZC5wdXNoKHJvdy51aWQpOwogICAgICBsZXQgdWlkcyA9IHsgdWlkczogdWlkIH07CiAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgdGhpcy5lZGl0KHJvdyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICcyJzoKICAgICAgICAgIHRoaXMuZ2V0T3RoZXJGcm9tKHJvdy51aWQsICdtb25leScpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLmdpdmVMZXZlbFRpbWUocm93LnVpZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc0JzoKICAgICAgICAgIHRoaXMuZGVsKHJvdywgJ+a4hemZpCDjgJAgJyArIHRoaXMudGVuVGV4dChyb3cubmlja25hbWUpICsgJyDjgJHnmoTkvJrlkZjnrYnnuqcnLCBpbmRleCwgJ3VzZXInKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzUnOgogICAgICAgICAgdGhpcy4kbW9kYWxGb3JtKHVzZXJTZXRHcm91cCh1aWRzKSkudGhlbigoKSA9PiB0aGlzLmdldExpc3QoKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc2JzoKICAgICAgICAgIHRoaXMub3BlbkxhYmVsKHJvdyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc3JzoKICAgICAgICAgIHRoaXMuZWRpdFMocm93KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzgnOgogICAgICAgICAgdGhpcy5nZXRPdGhlckZyb20ocm93LnVpZCwgJ3BvaW50Jyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5kZWwocm93LCAn6Kej6Zmk44CQICcgKyB0aGlzLnRlblRleHQocm93Lm5pY2tuYW1lKSArICcg44CR55qE5LiK57qn5o6o5bm/5Lq6JywgaW5kZXgsICd0dWlndWFuZycpOwogICAgICB9CiAgICB9LAogICAgdGVuVGV4dChzdHIpIHsKICAgICAgaWYgKHN0ci5sZW5ndGggPiAxMCkgewogICAgICAgIC8v5aaC5p6c5a2X56ym6ZW/5bqm6LaF6L+HMTDvvIzlkI7pnaLnmoTlrZfnrKblsLHlj5jmiJAuLi7lj6/oh6rooYzosIPmlbTplb/luqblkozku6Pmm7/lrZfnrKYKICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIDEwKSArICcuLi4nOyAvL+aIquWPluS7juesrOS4gOS4quWtl+espuW8gOWni++8jOW+gOWQjuWPljEw5Liq5a2X56ym77yM5Ymp5L2Z55qE55SoLi4u5Luj5pu/CiAgICAgIH0KICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvcGVuTGFiZWwocm93KSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSByb3cudWlkOwogICAgfSwKICAgIG9wZW5TZWxlY3RMYWJlbCgpIHsKICAgICAgdGhpcy5zZWxlY3RMYWJlbFNob3cgPSB0cnVlOwogICAgfSwKICAgIGVkaXRTKHJvdykgewogICAgICB0aGlzLnByb21vdGVyU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuZm9ybUlubGluZS51aWQgPSByb3cudWlkOwogICAgfSwKICAgIGN1c3RvbWVyKCkgewogICAgICB0aGlzLmN1c3RvbWVyU2hvdyA9IHRydWU7CiAgICB9LAogICAgaW1hZ2VPYmplY3QoZSkgewogICAgICB0aGlzLmN1c3RvbWVyU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmZvcm1JbmxpbmUuc3ByZWFkX3VpZCA9IGUudWlkOwogICAgICB0aGlzLmZvcm1JbmxpbmUuaW1hZ2UgPSBlLmltYWdlOwogICAgfSwKICAgIGNhbmNlbChuYW1lKSB7CiAgICAgIHRoaXMucHJvbW90ZXJTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5mb3JtSW5saW5lID0gewogICAgICAgIHVpZDogMCwKICAgICAgICBzcHJlYWRfdWlkOiAwLAogICAgICAgIGltYWdlOiAnJywKICAgICAgfTsKICAgIH0sCiAgICAvLyDotaDpgIHkvJrlkZjnrYnnuqcKICAgIGdpdmVMZXZlbChpZCkgewogICAgICB0aGlzLiRtb2RhbEZvcm0oZ2l2ZUxldmVsQXBpKGlkKSkudGhlbigoKSA9PiB0aGlzLmdldExpc3QoMSkpOwoKICAgICAgLy8gZ2l2ZUxldmVsQXBpKGlkKQogICAgICAvLyAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgLy8gICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgIC8vICAgICAgIHJldHVybiB0aGlzLiRhdXRoTGFwc2UocmVzLmRhdGEpOwogICAgICAvLyAgICAgfQoKICAgICAgLy8gICAgIHRoaXMuRnJvbURhdGEgPSByZXMuZGF0YTsKICAgICAgLy8gICAgIHRoaXMuJHJlZnMuZWRpdHMubW9kYWxzID0gdHJ1ZTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIC8vIOi1oOmAgeS8muWRmOetiee6pwogICAgZ2l2ZUxldmVsVGltZShpZCkgewogICAgICB0aGlzLiRtb2RhbEZvcm0oZ2l2ZUxldmVsVGltZUFwaShpZCkpLnRoZW4oKCkgPT4gdGhpcy5nZXRMaXN0KDEpKTsKCiAgICAgIC8vIGdpdmVMZXZlbFRpbWVBcGkoaWQpCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuJGF1dGhMYXBzZShyZXMuZGF0YSk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICB0aGlzLkZyb21EYXRhID0gcmVzLmRhdGE7CiAgICAgIC8vICAgICB0aGlzLiRyZWZzLmVkaXRzLm1vZGFscyA9IHRydWU7CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goKHJlcykgPT4gewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgLy8gICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbChyb3csIHRpdCwgbnVtLCBuYW1lKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogbmFtZSA9PT0gJ3VzZXInID8gYHVzZXIvZGVsX2xldmVsLyR7cm93LnVpZH1gIDogYGFnZW50L3N0YWlyL2RlbGV0ZV9zcHJlYWQvJHtyb3cudWlkfWAsCiAgICAgICAgbWV0aG9kOiBuYW1lID09PSAndXNlcicgPyAnREVMRVRFJyA6ICdQVVQnLAogICAgICAgIGlkczogJycsCiAgICAgICAgd2lkdGg6IDYwMCwKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5riF6Zmk5Lya5ZGY5Yig6Zmk5oiQ5YqfCiAgICBzdWJtaXRNb2RlbCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5Lya5ZGY5YiX6KGoCiAgICBnZXRMaXN0KCkgewogICAgICAvLyBpZiAodGhpcy5zZWxlY3REYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgIC8vICAgbGV0IGFjdGl2ZUlkcyA9IFtdOwogICAgICAvLyAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgLy8gICAgIGFjdGl2ZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAvLyAgIH0pOwogICAgICAvLyAgIHRoaXMudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICAvLyB9CiAgICAgIHRoaXMudXNlckZyb20udXNlcl90eXBlID0gdGhpcy51c2VyRnJvbS51c2VyX3R5cGUgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uc3RhdHVzID0gdGhpcy51c2VyRnJvbS5zdGF0dXMgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uc2V4ID0gdGhpcy51c2VyRnJvbS5zZXggfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uaXNfcHJvbW90ZXIgPSB0aGlzLnVzZXJGcm9tLmlzX3Byb21vdGVyIHx8ICcnOwogICAgICB0aGlzLnVzZXJGcm9tLmNvdW50cnkgPSB0aGlzLnVzZXJGcm9tLmNvdW50cnkgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20ucGF5X2NvdW50ID0gdGhpcy5wYXlfY291bnQgPT09ICdhbGwnID8gJycgOiB0aGlzLnBheV9jb3VudDsKICAgICAgdGhpcy51c2VyRnJvbS51c2VyX3RpbWVfdHlwZSA9IHRoaXMudXNlcl90aW1lX3R5cGUgPT09ICdhbGwnID8gJycgOiB0aGlzLnVzZXJfdGltZV90eXBlOwogICAgICB0aGlzLnVzZXJGcm9tLmZpZWxkX2tleSA9IHRoaXMuZmllbGRfa2V5ID09PSAnYWxsJyA/ICcnIDogdGhpcy5maWVsZF9rZXk7CiAgICAgIHRoaXMudXNlckZyb20ubGV2ZWwgPSB0aGlzLmxldmVsID09PSAnYWxsJyA/ICcnIDogdGhpcy5sZXZlbDsKICAgICAgdGhpcy51c2VyRnJvbS5ncm91cF9pZCA9IHRoaXMuZ3JvdXBfaWQgPT09ICdhbGwnID8gJycgOiB0aGlzLmdyb3VwX2lkOwogICAgICB0aGlzLnVzZXJGcm9tLmFnZW50X2xldmVsID0gdGhpcy5hZ2VudF9sZXZlbCA9PT0gJ2FsbCcgPyAnJyA6IHRoaXMuYWdlbnRfbGV2ZWw7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHVzZXJMaXN0KHRoaXMudXNlckZyb20pCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudXNlckxpc3RzID0gZGF0YS5saXN0OwoKICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2tlZCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOeUqOaIt+WvvOWHugogICAgYXN5bmMgZXhwb3J0TGlzdCgpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCkgewogICAgICAgIHRoaXMudXNlckZyb20uaWRzID0gdGhpcy5pZHM7CiAgICAgIH0KICAgICAgdGhpcy51c2VyRnJvbS51c2VyX3R5cGUgPSB0aGlzLnVzZXJGcm9tLnVzZXJfdHlwZSB8fCAnJzsKICAgICAgdGhpcy51c2VyRnJvbS5zdGF0dXMgPSB0aGlzLnVzZXJGcm9tLnN0YXR1cyB8fCAnJzsKICAgICAgdGhpcy51c2VyRnJvbS5zZXggPSB0aGlzLnVzZXJGcm9tLnNleCB8fCAnJzsKICAgICAgdGhpcy51c2VyRnJvbS5pc19wcm9tb3RlciA9IHRoaXMudXNlckZyb20uaXNfcHJvbW90ZXIgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uY291bnRyeSA9IHRoaXMudXNlckZyb20uY291bnRyeSB8fCAnJzsKICAgICAgdGhpcy51c2VyRnJvbS5wYXlfY291bnQgPSB0aGlzLnBheV9jb3VudCA9PT0gJ2FsbCcgPyAnJyA6IHRoaXMucGF5X2NvdW50OwogICAgICB0aGlzLnVzZXJGcm9tLnVzZXJfdGltZV90eXBlID0gdGhpcy51c2VyX3RpbWVfdHlwZSA9PT0gJ2FsbCcgPyAnJyA6IHRoaXMudXNlcl90aW1lX3R5cGU7CiAgICAgIHRoaXMudXNlckZyb20uZmllbGRfa2V5ID0gdGhpcy5maWVsZF9rZXkgPT09ICdhbGwnID8gJycgOiB0aGlzLmZpZWxkX2tleTsKICAgICAgdGhpcy51c2VyRnJvbS5sZXZlbCA9IHRoaXMubGV2ZWwgPT09ICdhbGwnID8gJycgOiB0aGlzLmxldmVsOwogICAgICB0aGlzLnVzZXJGcm9tLmdyb3VwX2lkID0gdGhpcy5ncm91cF9pZCA9PT0gJ2FsbCcgPyAnJyA6IHRoaXMuZ3JvdXBfaWQ7CiAgICAgIHRoaXMudXNlckZyb20uYWdlbnRfbGV2ZWwgPSB0aGlzLmFnZW50X2xldmVsID09PSAnYWxsJyA/ICcnIDogdGhpcy5hZ2VudF9sZXZlbDsKICAgICAgbGV0IFt0aCwgZmlsZWtleSwgZGF0YSwgZmlsZU5hbWVdID0gW1tdLCBbXSwgW10sICcnXTsKICAgICAgLy8gICBsZXQgZmlsZU5hbWUgPSAiIjsKICAgICAgbGV0IGV4Y2VsRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRnJvbSkpOwogICAgICBleGNlbERhdGEucGFnZSA9IDE7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhjZWxEYXRhLnBhZ2UgKyAxOyBpKyspIHsKICAgICAgICBsZXQgbGViRGF0YSA9IGF3YWl0IHRoaXMuZ2V0RXhjZWxEYXRhKGV4Y2VsRGF0YSk7CiAgICAgICAgaWYgKCFmaWxlTmFtZSkgZmlsZU5hbWUgPSBsZWJEYXRhLmZpbGVuYW1lOwogICAgICAgIGlmICghZmlsZWtleS5sZW5ndGgpIHsKICAgICAgICAgIGZpbGVrZXkgPSBsZWJEYXRhLmZpbGVLZXk7CiAgICAgICAgfQogICAgICAgIGlmICghdGgubGVuZ3RoKSB0aCA9IGxlYkRhdGEuaGVhZGVyOwogICAgICAgIGlmIChsZWJEYXRhLmV4cG9ydC5sZW5ndGgpIHsKICAgICAgICAgIGRhdGEgPSBkYXRhLmNvbmNhdChsZWJEYXRhLmV4cG9ydCk7CiAgICAgICAgICBleGNlbERhdGEucGFnZSsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRleHBvcnRFeGNlbCh0aCwgZmlsZWtleSwgZmlsZU5hbWUsIGRhdGEpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldEV4Y2VsRGF0YShleGNlbERhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBleHBvcnRVc2VyTGlzdChleGNlbERhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UoKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uTGlzdCA9IFtdOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCgogICAgLy8g5pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy51c2VyRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6YeN572uCiAgICByZXNldChuYW1lKSB7CiAgICAgIHRoaXMudXNlckZyb20gPSB7CiAgICAgICAgbGFiZWxfaWQ6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgc2V4OiAnJywKICAgICAgICBpc19wcm9tb3RlcjogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgaXNNZW1iZXI6ICcnLAogICAgICAgIHBheV9jb3VudF9udW06IFsnJywgJyddLAogICAgICAgIGJhbGFuY2U6IFsnJywgJyddLAogICAgICAgIGludGVncmFsOiBbJycsICcnXSwKICAgICAgICBwYXlfY291bnRfbW9uZXk6IFsnJywgJyddLAogICAgICAgIHJlY2hhcmdlX2NvdW50OiBbJycsICcnXSwKICAgICAgICB1c2VyX3RpbWVfdHlwZTogJycsCiAgICAgICAgdXNlcl90aW1lOiAnJywKICAgICAgICBiZWZvcmVfcGF5X3RpbWU6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgICBwcm92aW5jZTogJycsCiAgICAgICAgY2l0eTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgbGV2ZWw6ICcnLAogICAgICAgIGdyb3VwX2lkOiAnJywKICAgICAgICBhZ2VudF9sZXZlbDogJycsCiAgICAgICAgZmllbGRfa2V5OiAnJywKICAgICAgICBwYWdlOiAxLCAvLyDlvZPliY3pobUKICAgICAgICBsaW1pdDogMjAsIC8vIOavj+mhteaYvuekuuadoeaVsAogICAgICB9OwogICAgICB0aGlzLmZpZWxkX2tleSA9ICcnOwogICAgICB0aGlzLmxldmVsID0gJyc7CiAgICAgIHRoaXMuZ3JvdXBfaWQgPSAnJzsKICAgICAgdGhpcy5hZ2VudF9sZXZlbCA9ICcnOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnVzZXJfdGltZV90eXBlID0gJyc7CiAgICAgIHRoaXMucGF5X2NvdW50ID0gJyc7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bnvJbovpHooajljZXmlbDmja4KICAgIGdldFVzZXJGcm9tKGlkKSB7CiAgICAgIGdldFVzZXJJbmZvKGlkKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubW9kYWxzID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudXNlckRhdGEgPSByZXMuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluenr+WIhuS9memineihqOWNlQogICAgZ2V0T3RoZXJGcm9tKGlkLCB0eXBlKSB7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShlZGl0T3RoZXJBcGkoaWQsIHR5cGUpKS50aGVuKCgpID0+IHRoaXMuZ2V0TGlzdCgxKSk7CiAgICB9LAogICAgLy8g5L+u5pS554q25oCBCiAgICBvbmNoYW5nZUlzU2hvdyhyb3cpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgaWQ6IHJvdy51aWQsCiAgICAgICAgc3RhdHVzOiByb3cuc3RhdHVzLAogICAgICB9OwogICAgICBpc1Nob3dBcGkoZGF0YSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDngrnlh7vlj5HpgIHkvJjmg6DliLgKICAgIG9uU2VuZCgpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB5Y+R6YCB5LyY5oOg5Yi455qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5zZW5kcy5tb2RhbHMgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMuc2VuZHMuZ2V0TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgLy8g5Y+R6YCB5Zu+5paH5raI5oGvCiAgICBvblNlbmRQaWMoKSB7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeWPkemAgeWbvuaWh+a2iOaBr+eahOeUqOaItycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubW9kYWwxMyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQocm93KSB7CiAgICAgIHRoaXMuZ2V0VXNlckZyb20ocm93LnVpZCk7CiAgICB9LAogICAgLy8g5L+u5pS55oiQ5YqfCiAgICBzdWJtaXRGYWlsKCkgewogICAgICAvLyB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDmjpLluo8KICAgIHNvcnRDaGFuZ2VkKGUsIHByb3BzLCBvcmRlcikgewogICAgICB0aGlzLnVzZXJGcm9tW2UucHJvcF0gPSBlLm9yZGVyOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvL+WFqOmAieWSjOWPlua2iOWFqOmAieaXtuinpuWPkQogICAgaGFuZGxlU2VsZWN0QWxsKHNlbGVjdGlvbikgewogICAgICBsZXQgaWRzID0gW107CiAgICAgIHNlbGVjdGlvbi5tYXAoKGUpID0+IHsKICAgICAgICBpZHMucHVzaChlLnVpZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGVkSWRzID0gaWRzOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgLy/noa7kv51kb23liqDovb3lrozmr5UKICAgICAgICB0aGlzLnNldENoZWNrZWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gIOmAieS4reafkOS4gOihjAogICAgaGFuZGxlU2VsZWN0Um93KHNlbGVjdGlvbiwgcm93KSB7CiAgICAgIGxldCBpZHMgPSBbXTsKICAgICAgc2VsZWN0aW9uLm1hcCgoZSkgPT4gewogICAgICAgIGlkcy5wdXNoKGUudWlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRJZHMgPSBpZHM7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgIHRoaXMuc2V0Q2hlY2tlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRDaGVja2VkKCkgewogICAgICAvL+Wwhm5ldyBTZXQoKei9rOWMluS4uuaVsOe7hAogICAgICB0aGlzLmlkcyA9IFsuLi50aGlzLnNlbGVjdGVkSWRzXTsKICAgICAgLy8g5om+5Yiw57uR5a6a55qEdGFibGXnmoRyZWblr7nlupTnmoRkb23vvIzmib7liLB0YWJsZeeahG9iakRhdGHlr7nosaHvvIxvYmpEYXRh5L+d5a2Y55qE5piv5b2T5YmN6aG155qE5pWw5o2uCiAgICAgIGxldCBvYmpEYXRhID0gdGhpcy4kcmVmcy50YWJsZS5vYmpEYXRhOwogICAgICBmb3IgKGxldCBpbmRleCBpbiBvYmpEYXRhKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJZHMuaGFzKG9iakRhdGFbaW5kZXhdLnVpZCkpIHsKICAgICAgICAgIG9iakRhdGFbaW5kZXhdLl9pc0NoZWNrZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA+fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/user/list","sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form\n          ref=\"userFrom\"\n          :model=\"userFrom\"\n          label-width=\"80px\"\n          label-position=\"right\"\n          @submit.native.prevent\n          inline\n        >\n          <div class=\"acea-row search-form\" v-if=\"!collapse\">\n            <div>\n              <el-form-item label=\"用户搜索：\" label-for=\"nickname\">\n                <el-input v-model=\"userFrom.nickname\" placeholder=\"请输入用户\" clearable class=\"form_content_width\">\n                  <el-select v-model=\"field_key\" slot=\"prepend\" style=\"width: 100px\">\n                    <el-option value=\"all\" label=\"全部\"></el-option>\n                    <el-option value=\"uid\" label=\"UID\"></el-option>\n                    <el-option value=\"phone\" label=\"手机号\"></el-option>\n                    <el-option value=\"nickname\" label=\"用户昵称\"></el-option>\n                  </el-select>\n                </el-input>\n              </el-form-item>\n              <el-form-item label=\"用户等级：\" label-for=\"level\">\n                <el-select v-model=\"level\" placeholder=\"请选择用户等级\" clearable class=\"form_content_width\">\n                  <el-option value=\"all\" label=\"全部\">全部</el-option>\n                  <el-option\n                    :value=\"item.id\"\n                    v-for=\"(item, index) in levelList\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"用户分组：\">\n                <el-select v-model=\"group_id\" placeholder=\"请选择用户分组\" clearable class=\"form_content_width\">\n                  <el-option value=\"all\" label=\"全部\"></el-option>\n                  <el-option\n                    :value=\"item.id\"\n                    v-for=\"(item, index) in groupList\"\n                    :key=\"index\"\n                    :label=\"item.group_name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n            </div>\n            <el-form-item class=\"search-form-sub\">\n              <el-button type=\"primary\" v-db-click @click=\"userSearchs\">搜索</el-button>\n              <el-button class=\"ResetSearch\" v-db-click @click=\"reset('userFrom')\">重置</el-button>\n              <a class=\"ivu-ml-8 font12 ml10\" v-db-click @click=\"collapse = !collapse\">\n                <template v-if=\"!collapse\"> 展开 <i class=\"el-icon-arrow-down\" /> </template>\n                <template v-else> 收起 <i class=\"el-icon-arrow-up\" /> </template>\n              </a>\n            </el-form-item>\n          </div>\n          <div v-if=\"collapse\" class=\"acea-row search-form\">\n            <div class=\"search-form-box\">\n              <el-form-item label=\"用户搜索：\" label-for=\"nickname\">\n                <el-input v-model=\"userFrom.nickname\" placeholder=\"请输入用户\" clearable class=\"form_content_width\">\n                  <el-select v-model=\"field_key\" slot=\"prepend\" style=\"width: 100px\">\n                    <el-option value=\"all\" label=\"全部\"></el-option>\n                    <el-option value=\"uid\" label=\"UID\"></el-option>\n                    <el-option value=\"phone\" label=\"手机号\"></el-option>\n                    <el-option value=\"nickname\" label=\"用户昵称\"></el-option>\n                  </el-select>\n                </el-input>\n              </el-form-item>\n              <el-form-item label=\"用户等级：\" label-for=\"level\">\n                <el-select v-model=\"level\" placeholder=\"请选择用户等级\" clearable class=\"form_content_width\">\n                  <el-option value=\"all\" label=\"全部\">全部</el-option>\n                  <el-option\n                    :value=\"item.id\"\n                    v-for=\"(item, index) in levelList\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"用户分组：\">\n                <el-select v-model=\"group_id\" placeholder=\"请选择用户分组\" clearable class=\"form_content_width\">\n                  <el-option value=\"all\" label=\"全部\"></el-option>\n                  <el-option\n                    :value=\"item.id\"\n                    v-for=\"(item, index) in groupList\"\n                    :key=\"index\"\n                    :label=\"item.group_name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"分销等级：\">\n                <el-select v-model=\"agent_level\" placeholder=\"请选择分销等级\" clearable class=\"form_content_width\">\n                  <el-option value=\"all\" label=\"全部\"></el-option>\n                  <el-option\n                    :value=\"item.grade\"\n                    v-for=\"(item, index) in membershipList\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"用户标签：\" label-for=\"label_id\">\n                <div class=\"labelInput acea-row row-between-wrapper\" v-db-click @click=\"openSelectLabel\">\n                  <div style=\"width: 222px\">\n                    <div v-if=\"selectDataLabel.length\">\n                      <el-tag :closable=\"false\" v-for=\"(item, index) in selectDataLabel\" :key=\"index\" class=\"mr10\">{{\n                        item.label_name\n                      }}</el-tag>\n                    </div>\n                    <span class=\"span\" v-else>选择用户关联标签</span>\n                  </div>\n                  <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"用户身份：\">\n                <el-select v-model=\"userFrom.is_promoter\" placeholder=\"请选择\" clearable class=\"form_content_width\">\n                  <el-option value=\"\" label=\"全部\"></el-option>\n                  <el-option value=\"1\" label=\"推广员\"></el-option>\n                  <el-option value=\"0\" label=\"普通用户\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"付费会员：\" label-for=\"isMember\">\n                <el-select v-model=\"userFrom.isMember\" placeholder=\"请选择\" clearable class=\"form_content_width\">\n                  <el-option value=\"\" label=\"全部\"></el-option>\n                  <el-option value=\"1\" label=\"是\"></el-option>\n                  <el-option value=\"0\" label=\"否\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"储值余额：\" label-for=\"balance\">\n                <el-input\n                  clearable\n                  placeholder=\"最小值\"\n                  v-model=\"userFrom.balance[0]\"\n                  class=\"form_range_content_width\"\n                />\n                ~\n                <el-input\n                  clearable\n                  placeholder=\"最大值\"\n                  v-model=\"userFrom.balance[1]\"\n                  class=\"form_range_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"积分剩余：\" label-for=\"integral\">\n                <el-input\n                  clearable\n                  placeholder=\"最小值\"\n                  v-model=\"userFrom.integral[0]\"\n                  class=\"form_range_content_width\"\n                />\n                ~\n                <el-input\n                  clearable\n                  placeholder=\"最大值\"\n                  v-model=\"userFrom.integral[1]\"\n                  class=\"form_range_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"上次消费：\" label-for=\"before_pay_time\">\n                <el-date-picker\n                  clearable\n                  v-model=\"before_pay_time\"\n                  type=\"daterange\"\n                  :editable=\"false\"\n                  @change=\"(e) => onchangeTime(e, 'before_pay_time')\"\n                  format=\"yyyy/MM/dd\"\n                  value-format=\"yyyy/MM/dd\"\n                  start-placeholder=\"开始日期\"\n                  end-placeholder=\"结束日期\"\n                  :picker-options=\"pickerOptions\"\n                  style=\"width: 250px\"\n                ></el-date-picker>\n              </el-form-item>\n              <el-form-item label=\"下单次数：\" label-for=\"pay_count\">\n                <el-input\n                  clearable\n                  placeholder=\"最小值\"\n                  v-model=\"userFrom.pay_count_num[0]\"\n                  class=\"form_range_content_width\"\n                />\n                ~\n                <el-input\n                  clearable\n                  placeholder=\"最大值\"\n                  v-model=\"userFrom.pay_count_num[1]\"\n                  class=\"form_range_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"消费金额：\" label-for=\"store_name\">\n                <el-input\n                  clearable\n                  placeholder=\"最小值\"\n                  v-model=\"userFrom.pay_count_money[0]\"\n                  class=\"form_range_content_width\"\n                />\n                ~\n                <el-input\n                  clearable\n                  placeholder=\"最大值\"\n                  v-model=\"userFrom.pay_count_money[1]\"\n                  class=\"form_range_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"充值次数：\" label-for=\"store_name\">\n                <el-input\n                  clearable\n                  placeholder=\"最小值\"\n                  v-model=\"userFrom.recharge_count[0]\"\n                  class=\"form_range_content_width\"\n                />\n                ~\n                <el-input\n                  clearable\n                  placeholder=\"最大值\"\n                  v-model=\"userFrom.recharge_count[1]\"\n                  class=\"form_range_content_width\"\n                />\n              </el-form-item>\n              <el-form-item label=\"访问情况：\" label-for=\"user_time_type\">\n                <el-select v-model=\"user_time_type\" placeholder=\"请选择访问情况\" clearable class=\"form_content_width\">\n                  <el-option value=\"\" label=\"全部\"></el-option>\n                  <el-option value=\"visitno\" label=\"时间段未访问\"></el-option>\n                  <el-option value=\"visit\" label=\"时间段访问过\"></el-option>\n                  <el-option value=\"add_time\" label=\"首次访问\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"访问时间：\" label-for=\"user_time\" v-if=\"user_time_type\">\n                <el-date-picker\n                  clearable\n                  v-model=\"timeVal\"\n                  type=\"daterange\"\n                  :editable=\"false\"\n                  @change=\"(e) => onchangeTime(e, 'user_time')\"\n                  format=\"yyyy/MM/dd\"\n                  value-format=\"yyyy/MM/dd\"\n                  start-placeholder=\"开始日期\"\n                  end-placeholder=\"结束日期\"\n                  :picker-options=\"pickerOptions\"\n                  style=\"width: 250px\"\n                ></el-date-picker>\n              </el-form-item>\n              <!-- <el-form-item label=\"地区：\" label-for=\"country\">\n                <el-select\n                  v-model=\"userFrom.country\"\n                  placeholder=\"请选择国家\"\n                  clearable\n                  @change=\"changeCountry\"\n                  class=\"form_content_width\"\n                >\n                  <el-option value=\"domestic\" label=\"中国\"></el-option>\n                  <el-option value=\"abroad\" label=\"外国\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"省份：\" v-if=\"userFrom.country === 'domestic'\">\n                <el-cascader\n                  :options=\"addresData\"\n                  :value=\"address\"\n                  v-model=\"address\"\n                  @change=\"handleChange\"\n                  clearable\n                  style=\"width: 250px\"\n                ></el-cascader>\n              </el-form-item> -->\n            </div>\n\n            <el-form-item class=\"search-form-sub\">\n              <el-button type=\"primary\" label=\"default\" v-db-click @click=\"userSearchs\">搜索</el-button>\n              <el-button class=\"ResetSearch\" v-db-click @click=\"reset('userFrom')\">重置</el-button>\n              <a class=\"ivu-ml-8 font12 ml10\" v-db-click @click=\"collapse = !collapse\">\n                <template v-if=\"!collapse\"> 展开 <i class=\"el-icon-arrow-down\" /> </template>\n                <template v-else> 收起 <i class=\"el-icon-arrow-up\" /> </template>\n              </a>\n            </el-form-item>\n          </div>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\" :body-style=\"{ padding: '0 20px 20px' }\">\n      <el-tabs v-model=\"userFrom.user_type\" @tab-click=\"onClickTab\">\n        <el-tab-pane :label=\"item.name\" :name=\"item.type\" v-for=\"(item, index) in headeNum\" :key=\"index\" />\n      </el-tabs>\n      <el-row :gutter=\"24\" justify=\"space-between\">\n        <el-col :span=\"24\">\n          <el-button v-auth=\"['admin-user-save']\" type=\"primary\" v-db-click @click=\"edit({ uid: 0 })\"\n            >添加用户</el-button\n          >\n          <el-button v-auth=\"['admin-user-coupon']\" v-db-click @click=\"onSend\">发送优惠券</el-button>\n          <el-button\n            v-auth=\"['admin-wechat-news']\"\n            class=\"greens mr10\"\n            v-db-click\n            @click=\"onSendPic\"\n            v-if=\"userFrom.user_type === 'wechat'\"\n          >\n            发送图文消息\n          </el-button>\n          <el-button v-auth=\"['admin-user-group_set']\" v-db-click @click=\"setGroup\">批量设置分组</el-button>\n          <el-button v-auth=\"['admin-user-set_label']\" v-db-click @click=\"setLabel\">批量设置标签</el-button>\n          <el-button class=\"mr10\" v-db-click @click=\"exportList\">导出</el-button>\n\n          <!-- <el-button v-auth=\"['admin-user-synchro']\" class=\"mr20\" v-db-click @click=\"synchro\">同步公众号用户</el-button> -->\n        </el-col>\n        <el-col :span=\"24\" class=\"userAlert\" v-if=\"selectionList.length\">\n          <el-alert show-icon>\n            <template slot=\"title\">\n              已选择<i class=\"userI\"> {{ selectionList.length }} </i>项\n            </template>\n          </el-alert>\n        </el-col>\n      </el-row>\n      <el-table\n        :data=\"userLists\"\n        class=\"mt16\"\n        ref=\"table\"\n        highlight-current-row\n        v-loading=\"loading\"\n        empty-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n        @sort-change=\"sortChanged\"\n        @select=\"handleSelectRow\"\n        @select-all=\"handleSelectAll\"\n      >\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"scope\">\n            <expandRow :row=\"scope.row\"></expandRow>\n          </template>\n        </el-table-column>\n        <el-table-column type=\"selection\" :selectable=\"isSel\" width=\"55\"> </el-table-column>\n        <el-table-column label=\"用户ID\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.uid }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"头像\" min-width=\"60\">\n          <template slot-scope=\"scope\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"scope.row.avatar\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"姓名\" min-width=\"150\">\n          <template slot-scope=\"scope\">\n            <div class=\"acea-row\">\n              <i class=\"el-icon-male\" v-show=\"scope.row.sex === '男'\" style=\"color: #2db7f5; font-size: 15px\"></i>\n              <i class=\"el-icon-female\" v-show=\"scope.row.sex === '女'\" style=\"color: #ed4014; font-size: 15px\"></i>\n              <div v-text=\"scope.row.nickname\" class=\"\"></div>\n            </div>\n            <div v-if=\"scope.row.is_del == 1\" style=\"color: red\">用户已注销</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"付费会员\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.isMember ? '是' : '否' }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户等级\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.level }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"分组\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.group_id }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"分销等级\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.agent_level_name }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"手机号\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.phone }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户类型\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.user_type }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"余额\" prop=\"now_money\" min-width=\"100\" :sortable=\"true\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.now_money }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <template v-if=\"scope.row.is_del != 1\">\n              <a v-db-click @click=\"userDetail(scope.row)\">详情</a>\n\n              <el-divider direction=\"vertical\"></el-divider>\n              <el-dropdown size=\"small\" @command=\"changeMenu(scope.row, $event, scope.$index)\" :transfer=\"true\">\n                <span class=\"el-dropdown-link\">更多<i class=\"el-icon-arrow-down el-icon--right\"></i> </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <!-- <el-dropdown-item command=\"1\">编辑</el-dropdown-item> -->\n                  <el-dropdown-item command=\"2\">修改余额</el-dropdown-item>\n                  <el-dropdown-item command=\"8\">修改积分</el-dropdown-item>\n                  <el-dropdown-item command=\"3\">赠送会员</el-dropdown-item>\n                  <!--                                <el-dropdown-item command=\"4\" v-if=\"row.vip_name\">清除等级</el-dropdown-item>-->\n                  <el-dropdown-item command=\"5\">设置分组</el-dropdown-item>\n                  <el-dropdown-item command=\"6\">设置标签</el-dropdown-item>\n                  <el-dropdown-item command=\"7\">修改上级推广人</el-dropdown-item>\n                  <el-dropdown-item command=\"99\" v-if=\"scope.row.spread_uid\">清除上级推广人</el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </template>\n            <template v-else>\n              <a v-db-click @click=\"userDetail(scope.row)\">详情</a>\n            </template>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"userFrom.page\"\n          :limit.sync=\"userFrom.limit\"\n          @pagination=\"pageChange\"\n        />\n      </div>\n    </el-card>\n    <!-- 编辑表单 积分余额-->\n    <edit-from ref=\"edits\" :FromData=\"FromData\" @submitFail=\"submitFail\"></edit-from>\n    <!-- 发送优惠券-->\n    <send-from ref=\"sends\" :userIds=\"ids.toString()\"></send-from>\n    <!-- 会员详情-->\n    <user-details ref=\"userDetails\"></user-details>\n    <!--发送图文消息 -->\n    <el-dialog :visible.sync=\"modal13\" title=\"发送消息\" width=\"1200px\" class=\"modelBox\">\n      <news-category\n        v-if=\"modal13\"\n        :isShowSend=\"isShowSend\"\n        :userIds=\"ids.toString()\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </el-dialog>\n    <!--修改推广人-->\n    <el-dialog :visible.sync=\"promoterShow\" title=\"修改推广人\" width=\"540px\" :show-close=\"true\">\n      <el-form ref=\"formInline\" :model=\"formInline\" label-width=\"100px\" @submit.native.prevent>\n        <el-form-item v-if=\"formInline\" label=\"选择推广人：\" prop=\"image\">\n          <div class=\"picBox\" v-db-click @click=\"customer\">\n            <div class=\"pictrue\" v-if=\"formInline.image\">\n              <img v-lazy=\"formInline.image\" />\n            </div>\n            <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n              <i class=\"el-icon-user\"></i>\n            </div>\n          </div>\n        </el-form-item>\n      </el-form>\n      <div class=\"acea-row row-right mt20\">\n        <el-button v-db-click @click=\"cancel('formInline')\">取消</el-button>\n        <el-button type=\"primary\" v-db-click @click=\"putSend('formInline')\">提交</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog :visible.sync=\"customerShow\" title=\"请选择商城用户\" :show-close=\"true\" width=\"1000px\">\n      <customerInfo v-if=\"customerShow\" @imageObject=\"imageObject\"></customerInfo>\n    </el-dialog>\n    <el-dialog :visible.sync=\"labelShow\" append-to-body title=\"请选择用户标签\" width=\"540px\" :show-close=\"true\">\n      <userLabel\n        v-if=\"labelShow\"\n        :uid=\"labelActive.uid\"\n        :only_get=\"!labelActive.uid\"\n        @close=\"labelClose\"\n        @activeData=\"activeData\"\n        @onceGetList=\"onceGetList\"\n      ></userLabel>\n    </el-dialog>\n    <el-drawer\n      custom-class=\"demo-drawer\"\n      :visible.sync=\"modals\"\n      :wrapperClosable=\"false\"\n      size=\"720\"\n      title=\"用户信息填写\"\n    >\n      <div class=\"demo-drawer__content\">\n        <userEdit ref=\"userEdit\" v-if=\"modals\" :userData=\"userData\"></userEdit>\n        <div class=\"fix_footer acea-row row-center\">\n          <el-button v-db-click @click=\"modals = false\">取消</el-button>\n          <el-button type=\"primary\" v-db-click @click=\"setUser\">提交</el-button>\n        </div>\n      </div>\n    </el-drawer>\n    <!-- 用户标签 -->\n    <el-dialog\n      :visible.sync=\"selectLabelShow\"\n      append-to-body\n      title=\"请选择用户标签\"\n      width=\"540px\"\n      :show-close=\"true\"\n      :close-on-click-modal=\"false\"\n    >\n      <userLabel\n        v-if=\"selectLabelShow\"\n        :uid=\"0\"\n        ref=\"userLabel\"\n        :only_get=\"true\"\n        :selectDataLabel=\"selectDataLabel\"\n        @activeData=\"activeSelectData\"\n        @close=\"labelClose\"\n      ></userLabel>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/userLabel';\nimport { mapState } from 'vuex';\nimport expandRow from './tableExpand.vue';\nimport userEdit from './handle/userEdit.vue';\nimport {\n  userList,\n  getUserData,\n  isShowApi,\n  editOtherApi,\n  giveLevelApi,\n  userSetGroup,\n  userGroupApi,\n  levelListApi,\n  userSetLabelApi,\n  userLabelApi,\n  userSynchro,\n  getUserSaveForm,\n  giveLevelTimeApi,\n  getUserInfo,\n  setUser,\n  editUser,\n  saveSetLabel,\n} from '@/api/user';\nimport { agentSpreadApi } from '@/api/agent';\nimport { exportUserList } from '@/api/export';\nimport editFrom from '../../../components/from/from';\nimport sendFrom from '@/components/sendCoupons/index';\nimport userDetails from './handle/userDetails';\nimport newsCategory from '@/components/newsCategory/index';\nimport customerInfo from '@/components/customerInfo';\nimport { cityList } from '@/api/app';\nimport { membershipDataListApi } from '@/api/membershipLevel';\n\nexport default {\n  name: 'user_list',\n  components: {\n    expandRow,\n    editFrom,\n    sendFrom,\n    userDetails,\n    newsCategory,\n    customerInfo,\n    userLabel,\n    userEdit,\n  },\n  data() {\n    return {\n      dataLabel: [],\n      selectDataLabel: [],\n      userData: {},\n      modals: false,\n      selectLabelShow: false,\n      labelShow: false,\n      customerShow: false,\n      promoterShow: false,\n      labelActive: {\n        uid: 0,\n      },\n      formInline: {\n        uid: 0,\n        spread_uid: 0,\n        image: '',\n      },\n      pickerOptions: this.$timeOptions,\n      collapse: false,\n      headeNum: [\n        { type: '', name: '全部' },\n        { type: 'wechat', name: '微信公众号' },\n        { type: 'routine', name: '微信小程序' },\n        { type: 'h5', name: 'H5' },\n        { type: 'pc', name: 'PC' },\n        { type: 'app', name: 'APP' },\n      ],\n      address: [],\n      addresData: [],\n      isShowSend: true,\n      modal13: false,\n      maxCols: 4,\n      scrollerHeight: '600',\n      contentTop: '130',\n      contentWidth: '98%',\n      grid: {\n        xl: 6,\n        lg: 6,\n        md: 8,\n        sm: 12,\n        xs: 24,\n      },\n      grid2: {\n        xl: 8,\n        lg: 8,\n        md: 8,\n        sm: 12,\n        xs: 24,\n      },\n      loading: false,\n      total: 0,\n      userFrom: {\n        label_id: '',\n        user_type: '',\n        status: '',\n        sex: '',\n        is_promoter: '',\n        country: '',\n        isMember: '',\n        pay_count_num: ['', ''],\n        balance: ['', ''],\n        integral: ['', ''],\n        pay_count_money: ['', ''],\n        recharge_count: ['', ''],\n        user_time_type: '',\n        user_time: '',\n        before_pay_time: '',\n        nickname: '',\n        province: '',\n        city: '',\n        page: 1,\n        limit: 15,\n        level: '',\n        group_id: '',\n        agent_level: '',\n        field_key: '',\n      },\n      before_pay_time: '',\n      field_key: '',\n      level: '',\n      group_id: '',\n      agent_level: '',\n      label_id: '',\n      user_time_type: '',\n      pay_count: '',\n      userLists: [],\n      FromData: null,\n      selectionList: [],\n      user_ids: '',\n      selectedData: [],\n      timeVal: [],\n      groupList: [],\n      levelList: [],\n      membershipList: [],\n      labelFrom: {\n        page: 1,\n        limit: '',\n      },\n      labelLists: [],\n      selectedIds: [], //选中合并项的id\n      ids: [],\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n  },\n  created() {\n    this.getList();\n    this.getCityList();\n  },\n  mounted() {\n    this.userGroup();\n    this.levelLists();\n    this.membershipDataList();\n    // this.groupLists();\n  },\n  methods: {\n    getCityList() {\n      cityList().then((res) => {\n        this.addresData = res.data;\n      });\n    },\n    setUser() {\n      let data = this.$refs.userEdit.formItem;\n      let ids = [];\n      this.$refs.userEdit.dataLabel.map((i) => {\n        ids.push(i.id);\n      });\n      data.label_id = ids;\n      // if (!data.real_name) return this.$message.warning(\"请输入真实姓名\");\n      // if (!data.phone) return this.$message.warning(\"请输入手机号\");\n      // if (!data.pwd) return this.$message.warning(\"请输入密码\");\n      // if (!data.true_pwd) return this.$message.warning(\"请输入确认密码\");\n      if (data.uid) {\n        editUser(data)\n          .then((res) => {\n            this.modals = false;\n            this.$message.success(res.msg);\n            this.getList();\n          })\n          .catch((err) => {\n            this.$message.error(err);\n          });\n      } else {\n        setUser(data)\n          .then((res) => {\n            this.modals = false;\n            this.$message.success(res.msg);\n            this.getList();\n          })\n          .catch((err) => {\n            this.$message.error(err.msg);\n          });\n      }\n    },\n    onceGetList() {\n      this.labelActive.uid = 0;\n      this.getList();\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelActive.uid = 0;\n      this.labelShow = false;\n      this.selectLabelShow = false;\n    },\n    // 提交\n    putSend(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          if (!this.formInline.spread_uid) {\n            return this.$message.error('请上传用户');\n          }\n          agentSpreadApi(this.formInline)\n            .then((res) => {\n              this.promoterShow = false;\n              this.$message.success(res.msg);\n              this.getList();\n              this.$refs[name].resetFields();\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        }\n      });\n    },\n\n    save() {\n      this.modals = true;\n\n      // this.$modalForm(getUserSaveForm())\n      //   .then(() => {\n      //     this.userFrom.page = 1;\n      //     this.getList();\n      //   })\n      //   .catch((res) => {\n      //     this.$message.error(res.msg);\n      //   });\n    },\n    synchro() {\n      userSynchro()\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    isSel(row) {\n      return !!!row.is_del;\n    },\n    // 分组列表\n    groupLists() {\n      this.loading = true;\n      userLabelApi(this.labelFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.labelLists = data.list;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    onClickTab() {\n      this.userFrom.page = 1;\n      this.getList();\n    },\n    userGroup() {\n      let data = {\n        page: 1,\n        limit: '',\n      };\n      userGroupApi(data).then((res) => {\n        this.groupList = res.data.list;\n      });\n    },\n    levelLists() {\n      let data = {\n        page: 1,\n        limit: '',\n        title: '',\n        is_show: 1,\n      };\n      levelListApi(data).then((res) => {\n        this.levelList = res.data.list;\n      });\n    },\n    membershipDataList() {\n      let data = {\n        page: 1,\n        limit: 0,\n        staus: 1,\n      };\n      membershipDataListApi(data).then((res) => {\n        this.membershipList = res.data.list;\n      });\n    },\n    // 批量设置分组；\n    setGroup() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要设置分组的用户');\n      } else {\n        let uids = { uids: this.ids };\n        this.$modalForm(userSetGroup(uids)).then(() => {\n          this.ids = [];\n          this.selectedIds = [];\n          this.getList();\n        });\n      }\n    },\n    // 批量设置标签；\n    setLabel() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要设置标签的用户');\n      } else {\n        let uids = { uids: this.ids };\n        this.labelActive.uid = 0;\n        this.labelShow = true;\n        // this.$modalForm(userSetLabelApi(uids)).then(() =>\n        //   this.$refs.sends.getList()\n        // );\n      }\n    },\n    activeSelectData(data) {\n      this.selectLabelShow = false;\n      this.selectDataLabel = data || [];\n      if (this.selectDataLabel.length) {\n        let activeIds = [];\n        this.selectDataLabel.map((item) => {\n          activeIds.push(item.id);\n        });\n        this.userFrom.label_id = activeIds.join(',');\n        this.getList();\n      } else {\n        this.userFrom.label_id = '';\n      }\n    },\n    handleClose(tag) {\n      let i = this.selectDataLabel.findIndex((item) => item.id === tag.id);\n      if (i !== -1) {\n        this.selectDataLabel.splice(i, 1);\n      }\n      this.$nextTick(() => {\n        if (this.selectDataLabel.length) {\n          let activeIds = [];\n          this.selectDataLabel.map((item) => {\n            activeIds.push(item.id);\n          });\n          this.userFrom.label_id = activeIds.join(',');\n        } else {\n          this.userFrom.label_id = '';\n        }\n      });\n      // this.userSearchs();\n    },\n    // 批量设置标签\n    activeData(data) {\n      let labels = [];\n      if (!data.length) return;\n      data.map((i) => {\n        labels.push(i.id);\n      });\n      saveSetLabel({\n        uids: this.ids.join(','),\n        label_id: labels,\n      }).then((res) => {\n        this.labelShow = false;\n        this.selectedIds = new Set();\n        this.getList();\n        this.$message.success(res.msg);\n      });\n    },\n    //是否为付费会员；\n    changeMember() {\n      this.userFrom.page = 1;\n      this.getList();\n    },\n    // 选择国家\n    changeCountry() {\n      if (this.userFrom.country === 'abroad' || !this.userFrom.country) {\n        this.selectedData = [];\n        this.userFrom.province = '';\n        this.userFrom.city = '';\n        this.address = [];\n      }\n    },\n    // 选择地址\n    handleChange(selectedData) {\n      this.selectedData = selectedData.map((o) => o.label);\n      this.userFrom.province = this.selectedData[0];\n      this.userFrom.city = this.selectedData[1];\n    },\n    // 具体日期\n    onchangeTime(e, type) {\n      this.userFrom[type] = e ? e.join('-') : '';\n    },\n    userDetail(row) {\n      this.$refs.userDetails.modals = true;\n      this.$refs.userDetails.getDetails(row.uid);\n    },\n    // 操作\n    changeMenu(row, name, index) {\n      let uid = [];\n      uid.push(row.uid);\n      let uids = { uids: uid };\n      switch (name) {\n        case '1':\n          this.edit(row);\n          break;\n        case '2':\n          this.getOtherFrom(row.uid, 'money');\n          break;\n        case '3':\n          this.giveLevelTime(row.uid);\n          break;\n        case '4':\n          this.del(row, '清除 【 ' + this.tenText(row.nickname) + ' 】的会员等级', index, 'user');\n          break;\n        case '5':\n          this.$modalForm(userSetGroup(uids)).then(() => this.getList());\n          break;\n        case '6':\n          this.openLabel(row);\n          break;\n        case '7':\n          this.editS(row);\n          break;\n        case '8':\n          this.getOtherFrom(row.uid, 'point');\n          break;\n        default:\n          this.del(row, '解除【 ' + this.tenText(row.nickname) + ' 】的上级推广人', index, 'tuiguang');\n      }\n    },\n    tenText(str) {\n      if (str.length > 10) {\n        //如果字符长度超过10，后面的字符就变成...可自行调整长度和代替字符\n        str = str.substr(0, 10) + '...'; //截取从第一个字符开始，往后取10个字符，剩余的用...代替\n      }\n      return str;\n    },\n    openLabel(row) {\n      this.labelShow = true;\n      this.labelActive.uid = row.uid;\n    },\n    openSelectLabel() {\n      this.selectLabelShow = true;\n    },\n    editS(row) {\n      this.promoterShow = true;\n      this.formInline.uid = row.uid;\n    },\n    customer() {\n      this.customerShow = true;\n    },\n    imageObject(e) {\n      this.customerShow = false;\n      this.formInline.spread_uid = e.uid;\n      this.formInline.image = e.image;\n    },\n    cancel(name) {\n      this.promoterShow = false;\n      this.$refs[name].resetFields();\n      this.formInline = {\n        uid: 0,\n        spread_uid: 0,\n        image: '',\n      };\n    },\n    // 赠送会员等级\n    giveLevel(id) {\n      this.$modalForm(giveLevelApi(id)).then(() => this.getList(1));\n\n      // giveLevelApi(id)\n      //   .then(async (res) => {\n      //     if (res.data.status === false) {\n      //       return this.$authLapse(res.data);\n      //     }\n\n      //     this.FromData = res.data;\n      //     this.$refs.edits.modals = true;\n      //   })\n      //   .catch((res) => {\n      //     this.$message.error(res.msg);\n      //   });\n    },\n    // 赠送会员等级\n    giveLevelTime(id) {\n      this.$modalForm(giveLevelTimeApi(id)).then(() => this.getList(1));\n\n      // giveLevelTimeApi(id)\n      //   .then(async (res) => {\n      //     if (res.data.status === false) {\n      //       return this.$authLapse(res.data);\n      //     }\n      //     this.FromData = res.data;\n      //     this.$refs.edits.modals = true;\n      //   })\n      //   .catch((res) => {\n      //     this.$message.error(res.msg);\n      //   });\n    },\n    // 删除\n    del(row, tit, num, name) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: name === 'user' ? `user/del_level/${row.uid}` : `agent/stair/delete_spread/${row.uid}`,\n        method: name === 'user' ? 'DELETE' : 'PUT',\n        ids: '',\n        width: 600,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getList();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 清除会员删除成功\n    submitModel() {\n      this.getList();\n    },\n    // 会员列表\n    getList() {\n      // if (this.selectDataLabel.length) {\n      //   let activeIds = [];\n      //   this.selectDataLabel.forEach((item) => {\n      //     activeIds.push(item.id);\n      //   });\n      //   this.userFrom.label_id = activeIds.join(',');\n      // }\n      this.userFrom.user_type = this.userFrom.user_type || '';\n      this.userFrom.status = this.userFrom.status || '';\n      this.userFrom.sex = this.userFrom.sex || '';\n      this.userFrom.is_promoter = this.userFrom.is_promoter || '';\n      this.userFrom.country = this.userFrom.country || '';\n      this.userFrom.pay_count = this.pay_count === 'all' ? '' : this.pay_count;\n      this.userFrom.user_time_type = this.user_time_type === 'all' ? '' : this.user_time_type;\n      this.userFrom.field_key = this.field_key === 'all' ? '' : this.field_key;\n      this.userFrom.level = this.level === 'all' ? '' : this.level;\n      this.userFrom.group_id = this.group_id === 'all' ? '' : this.group_id;\n      this.userFrom.agent_level = this.agent_level === 'all' ? '' : this.agent_level;\n      this.loading = true;\n      userList(this.userFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.userLists = data.list;\n\n          this.total = data.count;\n          this.loading = false;\n          this.$nextTick(() => {\n            this.setChecked();\n          });\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 用户导出\n    async exportList() {\n      if (this.ids.length) {\n        this.userFrom.ids = this.ids;\n      }\n      this.userFrom.user_type = this.userFrom.user_type || '';\n      this.userFrom.status = this.userFrom.status || '';\n      this.userFrom.sex = this.userFrom.sex || '';\n      this.userFrom.is_promoter = this.userFrom.is_promoter || '';\n      this.userFrom.country = this.userFrom.country || '';\n      this.userFrom.pay_count = this.pay_count === 'all' ? '' : this.pay_count;\n      this.userFrom.user_time_type = this.user_time_type === 'all' ? '' : this.user_time_type;\n      this.userFrom.field_key = this.field_key === 'all' ? '' : this.field_key;\n      this.userFrom.level = this.level === 'all' ? '' : this.level;\n      this.userFrom.group_id = this.group_id === 'all' ? '' : this.group_id;\n      this.userFrom.agent_level = this.agent_level === 'all' ? '' : this.agent_level;\n      let [th, filekey, data, fileName] = [[], [], [], ''];\n      //   let fileName = \"\";\n      let excelData = JSON.parse(JSON.stringify(this.userFrom));\n      excelData.page = 1;\n      for (let i = 0; i < excelData.page + 1; i++) {\n        let lebData = await this.getExcelData(excelData);\n        if (!fileName) fileName = lebData.filename;\n        if (!filekey.length) {\n          filekey = lebData.fileKey;\n        }\n        if (!th.length) th = lebData.header;\n        if (lebData.export.length) {\n          data = data.concat(lebData.export);\n          excelData.page++;\n        } else {\n          this.$exportExcel(th, filekey, fileName, data);\n          return;\n        }\n      }\n    },\n    getExcelData(excelData) {\n      return new Promise((resolve, reject) => {\n        exportUserList(excelData).then((res) => {\n          resolve(res.data);\n        });\n      });\n    },\n    pageChange() {\n      this.selectionList = [];\n      this.getList();\n    },\n\n    // 搜索\n    userSearchs() {\n      this.userFrom.page = 1;\n      this.getList();\n    },\n    // 重置\n    reset(name) {\n      this.userFrom = {\n        label_id: '',\n        status: '',\n        sex: '',\n        is_promoter: '',\n        country: '',\n        isMember: '',\n        pay_count_num: ['', ''],\n        balance: ['', ''],\n        integral: ['', ''],\n        pay_count_money: ['', ''],\n        recharge_count: ['', ''],\n        user_time_type: '',\n        user_time: '',\n        before_pay_time: '',\n        nickname: '',\n        province: '',\n        city: '',\n        page: 1,\n        limit: 15,\n        level: '',\n        group_id: '',\n        agent_level: '',\n        field_key: '',\n        page: 1, // 当前页\n        limit: 20, // 每页显示条数\n      };\n      this.field_key = '';\n      this.level = '';\n      this.group_id = '';\n      this.agent_level = '';\n      this.dataLabel = [];\n      this.selectDataLabel = [];\n      this.user_time_type = '';\n      this.pay_count = '';\n      this.timeVal = [];\n      this.selectedIds = new Set();\n      this.getList();\n    },\n    // 获取编辑表单数据\n    getUserFrom(id) {\n      getUserInfo(id)\n        .then(async (res) => {\n          this.modals = true;\n          this.userData = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 获取积分余额表单\n    getOtherFrom(id, type) {\n      this.$modalForm(editOtherApi(id, type)).then(() => this.getList(1));\n    },\n    // 修改状态\n    onchangeIsShow(row) {\n      let data = {\n        id: row.uid,\n        status: row.status,\n      };\n      isShowApi(data)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 点击发送优惠券\n    onSend() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要发送优惠券的用户');\n      } else {\n        this.$refs.sends.modals = true;\n        this.$refs.sends.getList();\n      }\n    },\n    // 发送图文消息\n    onSendPic() {\n      if (this.ids.length === 0) {\n        this.$message.warning('请选择要发送图文消息的用户');\n      } else {\n        this.modal13 = true;\n      }\n    },\n    // 编辑\n    edit(row) {\n      this.getUserFrom(row.uid);\n    },\n    // 修改成功\n    submitFail() {\n      // this.getList();\n    },\n    // 排序\n    sortChanged(e, props, order) {\n      this.userFrom[e.prop] = e.order;\n      this.getList();\n    },\n    //全选和取消全选时触发\n    handleSelectAll(selection) {\n      let ids = [];\n      selection.map((e) => {\n        ids.push(e.uid);\n      });\n      this.selectedIds = ids;\n      this.$nextTick(() => {\n        //确保dom加载完毕\n        this.setChecked();\n      });\n    },\n    //  选中某一行\n    handleSelectRow(selection, row) {\n      let ids = [];\n      selection.map((e) => {\n        ids.push(e.uid);\n      });\n      this.selectedIds = ids;\n      this.$nextTick(() => {\n        //确保dom加载完毕\n        this.setChecked();\n      });\n    },\n    setChecked() {\n      //将new Set()转化为数组\n      this.ids = [...this.selectedIds];\n      // 找到绑定的table的ref对应的dom，找到table的objData对象，objData保存的是当前页的数据\n      let objData = this.$refs.table.objData;\n      for (let index in objData) {\n        if (this.selectedIds.has(objData[index].uid)) {\n          objData[index]._isChecked = true;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n\n.picBox {\n  display: inline-block;\n  cursor: pointer;\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n    font-size: 24px;\n    font-weight: 500;\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 10px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n.fix_footer {\n  position: fixed;\n  bottom: 0;\n  width: -webkit-fill-available;\n  background: #fff;\n  padding: 20px 0px;\n  box-sizing: border-box;\n  z-index: 100;\n}\n.userFrom {\n  ::v-deep .ivu-form-item-content {\n    margin-left: 0px !important;\n  }\n}\n\n.userAlert {\n  margin-top: 20px;\n}\n\n.userI {\n  color: var(--prev-color-primary);\n  font-style: normal;\n}\n\nimg {\n  height: 36px;\n  display: block;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.tabBox_tit {\n  width: 60%;\n  font-size: 12px !important;\n  margin: 0 2px 0 10px;\n  letter-spacing: 1px;\n  padding: 5px 0;\n  box-sizing: border-box;\n}\n\n.modelBox {\n  ::v-deep .ivu-modal-body {\n    padding: 0 16px 16px 16px !important;\n  }\n}\n\n.vipName {\n  color: #dab176;\n}\n\n.listbox {\n  ::v-deep .ivu-divider-horizontal {\n    margin: 0 !important;\n  }\n}\n\n.labelInput {\n  width: 250px;\n  border: 1px solid #dcdee2;\n  padding: 0 15px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n  font-size: 12px;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .ivu-icon-ios-arrow-down {\n    font-size: 14px;\n    color: #808695;\n  }\n}\n\n.demo-drawer-footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n\n.search-form {\n  display: flex;\n  justify-content: space-between;\n\n  .search-form-box {\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1;\n  }\n}\n\n.search-form-sub {\n  display: flex;\n}\n</style>\n"]}]}