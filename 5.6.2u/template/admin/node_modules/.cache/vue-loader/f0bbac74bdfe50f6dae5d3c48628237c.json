{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\mobile\\orderList\\index.vue?vue&type=style&index=0&id=6338f8f4&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\mobile\\orderList\\index.vue","mtime":1731313973071},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wb3Mtb3JkZXItZ29vZHMgewogIHBhZGRpbmc6IDAgMC4zcmVtOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgewogIGhlaWdodDogMS44NXJlbTsKfQoucG9zLW9yZGVyLWdvb2RzIC5nb29kcyB+IC5nb29kcyB7CiAgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCAjZTVlNWU1Owp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgewogIHdpZHRoOiA1LjE1cmVtOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgLnBpY3RydWUgewogIHdpZHRoOiAxLjNyZW07CiAgaGVpZ2h0OiAxLjNyZW07Cn0KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLnBpY1R4dCAucGljdHJ1ZSBpbWcgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBib3JkZXItcmFkaXVzOiAwLjA2cmVtOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgLnRleHQgewogIHdpZHRoOiAzLjY1cmVtOwogIGhlaWdodDogMS4zcmVtOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgLnRleHQgLmluZm8gewogIGZvbnQtc2l6ZTogMC4yOHJlbTsKICBjb2xvcjogIzI4MjgyODsKfQoucG9zLW9yZGVyLWdvb2RzIC5nb29kcyAucGljVHh0IC50ZXh0IC5hdHRyIHsKICBmb250LXNpemU6IDAuMnJlbTsKICBjb2xvcjogIzk5OTsKICBoZWlnaHQ6IDAuOHJlbTsKICBsaW5lLWhlaWdodDogMC44cmVtOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5tb25leSB7CiAgd2lkdGg6IDEuNjRyZW07CiAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgZm9udC1zaXplOiAwLjI4cmVtOwogIGhlaWdodDogMS4zcmVtOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5tb25leSAueC1tb25leSB7CiAgY29sb3I6ICMyODI4Mjg7Cn0KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLm1vbmV5IC5udW0gewogIGNvbG9yOiAjZmY5NjAwOwogIG1hcmdpbjogMC4wNXJlbSAwOwp9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5tb25leSAueS1tb25leSB7CiAgY29sb3I6ICM5OTk7CiAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7Cn0KLnBvcy1vcmRlci1saXN0IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYmFja2dyb3VuZDogI2Y1ZjVmNTsKICBoZWlnaHQ6IDEwMCU7Cn0KLnBvcy1vcmRlci1saXN0IC5oZWFkLWJveCB7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAuaW5wdXQtYm94IHsKICAgIHdpZHRoOiA2LjlyZW07CiAgICBtYXJnaW46IDAuMnJlbSBhdXRvOwogICAgYmFja2dyb3VuZDogI2Y1ZjZmOTsKICAgIGJvcmRlci1yYWRpdXM6IDAuMzlyZW07CiAgICA6OnYtZGVlcCAuaXZ1LWlucHV0IHsKICAgICAgZm9udC1zaXplOiAwLjI4cmVtICFpbXBvcnRhbnQ7CiAgICAgIGJhY2tncm91bmQ6ICNmNWY2Zjk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDAuMzlyZW07CiAgICB9CiAgICA6OnYtZGVlcCAuaXZ1LWlucHV0LAogICAgLml2dS1pbnB1dDpob3ZlciwKICAgIC5pdnUtaW5wdXQ6Zm9jdXMgewogICAgICBib3JkZXI6IHRyYW5zcGFyZW50OwogICAgICBib3gtc2hhZG93OiBub25lOwogICAgfQogIH0KfQoucG9zLW9yZGVyLWxpc3QgLm5hdiB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAwLjhyZW07CiAgZm9udC1zaXplOiAwLjNyZW07CiAgY29sb3I6ICMyODI4Mjg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5wb3Mtb3JkZXItbGlzdCAubmF2IC5pdGVtIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbGluZS1oZWlnaHQ6IDAuOHJlbTsKfQoucG9zLW9yZGVyLWxpc3QgLm5hdiAuaXRlbS5vbiB7CiAgY29sb3I6ICMzODc1ZWE7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzODc1ZWE7Cn0KLnBvcy1vcmRlci1saXN0IC5saXN0IHsKICBmbGV4OiAxOwogIG1hcmdpbi10b3A6IDAuMXJlbTsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICB3aWR0aDogMTAwJTsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gfiAuaXRlbSB7CiAgbWFyZ2luLXRvcDogMC4yNHJlbTsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9yZGVyLW51bSB7CiAgaGVpZ2h0OiAxLjI0cmVtOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwogIGZvbnQtc2l6ZTogMC4zcmVtOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAjMjgyODI4OwogIHBhZGRpbmc6IDAgMC4zcmVtOwp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3JkZXItbnVtIC50aW1lIHsKICBmb250LXNpemU6IDAuMjZyZW07CiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICBjb2xvcjogIzk5OTsKICBtYXJnaW4tdG9wOiAtMC40cmVtOwp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIHsKICBwYWRkaW5nOiAwLjJyZW0gMC4zcmVtOwogIG1hcmdpbi10b3A6IDAuMDNyZW07Cn0KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLm1vcmUgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAuaWNvbi1nZW5nZHVvIHsKICBmb250LXNpemU6IDAuNXJlbTsKICBjb2xvcjogI2FhYTsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXIgLmFycm93IHsKICB3aWR0aDogMDsKICBoZWlnaHQ6IDA7CiAgYm9yZGVyLWxlZnQ6IDAuMTFyZW0gc29saWQgdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXJpZ2h0OiAwLjExcmVtIHNvbGlkIHRyYW5zcGFyZW50OwogIGJvcmRlci10b3A6IDAuMnJlbSBzb2xpZCAjZTVlNWU1OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwLjE1cmVtOwogIGJvdHRvbTogLTAuMThyZW07Cn0KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLm9yZGVyIC5hcnJvdzpiZWZvcmUgewogIGNvbnRlbnQ6ICcnOwogIHdpZHRoOiAwOwogIGhlaWdodDogMDsKICBib3JkZXItbGVmdDogMC4wN3JlbSBzb2xpZCB0cmFuc3BhcmVudDsKICBib3JkZXItcmlnaHQ6IDAuMDdyZW0gc29saWQgdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXRvcDogMC4ycmVtIHNvbGlkICNmZmY7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IC0wLjA3cmVtOwogIGJvdHRvbTogMDsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXIgewogIHdpZHRoOiAycmVtOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICBib3JkZXItcmFkaXVzOiAwLjFyZW07CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogLTFyZW07CiAgei1pbmRleDogOTsKfQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXIgLml0ZW1zIHsKICBoZWlnaHQ6IDAuNzdyZW07CiAgbGluZS1oZWlnaHQ6IDAuNzdyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIC5vcmRlciAuaXRlbXMgfiAuaXRlbXMgewogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjVmNWY1Owp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIC5ibnQgewogIGZvbnQtc2l6ZTogMC4yOHJlbTsKICBjb2xvcjogIzVjNWM1YzsKICB3aWR0aDogMS43cmVtOwogIGhlaWdodDogMC42cmVtOwogIGJvcmRlci1yYWRpdXM6IDAuM3JlbTsKICBib3JkZXI6IDFweCBzb2xpZCAjYmJiOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogMC42cmVtOwp9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIC5ibnQgfiAuYm50IHsKICBtYXJnaW4tbGVmdDogMC4xNHJlbTsKfQoucHVibGljLXRvdGFsIHsKICBmb250LXNpemU6IDAuMjhyZW07CiAgY29sb3I6ICMyODI4Mjg7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgaGVpZ2h0OiAwLjkycmVtOwogIGxpbmUtaGVpZ2h0OiAwLjkycmVtOwogIHRleHQtYWxpZ246IHJpZ2h0OwogIHBhZGRpbmc6IDAgMC4zcmVtOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLnB1YmxpYy10b3RhbCAubW9uZXkgewogIGNvbG9yOiAjZmY0YzNjOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA+ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/kefu/mobile/orderList","sourcesContent":["<template>\n  <div class=\"pos-order-list\" ref=\"container\">\n    <div class=\"head-box\">\n      <div class=\"nav acea-row row-around row-middle\">\n        <div class=\"item\" :class=\"where.type === '' ? 'on' : ''\" v-db-click @click=\"changeStatus('')\">全部</div>\n        <div class=\"item\" :class=\"where.type === 0 ? 'on' : ''\" v-db-click @click=\"changeStatus(0)\">未支付</div>\n        <div class=\"item\" :class=\"where.type === 1 ? 'on' : ''\" v-db-click @click=\"changeStatus(1)\">未发货</div>\n        <div class=\"item\" :class=\"where.type === -1 ? 'on' : ''\" v-db-click @click=\"changeStatus(-1)\">退款中</div>\n      </div>\n      <div class=\"input-box\">\n        <el-input placeholder=\"搜索订单编号\" v-model=\"where.search\" @on-enter=\"bindSearch\" />\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <vue-scroll :ops=\"ops\" @load-before-deactivate=\"handleWordsScroll\" ref=\"scrollBox\" style=\"height: 100%\">\n        <div class=\"slot-load\" slot=\"load-deactive\"></div>\n        <div class=\"slot-load\" slot=\"load-beforeDeactive\"></div>\n        <div class=\"slot-load\" slot=\"load-active\">下滑加载更多</div>\n        <template v-if=\"list.length > 0\">\n          <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\n            <div class=\"order-num acea-row row-middle\" v-db-click @click=\"toDetail(item)\">\n              订单号：{{ item.order_id }}\n              <span class=\"time\">下单时间：{{ item._add_time }}</span>\n            </div>\n            <template if=\"item.productList && item.productList.length\">\n              <div class=\"pos-order-goods\" v-for=\"(val, key) in item.cartInfo\" :key=\"key\">\n                <div class=\"goods acea-row row-between-wrapper\" v-db-click @click=\"toDetail(item)\">\n                  <div class=\"picTxt acea-row row-between-wrapper\">\n                    <div class=\"pictrue\">\n                      <img :src=\"val.productInfo.image\" />\n                    </div>\n                    <div class=\"text\">\n                      <div class=\"info line2\">\n                        {{ val.productInfo.store_name }}\n                      </div>\n                      <div class=\"attr line1\" v-if=\"val.productInfo.attrInfo.suk\">\n                        {{ val.productInfo.attrInfo.suk }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"money\">\n                    <div class=\"x-money\">￥{{ val.productInfo.attrInfo.price }}</div>\n                    <div class=\"num\">x{{ val.cart_num }}</div>\n                    <div class=\"y-money\">\n                      <!--￥{{ val.info.productInfo.attrInfo.otPrice }}-->\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n            <div class=\"public-total\">\n              共{{ item.total_num }}件商品，应支付 <span class=\"money\">￥{{ item.pay_price }}</span> ( 邮费 ¥{{\n                item.pay_postage\n              }}\n              )\n            </div>\n            <div class=\"operation acea-row row-between-wrapper\">\n              <div class=\"more\">\n                <!--            <div class=\"iconfontYI icon-gengduo\" v-db-click @click=\"more(index)\"></div>-->\n                <!--            <div class=\"order\" v-show=\"current === index\">-->\n                <!--              <div class=\"items\">-->\n                <!--                {{ where.status > 0 ? \"删除\" : \"取消\" }}订单-->\n                <!--              </div>-->\n                <!--              <div class=\"arrow\"></div>-->\n                <!--            </div>-->\n              </div>\n              <div class=\"acea-row row-middle\">\n                <div class=\"bnt\" v-db-click @click=\"modify(item, 0)\" v-if=\"item.paid === 0\">一键改价</div>\n                <div class=\"bnt\" v-db-click @click=\"modify(item, 1)\">订单备注</div>\n                <div\n                  class=\"bnt\"\n                  v-db-click\n                  @click=\"modify(item, 0)\"\n                  v-if=\"item._status._type === -1 && item.refund_status === 1\"\n                >\n                  立即退款\n                </div>\n                <div\n                  class=\"bnt cancel\"\n                  v-if=\"item.pay_type === 'offline' && item.paid === 0\"\n                  v-db-click\n                  @click=\"offlinePay(item)\"\n                >\n                  确认付款\n                </div>\n                <router-link\n                  class=\"bnt\"\n                  v-if=\"item._status._type === 1 && item.shipping_type !== 2\"\n                  :to=\"'/kefu/orderDelivery/' + item.id + '/' + item.order_id\"\n                  >去发货\n                </router-link>\n                <div\n                  class=\"bnt cancel\"\n                  v-if=\"item._status._type === 1 && item.shipping_type === 2\"\n                  v-db-click\n                  @click=\"storeCancellation(item)\"\n                >\n                  去核销\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === ''\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_all.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">亲，该客户暂无订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === 0\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_zf.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无未支付订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === 2\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_fh.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无未收货订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === -1\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_tk.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无退款订单～</p>\n          </div>\n        </template>\n      </vue-scroll>\n    </div>\n    <!--        <Loading :loaded=\"loaded\" :loading=\"loading\"></Loading>-->\n    <PriceChange\n      v-if=\"orderInfo\"\n      :change=\"change\"\n      :orderInfo=\"orderInfo\"\n      v-on:closechange=\"changeclose($event)\"\n      @closeChange=\"closeChange($event)\"\n      :status=\"status\"\n    ></PriceChange>\n    <write-off\n      v-if=\"iShidden\"\n      :iShidden=\"iShidden\"\n      :orderInfo=\"orderInfo\"\n      @cancel=\"cancel\"\n      @confirm=\"confirm\"\n    ></write-off>\n  </div>\n</template>\n<script>\nimport PriceChange from '../../components/PriceChange';\nimport Loading from '../../components/Loading';\nimport { getorderList, orderVerificApi } from '@/api/kefu';\nimport { required, num } from '@/utils/validate';\nimport { validatorDefaultCatch } from '@/libs/dialog';\nimport WriteOff from '../../components/writeOff';\nimport { HappyScroll } from 'vue-happy-scroll';\nimport { serviceInfo } from '@/api/kefu_mobile';\nexport default {\n  name: 'AdminOrderList',\n  components: {\n    WriteOff,\n    PriceChange,\n    Loading,\n    HappyScroll,\n  },\n  props: {},\n  data: function () {\n    return {\n      current: '',\n      change: false,\n      types: 0,\n      where: {\n        page: 1,\n        limit: 15,\n        search: '',\n        type: '',\n      },\n      list: [],\n      loaded: false,\n      loading: false,\n      orderInfo: {},\n      status: null,\n      iShidden: false,\n      ops: {\n        vuescroll: {\n          mode: 'slide',\n          enable: false,\n          tips: {\n            deactive: 'Push to Load',\n            active: 'Release to Load',\n            start: 'Loading...',\n            beforeDeactive: 'Load Successfully!',\n          },\n          auto: false,\n          autoLoadDistance: 0,\n          pullRefresh: {\n            enable: false,\n          },\n          pushLoad: {\n            enable: true,\n            auto: true,\n            autoLoadDistance: 10,\n          },\n        },\n        bar: {\n          background: '#393232',\n          opacity: '.5',\n          size: '2px',\n        },\n      },\n    };\n  },\n  watch: {\n    '$route.params.type': function (newVal) {\n      let that = this;\n      if (newVal != undefined) {\n        that.where.type = newVal;\n        that.init();\n      }\n    },\n    types: function () {\n      this.getIndex();\n    },\n  },\n  created() {\n    // import('@/assets/js/media_750')\n    serviceInfo().then((res) => {\n      window.document.title = `${res.data.site_name} - 订单列表`;\n    });\n  },\n  mounted() {\n    this.current = '';\n    this.getIndex();\n    this.$scroll(this.$refs.container, () => {\n      !this.loading && this.getIndex();\n    });\n  },\n  methods: {\n    // 搜索回车\n    bindSearch() {\n      this.init();\n    },\n    // 去核销\n    storeCancellation(item) {\n      this.orderInfo = item;\n      this.iShidden = true;\n    },\n    cancel: function (res) {\n      this.iShidden = res;\n    },\n    confirm: function () {\n      orderVerificApi(this.orderInfo.id)\n        .then((res) => {\n          this.iShidden = false;\n          this.init();\n          this.$dialog.success(res.msg);\n        })\n        .catch((res) => {\n          this.$dialog.error(res.msg);\n        });\n    },\n    more: function (index) {\n      if (this.current === index) this.current = '';\n      else this.current = index;\n    },\n    modify: function (item, status) {\n      this.change = true;\n      this.orderInfo = item;\n      this.status = status;\n    },\n    closeChange(msg) {\n      this.change = msg;\n    },\n    changeclose: function (msg) {\n      this.change = msg;\n      this.init();\n    },\n    // 拒绝退款\n    getRefuse(id) {\n      orderRefuseApi(data)\n        .then(() => {\n          that.change = false;\n          that.$dialog.success('已拒绝退款');\n          that.init();\n        })\n        .catch((error) => {\n          that.$dialog.error(error.message);\n        });\n    },\n    async savePrice(opt) {\n      let that = this,\n        data = {},\n        price = opt.price,\n        refundPrice = opt.refundPrice,\n        refundStatus = that.orderInfo.refundStatus,\n        remark = opt.remark;\n      if (that.status == 0 && refundStatus === 0) {\n        try {\n          await this.$validator({\n            price: [required(required.message('金额'))],\n          }).validate({ price });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.price = price;\n        data.orderId = opt.orderId;\n        editPriceApi(data)\n          .then(() => {\n            that.change = false;\n            that.$dialog.success('改价成功');\n            that.init();\n          })\n          .catch((error) => {\n            that.$dialog.error(error.message);\n          });\n      } else if (that.status == 0 && refundStatus === 1) {\n        try {\n          await this.$validator({\n            refundPrice: [required(required.message('金额')), num(num.message('金额'))],\n          }).validate({ refundPrice });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.amount = refundPrice;\n        data.type = opt.type;\n        data.orderId = opt.orderId;\n        orderRefundApi(data).then(\n          (res) => {\n            that.change = false;\n            that.$dialog.success('退款成功');\n            that.init();\n          },\n          (err) => {\n            that.change = false;\n            that.$dialog.error(err.message);\n          },\n        );\n      } else {\n        try {\n          await this.$validator({\n            remark: [required(required.message('备注'))],\n          }).validate({ remark });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.mark = remark;\n        data.id = opt.id;\n        orderMarkApi(data).then(\n          (res) => {\n            that.change = false;\n            that.$dialog.success('提交成功');\n            that.init();\n          },\n          (err) => {\n            that.change = false;\n            that.$dialog.error(err.msg);\n          },\n        );\n      }\n    },\n    init: function () {\n      this.list = [];\n      this.where.page = 1;\n      this.loaded = false;\n      this.loading = false;\n      this.getIndex();\n      this.current = '';\n    },\n    getIndex() {\n      if (this.loading || this.loaded) return;\n      this.loading = true;\n      getorderList(this.$route.params.toUid, this.where).then(\n        (res) => {\n          this.loading = false;\n          this.loaded = res.data.length < this.where.limit;\n          this.list.push.apply(this.list, res.data || []);\n          this.where.page = this.where.page + 1;\n          this.$nextTick(() => {\n            if (this.list.length > 0) this.$refs['scrollBox'].refresh();\n          });\n        },\n        (err) => {\n          this.$dialog.error(err.msg);\n        },\n      );\n    },\n    changeStatus(val) {\n      if (this.where.type !== val) {\n        this.where.type = val;\n        this.init();\n      }\n    },\n    toDetail(item) {\n      this.$router.push({ path: '/kefu/orderDetail/' + item.id });\n    },\n    offlinePay(item) {\n      // setOfflinePay({ order_id: item.order_id }).then(\n      //   res => {\n      //     this.$dialog.success(res.message);\n      //     this.init();\n      //   },\n      //   error => {\n      //     this.$dialog.error(error.message);\n      //   }\n      // );\n    },\n    // 话术滚动到底部\n    handleWordsScroll(vm, refreshDom, done) {\n      this.getIndex();\n      done();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.pos-order-goods {\n  padding: 0 0.3rem;\n  background-color: #fff;\n}\n.pos-order-goods .goods {\n  height: 1.85rem;\n}\n.pos-order-goods .goods ~ .goods {\n  border-top: 1px dashed #e5e5e5;\n}\n.pos-order-goods .goods .picTxt {\n  width: 5.15rem;\n}\n.pos-order-goods .goods .picTxt .pictrue {\n  width: 1.3rem;\n  height: 1.3rem;\n}\n.pos-order-goods .goods .picTxt .pictrue img {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.06rem;\n}\n.pos-order-goods .goods .picTxt .text {\n  width: 3.65rem;\n  height: 1.3rem;\n}\n.pos-order-goods .goods .picTxt .text .info {\n  font-size: 0.28rem;\n  color: #282828;\n}\n.pos-order-goods .goods .picTxt .text .attr {\n  font-size: 0.2rem;\n  color: #999;\n  height: 0.8rem;\n  line-height: 0.8rem;\n}\n.pos-order-goods .goods .money {\n  width: 1.64rem;\n  text-align: right;\n  font-size: 0.28rem;\n  height: 1.3rem;\n}\n.pos-order-goods .goods .money .x-money {\n  color: #282828;\n}\n.pos-order-goods .goods .money .num {\n  color: #ff9600;\n  margin: 0.05rem 0;\n}\n.pos-order-goods .goods .money .y-money {\n  color: #999;\n  text-decoration: line-through;\n}\n.pos-order-list {\n  display: flex;\n  flex-direction: column;\n  background: #f5f5f5;\n  height: 100%;\n}\n.pos-order-list .head-box {\n  width: 100%;\n  background-color: #fff;\n  .input-box {\n    width: 6.9rem;\n    margin: 0.2rem auto;\n    background: #f5f6f9;\n    border-radius: 0.39rem;\n    ::v-deep .ivu-input {\n      font-size: 0.28rem !important;\n      background: #f5f6f9;\n      border-radius: 0.39rem;\n    }\n    ::v-deep .ivu-input,\n    .ivu-input:hover,\n    .ivu-input:focus {\n      border: transparent;\n      box-shadow: none;\n    }\n  }\n}\n.pos-order-list .nav {\n  width: 100%;\n  height: 0.8rem;\n  font-size: 0.3rem;\n  color: #282828;\n  display: flex;\n  align-items: center;\n}\n.pos-order-list .nav .item {\n  position: relative;\n  line-height: 0.8rem;\n}\n.pos-order-list .nav .item.on {\n  color: #3875ea;\n  border-bottom: 1px solid #3875ea;\n}\n.pos-order-list .list {\n  flex: 1;\n  margin-top: 0.1rem;\n  overflow: hidden;\n}\n.pos-order-list .list .item {\n  background-color: #fff;\n  width: 100%;\n}\n.pos-order-list .list .item ~ .item {\n  margin-top: 0.24rem;\n}\n.pos-order-list .list .item .order-num {\n  height: 1.24rem;\n  border-bottom: 1px solid #eee;\n  font-size: 0.3rem;\n  font-weight: bold;\n  color: #282828;\n  padding: 0 0.3rem;\n}\n.pos-order-list .list .item .order-num .time {\n  font-size: 0.26rem;\n  font-weight: normal;\n  color: #999;\n  margin-top: -0.4rem;\n}\n.pos-order-list .list .item .operation {\n  padding: 0.2rem 0.3rem;\n  margin-top: 0.03rem;\n}\n.pos-order-list .list .item .operation .more {\n  position: relative;\n}\n.pos-order-list .list .item .operation .icon-gengduo {\n  font-size: 0.5rem;\n  color: #aaa;\n}\n.pos-order-list .list .item .operation .order .arrow {\n  width: 0;\n  height: 0;\n  border-left: 0.11rem solid transparent;\n  border-right: 0.11rem solid transparent;\n  border-top: 0.2rem solid #e5e5e5;\n  position: absolute;\n  left: 0.15rem;\n  bottom: -0.18rem;\n}\n.pos-order-list .list .item .operation .order .arrow:before {\n  content: '';\n  width: 0;\n  height: 0;\n  border-left: 0.07rem solid transparent;\n  border-right: 0.07rem solid transparent;\n  border-top: 0.2rem solid #fff;\n  position: absolute;\n  left: -0.07rem;\n  bottom: 0;\n}\n.pos-order-list .list .item .operation .order {\n  width: 2rem;\n  background-color: #fff;\n  border: 1px solid #eee;\n  border-radius: 0.1rem;\n  position: absolute;\n  top: -1rem;\n  z-index: 9;\n}\n.pos-order-list .list .item .operation .order .items {\n  height: 0.77rem;\n  line-height: 0.77rem;\n  text-align: center;\n}\n.pos-order-list .list .item .operation .order .items ~ .items {\n  border-top: 1px solid #f5f5f5;\n}\n.pos-order-list .list .item .operation .bnt {\n  font-size: 0.28rem;\n  color: #5c5c5c;\n  width: 1.7rem;\n  height: 0.6rem;\n  border-radius: 0.3rem;\n  border: 1px solid #bbb;\n  text-align: center;\n  line-height: 0.6rem;\n}\n.pos-order-list .list .item .operation .bnt ~ .bnt {\n  margin-left: 0.14rem;\n}\n.public-total {\n  font-size: 0.28rem;\n  color: #282828;\n  border-top: 1px solid #eee;\n  height: 0.92rem;\n  line-height: 0.92rem;\n  text-align: right;\n  padding: 0 0.3rem;\n  background-color: #fff;\n}\n.public-total .money {\n  color: #ff4c3c;\n}\n</style>\n"]}]}