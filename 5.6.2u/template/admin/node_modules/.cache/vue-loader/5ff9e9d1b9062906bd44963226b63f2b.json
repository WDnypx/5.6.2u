{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\link\\index.vue?vue&type=style&index=0&id=3d8c8b20&scoped=true&lang=scss","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\link\\index.vue","mtime":1749623442531},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ib3ggewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBiYWNrZ3JvdW5kOiAjZmZmOwp9Cjo6di1kZWVwIC5lbC1jYXJkX19ib2R5IHsKICBtaW4taGVpZ2h0OiA3MDBweDsKICBwYWRkaW5nOiAxNnB4IDE2cHggMTZweCAwOwp9Cjo6di1kZWVwIC5jb250ZXIgLmxpbmtMaXN0IHsKICBtYXgtd2lkdGg6IDEwMCU7Cn0KLm5hbWVTdHlsZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgei1pbmRleDogOTsKICBiYWNrZ3JvdW5kOiAjZWVlOwogIGhlaWdodDogMjBweDsKICBsaW5lLWhlaWdodDogMjBweDsKICBjb2xvcjogIzU1NTsKICBib3JkZXI6IDFweCBzb2xpZCAjZWJlYmViOwogIHBhZGRpbmc6IDAgNXB4OwogIGxlZnQ6IDU2cHg7CiAgYm90dG9tOiAtMThweDsKfQoKLnRyZWVfdGl0IHsKICBwYWRkaW5nLXRvcDogN3B4OwogIHBhZGRpbmctYm90dG9tOiAyMnB4Owp9Ci50cmVlQm94IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgbWF4LXdpZHRoOiAxODBweDsKfQouTmF2IHsKICB3aWR0aDogMTAwJTsKICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWVlOwogIG1pbi13aWR0aDogMjIwcHg7CiAgbWF4LXdpZHRoOiBtYXgtY29udGVudDsKfQo6OnYtZGVlcCAudHJlZSAuaXMtY3VycmVudCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZiAhaW1wb3J0YW50Owp9Ci50cmVlcy1jb2FkZCB7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwoKICAuc2NvbGxoaWRlIHsKICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIHBhZGRpbmc6IDBweCAwIDEwcHggMDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CgogICAgLmlzVHJlZSB7CiAgICAgIG1pbi1oZWlnaHQ6IDM3NHB4OwogICAgICBtYXgtaGVpZ2h0OiA1NTBweDsKICAgICAgOjp2LWRlZXAgLmZpbGUtbmFtZSB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIC5uYW1lIHsKICAgICAgICAgIG1heC13aWR0aDogN2VtOwogICAgICAgIH0KICAgICAgICAuaWNvbiB7CiAgICAgICAgICB3aWR0aDogMTJweDsKICAgICAgICAgIGhlaWdodDogMTJweDsKICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4OwogICAgICAgIH0KICAgICAgfQogICAgICA6OnYtZGVlcCAuZWwtdHJlZS1ub2RlIHsKICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7CiAgICAgIH0KICAgICAgOjp2LWRlZXAgLmVsLXRyZWUtbm9kZV9fY2hpbGRyZW4gLmVsLXRyZWUtbm9kZSB7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwOwogICAgICB9CiAgICAgIDo6di1kZWVwIC5lbC10cmVlLW5vZGVfX2NvbnRlbnQgewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMzZweDsKICAgICAgfQogICAgICA6OnYtZGVlcCAuY3VzdG9tLXRyZWUtbm9kZSB7CiAgICAgICAgZmxleDogMTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7CiAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsKICAgICAgICBsaW5lLWhlaWdodDogMTNweDsKICAgICAgfQogICAgICA6OnYtZGVlcCAuaXMtY3VycmVudCB7CiAgICAgICAgYmFja2dyb3VuZDogI2YxZjlmZiAhaW1wb3J0YW50OwogICAgICAgIGNvbG9yOiB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpICFpbXBvcnRhbnQ7CiAgICAgIH0KICAgICAgOjp2LWRlZXAgLmlzLWN1cnJlbnQgLmN1c3RvbS10cmVlLW5vZGUgewogICAgICAgIGNvbG9yOiB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpICFpbXBvcnRhbnQ7CiAgICAgIH0KICAgIH0KICB9CgogIC5zY29sbGhpZGU6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQp9CgoudHJlZVNlbCA6OnYtZGVlcCAuaXZ1LXNlbGVjdC1kcm9wZG93bi1saXN0IHsKICBwYWRkaW5nOiAwIDVweCAhaW1wb3J0YW50OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDIwMHB4Owp9Ci5pbWFnZXNObyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luOiA2NXB4IDA7CgogIC5pbWFnZXNOb19zcCB7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBjb2xvcjogI2RiZGJkYjsKICAgIGxpbmUtaGVpZ2h0OiAzOwogIH0KfQoKLk1vZGFsIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogI2ZmZiAhaW1wb3J0YW50Owp9Ci5maWxsLXdpbmRvdyB7CiAgaGVpZ2h0OiAxMDB2aDsKfQouY29sTGVmdCB7CiAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50OwogIGhlaWdodDogMTAwJTsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogbm93cmFwOwp9CgouY29udGVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luLWxlZnQ6IDIwcHggIWltcG9ydGFudDsKICAuaWNvbmxpZWJpYW8gewogICAgZm9udC1zaXplOiAxMnB4OwogIH0KfQoKLmNvbnRlciAuYm50IHsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiAwIDBweCAyMHB4IDBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgouY29udGVyIC5saW5rTGlzdCB7CiAgLy8gd2lkdGg6IDEwMCU7CiAgb3ZlcmZsb3cteDogaGlkZGVuOwogIG92ZXJmbG93LXk6IGF1dG87CiAgbWluLWhlaWdodDogNDYzcHg7Cn0KLmNvbnRlciAubGlua0xpc3QuaXMtbW9kYWwgewogIG1heC1oZWlnaHQ6IDQ4MHB4Owp9Ci5jb250ZXIgLmxpbmtMaXN0IGltZyB7CiAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5jb250ZXIgLmxpbmtMaXN0IC5pbWcub24gewogIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLXByZXYtY29sb3ItcHJpbWFyeSk7Cn0KCi5jb250ZXIgLmZvb3RlciB7CiAgcGFkZGluZzogMCAyMHB4IDEwcHggMjBweDsKfQoKLmNhcmQtdHJlZSB7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBoZWlnaHQ6IDcycHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBvdmVyZmxvdy14OiBzY3JvbGw7IC8qIOiuvue9rua6ouWHuua7muWKqCAqLwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgb3ZlcmZsb3cteTogaGlkZGVuOwogIC8qIOmakOiXj+a7muWKqOadoSAqLwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7IC8qIGZpcmVmb3ggKi8KICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7IC8qIElFIDEwKyAqLwp9Ci5jYXJkLXRyZWU6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICBkaXNwbGF5OiBub25lOyAvKiBDaHJvbWUgU2FmYXJpICovCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/link","sourcesContent":["<template>\n  <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n    <div class=\"Modal\">\n      <div class=\"colLeft\">\n        <div class=\"Nav\">\n          <div class=\"trees-coadd\">\n            <div class=\"tree_tit\" v-db-click @click=\"append\">\n              <i class=\"el-icon-circle-plus\"></i>\n              添加分类\n            </div>\n            <div class=\"scollhide\">\n              <div class=\"tree\" v-if=\"treeData.length\">\n                <el-tree\n                  ref=\"tree\"\n                  :data=\"treeData\"\n                  node-key=\"id\"\n                  default-expand-all\n                  :highlight-current=\"highlightCurrent\"\n                  :expand-on-click-node=\"true\"\n                  :check-on-click-node=\"false\"\n                  @node-click=\"appendBtn\"\n                  @node-expand=\"nodeExpand\"\n                  :current-node-key=\"treeId\"\n                >\n                  <span class=\"custom-tree-node\" slot-scope=\"{ data }\">\n                    <div class=\"file-name\">\n                      <img v-if=\"data.pid == 1\" class=\"icon\" src=\"@/assets/images/file.jpg\" />\n                      <el-tooltip class=\"item\" effect=\"dark\" :content=\"data.title\" placement=\"top\">\n                        <div class=\"text line1\">\n                          {{ data.title }}\n                        </div>\n                      </el-tooltip>\n                    </div>\n                    <span>\n                      <el-dropdown @command=\"(command) => clickMenu(data, command)\">\n                        <i class=\"el-icon-more el-icon--right\"></i>\n                        <template slot=\"dropdown\">\n                          <el-dropdown-menu>\n                            <el-dropdown-item v-if=\"data.pid == 1\" command=\"1\">新增分类</el-dropdown-item>\n                            <el-dropdown-item v-if=\"data.id\" command=\"2\">编辑分类</el-dropdown-item>\n                            <el-dropdown-item v-if=\"data.id\" command=\"3\">删除</el-dropdown-item>\n                          </el-dropdown-menu>\n                        </template>\n                      </el-dropdown>\n                    </span>\n                  </span>\n                </el-tree>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"conter\">\n          <el-button type=\"primary\" @click=\"addLink\">添加链接</el-button>\n          <el-table\n            :data=\"linkList\"\n            ref=\"couponTable\"\n            class=\"mt20\"\n            v-loading=\"loading\"\n            highlight-current-row\n            no-userFrom-text=\"暂无数据\"\n            no-filtered-userFrom-text=\"暂无筛选结果\"\n          >\n            <el-table-column label=\"ID\" width=\"70\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.id }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"名称\" width=\"150\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.name }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"H5链接\" minWidth=\"170\">\n              <template slot-scope=\"scope\">\n                <el-tooltip class=\"item pointer\" content=\"点击复制\">\n                  <span v-db-click @click=\"onCopy(scope.row.h5_url)\">{{ scope.row.h5_url }}</span>\n                </el-tooltip>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"小程序链接\" minWidth=\"140\">\n              <template slot-scope=\"scope\">\n                <el-tooltip class=\"item pointer\" content=\"点击复制\">\n                  <span v-db-click @click=\"onCopy(scope.row.url)\">{{ scope.row.url }}</span>\n                </el-tooltip>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"添加时间\" minWidth=\"90\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.add_time }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" fixed=\"right\" width=\"90\">\n              <template slot-scope=\"scope\">\n                <a v-db-click @click=\"edit(scope.row)\">编辑</a>\n                <el-divider direction=\"vertical\"></el-divider>\n                <a v-db-click @click=\"del(scope.row, '删除链接', scope.$index)\">删除</a>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div class=\"acea-row row-right page\">\n            <pagination\n              v-if=\"total\"\n              :total=\"total\"\n              :page.sync=\"fileData.page\"\n              :limit.sync=\"fileData.limit\"\n              @pagination=\"getLinkList\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <el-dialog\n      title=\"链接\"\n      :visible.sync=\"dialogVisible\"\n      width=\"40%\"\n      :before-close=\"handleClose\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form :model=\"linkForm\" ref=\"linkForm\" label-width=\"80px\">\n        <el-form-item label=\"名称:\" prop=\"name\">\n          <el-input v-model=\"linkForm.name\" placeholder=\"请输入名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"跳转链接:\" prop=\"url\">\n          <el-input v-model=\"linkForm.url\" placeholder=\"请输入跳转链接\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"排序:\" prop=\"url\">\n          <el-input v-model=\"linkForm.sort\" placeholder=\"请输入排序\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否开启:\" prop=\"url\">\n          <el-switch v-model=\"linkForm.status\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addLinkSubmit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\nimport { diyLinkCategoryListApi, linkCategoryFormApi, linkListApi, linkCreateApi } from '@/api/setting';\nexport default {\n  name: 'linkLisk',\n  props: {},\n  data() {\n    return {\n      dialogVisible: false,\n      treeData: [],\n      linkList: [],\n      uploadName: {\n        name: '',\n        all: 1,\n      },\n      treeId: 0,\n      fileData: {\n        page: 1,\n        limit: 15,\n      },\n      total: 0,\n      pids: 0,\n\n      loading: false,\n      multipleSelection: [],\n      linkForm: {\n        id: 0,\n        name: '',\n        url: '',\n        sort: 0,\n        status: 1,\n      },\n      highlightCurrent: true,\n    };\n  },\n  mounted() {\n    this.getList();\n  },\n  methods: {\n    handleClose() {\n      this.dialogVisible = false;\n      this.initData();\n    },\n    onCopy(copyData) {\n      this.$copyText(copyData)\n        .then((message) => {\n          this.$message.success('复制成功');\n        })\n        .catch((err) => {\n          this.$message.error('复制失败');\n        });\n    },\n    edit(row) {\n      this.linkForm.name = row.name;\n      this.linkForm.url = row.url;\n      this.linkForm.sort = row.sort;\n      this.linkForm.status = row.status;\n      this.linkForm.id = row.id;\n      this.dialogVisible = true;\n    },\n    addLinkSubmit() {\n      this.$refs.linkForm.validate((valid) => {\n        if (valid) {\n          let data = {\n            cate_id: this.treeId,\n            id: this.linkForm.id,\n            name: this.linkForm.name,\n            url: this.linkForm.url,\n            sort: this.linkForm.sort,\n            status: this.linkForm.status,\n          };\n          linkCreateApi(data)\n            .then((res) => {\n              this.$message.success(res.msg);\n              this.dialogVisible = false;\n              this.getLinkList();\n            })\n            .catch((err) => {\n              this.$message.error(err);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 点击菜单\n    clickMenu(data, name) {\n      if (name == 1) {\n        this.editLinkCategory(data, 0);\n      } else if (name == 2) {\n        this.editLinkCategory(data, 1);\n      } else if (name == 3) {\n        this.remove(data, '分类');\n      }\n    },\n    delImg(id) {\n      let ids = {\n        ids: id,\n      };\n      let delfromData = {\n        title: '删除选中图片',\n        url: `file/file/delete`,\n        method: 'POST',\n        ids: ids,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getLinkList();\n          this.checkPicList = [];\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 删除图片\n    editPicList(id) {\n      let ids = {\n        ids: id || this.ids.toString(),\n      };\n      let delfromData = {\n        title: '删除选中图片',\n        url: `file/file/delete`,\n        method: 'POST',\n        ids: ids,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getLinkList();\n          this.initData();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    initData() {\n      this.fileData.page = 1;\n      this.fileData.id = '';\n      this.linkForm.name = '';\n      this.linkForm.h5_url = '';\n      this.linkForm.url = '';\n    },\n    // 鼠标移入 移出\n    onMouseOver(root, node, data) {\n      event.preventDefault();\n      data.flag = !data.flag;\n      if (data.flag2) {\n        data.flag2 = false;\n      }\n    },\n    addLink() {\n      this.initData();\n      this.dialogVisible = true;\n    },\n    // 点击树\n    appendBtn(data, n, d) {\n      if (data.pid == 1 && !n.expanded) {\n        this.highlightCurrent = false;\n        return;\n      } else if (data.pid != 1) {\n        this.treeId = data.id;\n        this.fileData.page = 1;\n        this.getLinkList();\n      }\n    },\n    nodeExpand(data, n, d) {\n      if (n.expanded) {\n        if (data.children.length) {\n          this.highlightCurrent = true;\n          this.$nextTick(() => {\n            this.fileData.page = 1;\n            this.treeId = data.children[0].id || '';\n            this.$refs['tree'].setCurrentKey(this.treeId);\n            this.getLinkList();\n          });\n        }\n      }\n    },\n    // 点击添加\n    append() {\n      this.getFrom();\n    },\n    // 删除分类\n    remove(data, tit) {\n      this.tits = tit;\n      let delfromData = {\n        title: '删除 [ ' + data.title + ' ] ' + '分类',\n        url: `diy/link/category/del/${data.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getList();\n          this.checkPicList = [];\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 编辑树表单\n    editLinkCategory(data, type) {\n      this.$modalForm(linkCategoryFormApi(type ? data.id : 0, data.id ? data.id : 1)).then(() => this.getList());\n    },\n    // 分类列表树\n    getList(type) {\n      diyLinkCategoryListApi(this.uploadName)\n        .then((res) => {\n          this.treeId = res.data.length > 0 ? res.data[0]?.children[0]?.id : '';\n          this.treeData = res.data;\n          this.getLinkList();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 文件列表\n    getLinkList() {\n      this.fileData.id = this.treeId;\n      this.loading = true;\n      linkListApi(this.fileData)\n        .then(async (res) => {\n          this.linkList = res.data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `diy/link/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.linkList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    addFlag(treedata) {\n      treedata.map((item) => {\n        this.$set(item, 'flag', false);\n        this.$set(item, 'flag2', false);\n        item.children && this.addFlag(item.children);\n      });\n    },\n    pageChange(index) {\n      this.fileData.page = index;\n      this.getLinkList();\n      this.checkPicList = [];\n    },\n    // 新建分类表单\n    getFrom() {\n      this.$modalForm(linkCategoryFormApi(0, 1)).then((res) => {\n        this.getList();\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.box {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n::v-deep .el-card__body {\n  min-height: 700px;\n  padding: 16px 16px 16px 0;\n}\n::v-deep .conter .linkList {\n  max-width: 100%;\n}\n.nameStyle {\n  position: absolute;\n  white-space: nowrap;\n  z-index: 9;\n  background: #eee;\n  height: 20px;\n  line-height: 20px;\n  color: #555;\n  border: 1px solid #ebebeb;\n  padding: 0 5px;\n  left: 56px;\n  bottom: -18px;\n}\n\n.tree_tit {\n  padding-top: 7px;\n  padding-bottom: 22px;\n}\n.treeBox {\n  width: 100%;\n  height: 100%;\n  max-width: 180px;\n}\n.Nav {\n  width: 100%;\n  border-right: 1px solid #eee;\n  min-width: 220px;\n  max-width: max-content;\n}\n::v-deep .tree .is-current {\n  background-color: #fff !important;\n}\n.trees-coadd {\n  width: 100%;\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n\n  .scollhide {\n    overflow-x: hidden;\n    overflow-y: scroll;\n    padding: 0px 0 10px 0;\n    box-sizing: border-box;\n\n    .isTree {\n      min-height: 374px;\n      max-height: 550px;\n      ::v-deep .file-name {\n        display: flex;\n        align-items: center;\n        .name {\n          max-width: 7em;\n        }\n        .icon {\n          width: 12px;\n          height: 12px;\n          margin-right: 8px;\n        }\n      }\n      ::v-deep .el-tree-node {\n        margin-right: 16px;\n      }\n      ::v-deep .el-tree-node__children .el-tree-node {\n        margin-right: 0;\n      }\n      ::v-deep .el-tree-node__content {\n        width: 100%;\n        height: 36px;\n      }\n      ::v-deep .custom-tree-node {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding-right: 20px;\n        font-size: 13px;\n        font-weight: 400;\n        color: rgba(0, 0, 0, 0.6);\n        line-height: 13px;\n      }\n      ::v-deep .is-current {\n        background: #f1f9ff !important;\n        color: var(--prev-color-primary) !important;\n      }\n      ::v-deep .is-current .custom-tree-node {\n        color: var(--prev-color-primary) !important;\n      }\n    }\n  }\n\n  .scollhide::-webkit-scrollbar {\n    display: none;\n  }\n}\n\n.treeSel ::v-deep .ivu-select-dropdown-list {\n  padding: 0 5px !important;\n  box-sizing: border-box;\n  width: 200px;\n}\n.imagesNo {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  margin: 65px 0;\n\n  .imagesNo_sp {\n    font-size: 13px;\n    color: #dbdbdb;\n    line-height: 3;\n  }\n}\n\n.Modal {\n  width: 100%;\n  height: 100%;\n  background: #fff !important;\n}\n.fill-window {\n  height: 100vh;\n}\n.colLeft {\n  padding-right: 0 !important;\n  height: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n}\n\n.conter {\n  width: 100%;\n  height: 100%;\n  margin-left: 20px !important;\n  .iconliebiao {\n    font-size: 12px;\n  }\n}\n\n.conter .bnt {\n  width: 100%;\n  padding: 0 0px 20px 0px;\n  box-sizing: border-box;\n}\n\n.conter .linkList {\n  // width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  min-height: 463px;\n}\n.conter .linkList.is-modal {\n  max-height: 480px;\n}\n.conter .linkList img {\n  max-width: 100%;\n}\n.conter .linkList .img.on {\n  border: 2px solid var(--prev-color-primary);\n}\n\n.conter .footer {\n  padding: 0 20px 10px 20px;\n}\n\n.card-tree {\n  background: #fff;\n  height: 72px;\n  box-sizing: border-box;\n  overflow-x: scroll; /* 设置溢出滚动 */\n  white-space: nowrap;\n  overflow-y: hidden;\n  /* 隐藏滚动条 */\n  border-radius: 4px;\n  scrollbar-width: none; /* firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n}\n.card-tree::-webkit-scrollbar {\n  display: none; /* Chrome Safari */\n}\n</style>\n"]}]}