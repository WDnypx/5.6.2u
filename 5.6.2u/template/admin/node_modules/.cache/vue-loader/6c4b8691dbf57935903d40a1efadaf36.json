{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\rightConfig\\index.vue?vue&type=style&index=0&id=c733c8be&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\rightConfig\\index.vue","mtime":1734429497657},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5yaWdodC1ib3ggewogIHdpZHRoOiA3MDBweDsKICBtYXJnaW4tbGVmdDogNTBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBoZWlnaHQ6IDcwMHB4OwogIG92ZXJmbG93LXk6IHNjcm9sbDsKICAmOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICAvKiDmu5rliqjmnaHmlbTkvZPmoLflvI8gKi8KICAgIHdpZHRoOiA0cHg7IC8qIOmrmOWuveWIhuWIq+WvueW6lOaoquerlua7muWKqOadoeeahOWwuuWvuCAqLwogICAgaGVpZ2h0OiAxcHg7CiAgfQogICY6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIC8qIOa7muWKqOadoemHjOmdouWwj+aWueWdlyAqLwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICBiYWNrZ3JvdW5kOiAjNTM1MzUzOwogIH0KICAmOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICAvKiDmu5rliqjmnaHph4zpnaLovajpgZMgKi8KICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggI2ZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgfQp9Ci50aXRsZS1iYXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMzhweDsKICBsaW5lLWhlaWdodDogMzhweDsKICBwYWRkaW5nLWxlZnQ6IDI0cHg7CiAgY29sb3I6ICMzMzM7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/rightConfig","sourcesContent":["<template>\n  <div class=\"right-box\" v-if=\"rCom.length\">\n    <div class=\"title-bar\">模块配置</div>\n    <div class=\"mobile-config\" v-if=\"rCom.length\">\n      <div v-for=\"(item, key) in rCom\" :key=\"key\">\n        <component\n          :is=\"item.components.name\"\n          :moduleName=\"name.name\"\n          :name=\"item.configNme\"\n          :configData=\"configData\"\n          :configNum=\"configNum\"\n        ></component>\n      </div>\n      <div style=\"text-align: center\" v-if=\"rCom.length\">\n        <el-button type=\"primary\" style=\"width: 100%; margin: 0 auto; height: 40px\" v-db-click @click=\"saveConfig\"\n          >保存</el-button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getCategory, getByCategory, diySave, storeStatus } from '@/api/diy';\nimport toolCom from '@/components/diyComponents/index.js';\nimport { mapMutations } from 'vuex';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'rightConfig',\n  components: {\n    ...toolCom,\n  },\n  props: {\n    name: {\n      type: Object,\n      default: {},\n    },\n    pageId: {\n      type: Number,\n      default: 0,\n    },\n    configNum: {\n      type: Number | String,\n      default: 'default',\n    },\n  },\n  computed: {\n    // ...mapState({\n    //     defultArr:(state)=>state.goodSelect.component,\n    // })\n    defultArr() {\n      return this.$store.state.moren.component;\n    },\n  },\n  watch: {\n    name: {\n      handler(nVal, oVal) {\n        this.rCom = [];\n        this.configData = this.$store.state.moren.defaultConfig[nVal.name];\n        if (!this.configData.hasOwnProperty(this.configNum)) {\n          let defaultObj = JSON.parse(JSON.stringify(this.configData.defaultVal));\n          this.configData[nVal.num] = defaultObj;\n          this.$store.commit('moren/upDataName', this.configData);\n        }\n        let that = this;\n        setTimeout(function () {\n          that.rCom = that.$store.state.moren.component[nVal.name].list;\n        }, 30);\n        if (this.configData[nVal.num].selectConfig) {\n          let type = this.configData[nVal.num].selectConfig.type ? this.configData[nVal.num].selectConfig.type : 0;\n          if (type) {\n            this.getByCategory();\n          } else {\n            this.getCategory();\n          }\n        }\n      },\n      deep: true,\n    },\n    defultArr: {\n      handler(nVal, oVal) {\n        this.rCom = [];\n        let tempArr = this.objToArray(nVal);\n        this.rCom = nVal[this.name.name].list;\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      rCom: [],\n      configData: {},\n      isShow: true,\n      categoryList: [],\n      status: 0,\n    };\n  },\n  mounted() {\n    this.storeStatus();\n  },\n  methods: {\n    storeStatus() {\n      storeStatus().then((res) => {\n        this.status = parseInt(res.data.store_status);\n      });\n    },\n    getCategory() {\n      getCategory().then((res) => {\n        let data = [];\n        res.data.map((item) => {\n          data.push({\n            title: item.title,\n            pid: item.pid,\n            activeValue: item.id.toString(),\n          });\n        });\n        this.configData[this.name.num].selectConfig.list = data;\n        this.bus.$emit('upData', data);\n      });\n    },\n    //获取二级分类\n    getByCategory() {\n      getByCategory().then((res) => {\n        let data = [];\n        res.data.map((item) => {\n          data.push({\n            title: item.cate_name,\n            pid: item.pid,\n            activeValue: item.id.toString(),\n          });\n        });\n        this.configData[this.name.num].selectConfig.list = data;\n        this.bus.$emit('upData', data);\n      });\n    },\n    // 保存数据\n    saveConfig() {\n      let data = this.$store.state.moren.defaultConfig;\n      if (this.name.name == 'tabBar') {\n        if (!this.status) {\n          let list = data.tabBar.default.tabBarList.list;\n          for (let i = 0; i < list.length; i++) {\n            if (list[i].link == '/pages/storeList/index' || list[i].link == 'pages/storeList/index') {\n              return this.$message.error('请先开启您的周边功能(/pages/storeList/index)');\n            }\n          }\n        }\n        if (data.tabBar.default.tabBarList.list.length < 2) {\n          return this.$message.error('您最少应添加2个导航');\n        }\n      }\n\n      diySave(this.pageId, {\n        value: data,\n      }).then((res) => {\n        this.$message.success('保存成功');\n      });\n    },\n    // 对象转数组\n    objToArray(array) {\n      var arr = [];\n      for (var i in array) {\n        arr.push(array[i]);\n      }\n      return arr;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.right-box {\n  width: 700px;\n  margin-left: 50px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  height: 700px;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    /* 滚动条整体样式 */\n    width: 4px; /* 高宽分别对应横竖滚动条的尺寸 */\n    height: 1px;\n  }\n  &::-webkit-scrollbar-thumb {\n    /* 滚动条里面小方块 */\n    border-radius: 4px;\n    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n    background: #535353;\n  }\n  &::-webkit-scrollbar-track {\n    /* 滚动条里面轨道 */\n    box-shadow: inset 0 0 5px #fff;\n    border-radius: 4px;\n    background: #fff;\n  }\n}\n.title-bar {\n  width: 100%;\n  height: 38px;\n  line-height: 38px;\n  padding-left: 24px;\n  color: #333;\n  border-radius: 4px;\n  border-bottom: 1px solid #eee;\n}\n</style>\n"]}]}