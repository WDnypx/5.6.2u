{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devise\\components\\uploadPic.vue?vue&type=style&index=0&id=7c7dcf26&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devise\\components\\uploadPic.vue","mtime":1731313973091},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ob3RfaW1ncyB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAudGl0bGUgewogICAgcGFkZGluZzogMCAwIDEzcHggMDsKICAgIGNvbG9yOiAjOTk5OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgfQogIC5saXN0LWJveCB7CiAgICAuaXRlbSB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgYm9yZGVyOiAxcHggZGFzaGVkIHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgLm1vdmUtaWNvbiB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIHdpZHRoOiAzMHB4OwogICAgICAgIGN1cnNvcjogbW92ZTsKICAgICAgfQogICAgICAuaW1nLWJveCB7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHdpZHRoOiA1MHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgaW1nIHsKICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIH0KICAgICAgfQogICAgICAuaW5mbyB7CiAgICAgICAgZmxleDogMTsKICAgICAgICBtYXJnaW4tbGVmdDogMTZweDsKICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsKICAgICAgICAuaW5mby1pdGVtIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKCiAgICAgICAgICBzcGFuIHsKICAgICAgICAgICAgd2lkdGg6IDcwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgIH0KICAgICAgICAgIC5pbnB1dC1ib3ggewogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICA6OnYtZGVlcGlucHV0IHsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIDo6di1kZWVwIC5pdnUtaW5wdXQgewogICAgICAgICAgICBmb250LXNpemU6IDEzcHggIWltcG9ydGFudDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLmRlbGVjdC1idG4gewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogLTEzcHg7CiAgICAgICAgdG9wOiAtMTNweDsKICAgICAgICAuaWNvbmZvbnQtZGl5IHsKICAgICAgICAgIGZvbnQtc2l6ZTogMjVweDsKICAgICAgICAgIGNvbG9yOiAjZmYxODE4OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAuYWRkLWJ0biB7CiAgICBtYXJnaW4tdG9wOiAyNHB4OwogIH0KfQoudXBsb2FkLWJveCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBiYWNrZ3JvdW5kOiAjY2NjOwp9Ci5pY29uZm9udC1kaXkgewogIGNvbG9yOiAjZGRkZGRkOwogIGZvbnQtc2l6ZTogMjhweDsKfQo="},{"version":3,"sources":["uploadPic.vue"],"names":[],"mappings":";AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"uploadPic.vue","sourceRoot":"src/pages/setting/devise/components","sourcesContent":["<template>\n  <div class=\"hot_imgs\">\n    <div class=\"list-box\">\n      <draggable class=\"dragArea list-group\" :list=\"listData\" group=\"peoples\" handle=\".move-icon\">\n        <div class=\"item\" v-for=\"(item, index) in listData\" :key=\"index\">\n          <div class=\"move-icon\">\n            <span class=\"iconfont-diy icondrag\"></span>\n          </div>\n          <div class=\"img-box\" v-db-click @click=\"modalPicTap('单选', index)\">\n            <img :src=\"item.pic\" alt=\"\" v-if=\"item.pic && item.pic != ''\" />\n            <div class=\"upload-box\" v-else>\n              <i class=\"el-icon-picture-outline\" style=\"font-size: 24px\"></i>\n            </div>\n          </div>\n          <div class=\"info\">\n            <div class=\"info-item\" v-if=\"item.hasOwnProperty('name')\">\n              <span>{{ type == 1 ? '管理名称：' : type == 5 ? '广告名称' : '服务名称：' }}</span>\n              <div class=\"input-box\">\n                <el-input v-model=\"item.name\" :placeholder=\"type == 5 ? '请输入名称' : '服务中心'\" :maxlength=\"4\" />\n              </div>\n            </div>\n            <div class=\"info-item\">\n              <span>链接地址：</span>\n              <div class=\"input-box\" v-db-click>\n                <el-input v-model=\"item.url\" placeholder=\"选择链接\">\n                  <i class=\"el-icon-link\" slot=\"suffix\" @click=\"getLink(index)\" />\n                </el-input>\n              </div>\n            </div>\n          </div>\n          <div v-if=\"type != 1\" class=\"delect-btn\" v-db-click @click.stop=\"bindDelete(item, index)\">\n            <span class=\"iconfont-diy icondel_1 cup\"></span>\n          </div>\n        </div>\n      </draggable>\n      <div>\n        <el-dialog :visible.sync=\"modalPic\" width=\"950px\" title=\"上传商品图\" :close-on-click-modal=\"false\">\n          <uploadPictures\n            :isChoice=\"isChoice\"\n            @getPic=\"getPic\"\n            :gridBtn=\"gridBtn\"\n            :gridPic=\"gridPic\"\n            v-if=\"modalPic\"\n          ></uploadPictures>\n        </el-dialog>\n      </div>\n    </div>\n    <template v-if=\"listData\">\n      <div class=\"add-btn\" v-if=\"type == 2 || (type == 5 && listData.length < 5)\">\n        <el-button type=\"primary\" ghost style=\"width: 100px; color: #fff; font-size: 13px\" v-db-click @click=\"addBox\"\n          >添加{{ type == 5 ? '广告' : '服务' }}</el-button\n        >\n      </div>\n    </template>\n    <linkaddress ref=\"linkaddres\" @linkUrl=\"linkUrl\"></linkaddress>\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nimport uploadPictures from '@/components/uploadPictures';\nimport linkaddress from '@/components/linkaddress';\nexport default {\n  name: 'uploadPic',\n  props: {\n    listData: {\n      type: Array,\n    },\n    type: {\n      type: Number,\n    },\n  },\n  components: {\n    draggable: vuedraggable,\n    uploadPictures,\n    linkaddress,\n  },\n  data() {\n    return {\n      modalPic: false,\n      isChoice: '单选',\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      activeIndex: 0,\n      lastObj: {\n        name: '',\n        pic: '',\n        url: '',\n      },\n    };\n  },\n  mounted() {},\n  watch: {\n    configObj: {\n      handler(nVal, oVal) {},\n      deep: true,\n    },\n  },\n  methods: {\n    linkUrl(e) {\n      this.listData[this.activeIndex].url = e;\n    },\n    getLink(index) {\n      this.activeIndex = index;\n      this.$refs.linkaddres.modals = true;\n    },\n    addBox() {\n      if (this.listData.length == 0) {\n        this.listData.push(this.lastObj);\n      } else {\n        let obj = JSON.parse(JSON.stringify(this.listData[this.listData.length - 1]));\n        obj.name = '';\n        obj.pic = '';\n        obj.url = '';\n        this.listData.push(obj);\n      }\n      // this.$emit('parentFun',this.listData)\n    },\n    // 点击图文封面\n    modalPicTap(title, index) {\n      this.activeIndex = index;\n      this.modalPic = true;\n    },\n    // 添加自定义弹窗\n    addCustomDialog(editorId) {\n      window.UE.registerUI(\n        'test-dialog',\n        function (editor, uiName) {\n          let dialog = new window.UE.ui.Dialog({\n            iframeUrl: this.$routeProStr + '/widget.images/index.html?fodder=dialog',\n            editor: editor,\n            name: uiName,\n            title: '上传图片',\n            cssRules: 'width:960px;height:550px;padding:20px;',\n          });\n          this.dialog = dialog;\n          // 参考上面的自定义按钮\n          var btn = new window.UE.ui.Button({\n            name: 'dialog-button',\n            title: '上传图片',\n            cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n            onclick: function () {\n              // 渲染dialog\n              dialog.render();\n              dialog.open();\n            },\n          });\n\n          return btn;\n        },\n        37,\n      );\n    },\n    // 获取图片信息\n    getPic(pc) {\n      this.$nextTick(() => {\n        this.listData[this.activeIndex].pic = pc.att_dir;\n        this.modalPic = false;\n      });\n    },\n    // 删除\n    bindDelete(item, index) {\n      if (this.listData.length == 1) {\n        this.lastObj = this.listData[0];\n      }\n      this.listData.splice(index, 1);\n      // this.$emit('parentFun',this.listData)\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.hot_imgs {\n  margin-bottom: 20px;\n  .title {\n    padding: 0 0 13px 0;\n    color: #999;\n    font-size: 12px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  }\n  .list-box {\n    .item {\n      position: relative;\n      display: flex;\n      align-items: center;\n      margin-top: 10px;\n      border: 1px dashed rgba(0, 0, 0, 0.15);\n      padding-right: 10px;\n      border-radius: 6px;\n      .move-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 30px;\n        cursor: move;\n      }\n      .img-box {\n        position: relative;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      .info {\n        flex: 1;\n        margin-left: 16px;\n        padding-top: 10px;\n        .info-item {\n          display: flex;\n          align-items: center;\n          margin-bottom: 10px;\n\n          span {\n            width: 70px;\n            font-size: 13px;\n          }\n          .input-box {\n            flex: 1;\n            ::v-deepinput {\n              cursor: pointer;\n            }\n          }\n          ::v-deep .ivu-input {\n            font-size: 13px !important;\n          }\n        }\n      }\n      .delect-btn {\n        position: absolute;\n        right: -13px;\n        top: -13px;\n        .iconfont-diy {\n          font-size: 25px;\n          color: #ff1818;\n        }\n      }\n    }\n  }\n  .add-btn {\n    margin-top: 24px;\n  }\n}\n.upload-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: #ccc;\n}\n.iconfont-diy {\n  color: #dddddd;\n  font-size: 28px;\n}\n</style>\n"]}]}