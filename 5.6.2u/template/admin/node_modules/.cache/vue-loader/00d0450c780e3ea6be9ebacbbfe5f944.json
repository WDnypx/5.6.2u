{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\pc\\components\\delivery.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\pc\\components\\delivery.vue","mtime":1731313973072},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG9yZGVyRXhwb3J0LCBvcmRlclRlbXAsIG9yZGVyRGVsaXZlcnlBbGwsIG9yZGVyRGVsaXZlcnksIGdldFNlbmRlciB9IGZyb20gJ0AvYXBpL2tlZnUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RlbGl2ZXJ5JywKICBwcm9wczogewogICAgaXNTaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIG9yZGVySWQ6IHsKICAgICAgdHlwZTogU3RyaW5nIHwgTnVtYmVyLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICB2aXJ0dWFsVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgICdmb3JtVmFsaWRhdGUuc2hpcFN0YXR1cyc6IHsKICAgICAgaGFuZGxlcihuVmFsLCBvVmFsKSB7CiAgICAgICAgaWYgKG5WYWwgPT0gMiAmJiAhdGhpcy5mb3JtVmFsaWRhdGUuc2VuZE5hbWUpIHsKICAgICAgICAgIGdldFNlbmRlcigpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5zZW5kTmFtZSA9IHJlcy5kYXRhLnRvX25hbWU7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnNlbmRQaG9uZSA9IHJlcy5kYXRhLnRvX3RlbDsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuc2VuZEFkZHJlc3MgPSByZXMuZGF0YS50b19hZGQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0sCiAgICAnZm9ybVZhbGlkYXRlLmdlbmRlcic6IHsKICAgICAgaGFuZGxlcihuVmFsLCBvVmFsKSB7CiAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0sCiAgICB2aXJ0dWFsVHlwZTogewogICAgICBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICBpZiAoblZhbCA9PSAzKSB0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIgPSAzOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNoaXBUeXBlOiBbCiAgICAgICAgewogICAgICAgICAga2V5OiAxLAogICAgICAgICAgdGl0bGU6ICfmiYvliqjloavlhpknLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAyLAogICAgICAgICAgdGl0bGU6ICfnlLXlrZDpnaLljZXmiZPljbAnLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIHJhZGlvTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIGtleTogMSwKICAgICAgICAgIHRpdGxlOiAn5Y+R6LSnJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogMiwKICAgICAgICAgIHRpdGxlOiAn6YCB6LSnJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogMywKICAgICAgICAgIHRpdGxlOiAn6Jma5oufJywKICAgICAgICB9LAogICAgICBdLAogICAgICBydWxlSW5saW5lOiB7CiAgICAgICAgbG9naXN0aWNzQ29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlv6vpgJLlhazlj7gnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBudW1iZXI6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5b+r6YCS5Y2V5Y+3JywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgc2VuZE5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5a+E5Lu25Lq65aeT5ZCNJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgc2VuZFBob25lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5a+E5Lu25Lq65omL5py6JywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICAgIHsgcGF0dGVybjogL14xWzM0NTY3ODldXGR7OX0kLywgbWVzc2FnZTogJ+aJi+acuuWPt+eggeagvOW8j+S4jeato+ehricsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgIF0sCiAgICAgICAgc2VuZEFkZHJlc3M6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5a+E5Lu25Lq65Zyw5Z2AJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgbXNnOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeWkh+azqOS/oeaBrycsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAogICAgICB9LAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBnZW5kZXI6IDEsCiAgICAgICAgc2hpcFN0YXR1czogMSwKICAgICAgICBsb2dpc3RpY3NDb2RlOiAnJywgLy8g5b+r6YCS5YWs5Y+457yW5Y+3CiAgICAgICAgbG9naXN0aWNzTmFtZTogJycsIC8vIOW/q+mAkuWFrOWPuOWQjeensAogICAgICAgIG51bWJlcjogJycsIC8vIOW/q+mAkuWNleWPtwogICAgICAgIGVsZWN0cm9uaWM6ICcnLCAvL+eUteWtkOmdouWNlQogICAgICAgIHNlbmROYW1lOiAnJywgLy/lr4Tku7bkurrlp5PlkI0KICAgICAgICBzZW5kUGhvbmU6ICcnLCAvLyDlr4Tku7bkurrnlLXor50KICAgICAgICBzZW5kQWRkcmVzczogJycsIC8v5a+E5Lu25Lq65Zyw5Z2ACiAgICAgICAgcG9zdFBlb3BsZTogJycsIC8vIOmFjemAgeWRmAogICAgICAgIG1zZzogJycsIC8vIOWkh+azqAogICAgICB9LAogICAgICBsb2dpc3RpY3NMaXN0OiBbXSwKICAgICAgb3JkZXJUZW1wTGlzdDogW10sCiAgICAgIGRlbGl2ZXJ5TGlzdDogW10sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0T3JkZXJFeHBvcnQoKTsKICAgIHRoaXMuZ2V0RGVsaXZlcnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlumFjemAgeS6ugogICAgZ2V0RGVsaXZlcnkoKSB7CiAgICAgIG9yZGVyRGVsaXZlcnlBbGwoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmRlbGl2ZXJ5TGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeeci+Wkp+WbvgogICAgaW5pdGVkKHZpZXdlcikgewogICAgICB0aGlzLiR2aWV3ZXIgPSB2aWV3ZXI7CiAgICB9LAogICAgLy/nianmtYHlhazlj7gKICAgIGdldE9yZGVyRXhwb3J0KCkgewogICAgICBvcmRlckV4cG9ydCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMubG9naXN0aWNzTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQobmFtZSkgewogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuZ2VuZGVyID09IDEpIHsKICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgICAgbGV0IHBhcmFtc0RhdGEgPSB7fTsKICAgICAgICAgIHBhcmFtc0RhdGEudHlwZSA9IHRoaXMuZm9ybVZhbGlkYXRlLmdlbmRlcjsKICAgICAgICAgIHBhcmFtc0RhdGEuZXhwcmVzc19yZWNvcmRfdHlwZSA9IHBhcnNlRmxvYXQodGhpcy5mb3JtVmFsaWRhdGUuc2hpcFN0YXR1cyk7CiAgICAgICAgICBwYXJhbXNEYXRhLmRlbGl2ZXJ5X25hbWUgPSB0aGlzLmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3NOYW1lOwogICAgICAgICAgcGFyYW1zRGF0YS5kZWxpdmVyeV9jb2RlID0gdGhpcy5mb3JtVmFsaWRhdGUubG9naXN0aWNzQ29kZTsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAvLyDmiYvliqgKICAgICAgICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmdlbmRlciA9PSAxICYmIHRoaXMuZm9ybVZhbGlkYXRlLnNoaXBTdGF0dXMgPT0gMSkgewogICAgICAgICAgICAgIHBhcmFtc0RhdGEuZGVsaXZlcnlfaWQgPSB0aGlzLmZvcm1WYWxpZGF0ZS5udW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g55S15a2QCiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIgPT0gMSAmJiB0aGlzLmZvcm1WYWxpZGF0ZS5zaGlwU3RhdHVzID09IDIpIHsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLnRvX25hbWUgPSB0aGlzLmZvcm1WYWxpZGF0ZS5zZW5kTmFtZTsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLnRvX3RlbCA9IHRoaXMuZm9ybVZhbGlkYXRlLnNlbmRQaG9uZTsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLnRvX2FkZHIgPSB0aGlzLmZvcm1WYWxpZGF0ZS5zZW5kQWRkcmVzczsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLmV4cHJlc3NfdGVtcF9pZCA9IHRoaXMuZm9ybVZhbGlkYXRlLmVsZWN0cm9uaWM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3JkZXJEZWxpdmVyeSh0aGlzLm9yZGVySWQsIHBhcmFtc0RhdGEpCiAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb2snKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmdlbmRlciA9PSAyKSB7CiAgICAgICAgbGV0IHBlb3BsZSA9IHt9OwogICAgICAgIHRoaXMuZGVsaXZlcnlMaXN0LmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLmlkID09IHRoaXMuZm9ybVZhbGlkYXRlLnBvc3RQZW9wbGUpIHsKICAgICAgICAgICAgcGVvcGxlID0gZWw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3JkZXJEZWxpdmVyeSh0aGlzLm9yZGVySWQsIHsKICAgICAgICAgIHR5cGU6IHRoaXMuZm9ybVZhbGlkYXRlLmdlbmRlciwKICAgICAgICAgIHNoX2RlbGl2ZXJ5X25hbWU6IHBlb3BsZS53eF9uYW1lLAogICAgICAgICAgc2hfZGVsaXZlcnlfaWQ6IHBlb3BsZS5waG9uZSwKICAgICAgICAgIHNoX2RlbGl2ZXJ5X3VpZDogcGVvcGxlLmlkLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnb2snKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIgPT0gMykgewogICAgICAgIG9yZGVyRGVsaXZlcnkodGhpcy5vcmRlcklkLCB7CiAgICAgICAgICB0eXBlOiB0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIsCiAgICAgICAgICByZW1hcms6IHRoaXMuZm9ybVZhbGlkYXRlLm1zZywKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29rJyk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfSwKICAgIC8vIOeJqea1gemAieS4rQogICAgYmluZENoYW5nZSh2YWwpIHsKICAgICAgbGV0IGRlbGl2ZXJ5SXRlbSA9IHRoaXMubG9naXN0aWNzTGlzdC5maW5kKChpdGVtKSA9PiB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY29kZSA9PSB2YWw7CiAgICAgIH0pOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3NOYW1lID0gZGVsaXZlcnlJdGVtLnZhbHVlOwogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuc2hpcFN0YXR1cyA9PSAyKSB7CiAgICAgICAgb3JkZXJUZW1wKHsKICAgICAgICAgIGNvbTogdmFsLnZhbHVlLAogICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5vcmRlclRlbXBMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvb2tJbWcoKSB7CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5lbGVjdHJvbmljKSB7CiAgICAgICAgdGhpcy5vcmRlclRlbXBMaXN0LmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLnRlbXBfaWQgPT0gdGhpcy5mb3JtVmFsaWRhdGUuZWxlY3Ryb25pYykgewogICAgICAgICAgICB0aGlzLiR2aWV3ZXIudmlldyhpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup55S15a2Q6Z2i5Y2VJyk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["delivery.vue"],"names":[],"mappings":";AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"delivery.vue","sourceRoot":"src/pages/kefu/pc/components","sourcesContent":["<template>\n  <div>\n    <el-form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleInline\" inline>\n      <el-form-item label=\"选择类型：\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n        <el-radio-group v-model=\"formValidate.gender\">\n          <el-radio :label=\"item.key\" v-for=\"(item, index) in radioList\" :key=\"index\">{{ item.title }}</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item\n        v-if=\"formValidate.gender == 1\"\n        label=\"发货类型：\"\n        class=\"form-item\"\n        label-position=\"right\"\n        label-width=\"100px\"\n        :key=\"'test0'\"\n      >\n        <el-radio-group v-model=\"formValidate.shipStatus\">\n          <el-radio :label=\"item.key\" v-for=\"(item, index) in shipType\" :key=\"index\">{{ item.title }}</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <!--  发货手动填写  -->\n      <div v-if=\"formValidate.gender == 1 && formValidate.shipStatus == 1\" :key=\"'test1'\">\n        <el-form-item\n          label=\"快递公司：\"\n          prop=\"logisticsCode\"\n          class=\"form-item\"\n          label-position=\"right\"\n          label-width=\"100px\"\n        >\n          <el-select\n            v-model=\"formValidate.logisticsCode\"\n            filterable\n            placeholder=\"请选择\"\n            @change=\"bindChange\"\n            :label-in-value=\"true\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              :value=\"item.code\"\n              v-for=\"(item, index) in logisticsList\"\n              :key=\"index\"\n              :label=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"快递单号：\" prop=\"number\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n          <el-input v-model=\"formValidate.number\" placeholder=\"请输入快递单号\" style=\"width: 100%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n          <div style=\"color: #c4c4c4\">顺丰请输入单号：收件人或寄件人手机号后四位,</div>\n          <div style=\"color: #c4c4c4\">例如：SF000000000000:3941</div>\n        </el-form-item>\n      </div>\n      <!--  电子面单打印  -->\n      <div v-if=\"formValidate.gender == 1 && formValidate.shipStatus == 2\" :key=\"'test2'\">\n        <el-form-item\n          label=\"快递公司：\"\n          prop=\"logisticsCode\"\n          class=\"form-item\"\n          label-position=\"right\"\n          label-width=\"100px\"\n        >\n          <el-select\n            v-model=\"formValidate.logisticsCode\"\n            placeholder=\"请选择\"\n            style=\"width: 100%\"\n            @change=\"bindChange\"\n            filterable\n            :label-in-value=\"true\"\n          >\n            <el-option\n              :value=\"item.code\"\n              v-for=\"(item, index) in logisticsList\"\n              :key=\"index\"\n              :label=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"电子面单：\"\n          class=\"form-item\"\n          label-position=\"right\"\n          label-width=\"100px\"\n          v-if=\"orderTempList.length > 0\"\n        >\n          <el-select v-model=\"formValidate.electronic\" placeholder=\"请选择电子面单\" style=\"width: 80%\">\n            <el-option\n              :value=\"item.temp_id\"\n              v-for=\"(item, index) in orderTempList\"\n              :key=\"index\"\n              :label=\"item.title\"\n            ></el-option>\n          </el-select>\n          <el-button style=\"flex: 1; margin-left: 21px\" v-db-click @click=\"lookImg\">预览</el-button>\n          <viewer :images=\"orderTempList\" class=\"viewer\" ref=\"viewer\" @inited=\"inited\" style=\"display: none\">\n            <img v-for=\"src in orderTempList\" :src=\"src.pic\" :key=\"src.id\" class=\"image\" />\n          </viewer>\n        </el-form-item>\n        <el-form-item label=\"寄件人姓名：\" prop=\"sendName\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n          <el-input v-model=\"formValidate.sendName\" placeholder=\"请输入寄件人姓名\" style=\"width: 100%\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"寄件人电话：\"\n          prop=\"sendPhone\"\n          class=\"form-item\"\n          label-position=\"right\"\n          label-width=\"100px\"\n        >\n          <el-input v-model=\"formValidate.sendPhone\" placeholder=\"请输入寄件人电话\" style=\"width: 100%\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"寄件人地址：\"\n          prop=\"sendAddress\"\n          class=\"form-item\"\n          label-position=\"right\"\n          label-width=\"100px\"\n        >\n          <el-input v-model=\"formValidate.sendAddress\" placeholder=\"请输入寄件人地址\" style=\"width: 100%\"></el-input>\n        </el-form-item>\n      </div>\n      <!--  送货  -->\n      <div v-if=\"formValidate.gender == 2\" :key=\"'test3'\">\n        <el-form-item label=\"选择送货人：\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n          <el-select v-model=\"formValidate.postPeople\" placeholder=\"选择送货人\" style=\"width: 100%\">\n            <el-option\n              :value=\"item.id\"\n              v-for=\"(item, index) in deliveryList\"\n              :key=\"index\"\n              :label=\"item.nickname\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n      </div>\n      <div v-if=\"formValidate.gender == 3\">\n        <el-form-item label=\"备注：\" props=\"msg\" class=\"form-item\" label-position=\"right\" label-width=\"100px\">\n          <el-input placeholder=\"备注\" v-model=\"formValidate.msg\" />\n        </el-form-item>\n      </div>\n      <div class=\"mask-footer\">\n        <el-button type=\"primary\" v-db-click @click=\"handleSubmit('formValidate')\">提交</el-button>\n        <el-button v-db-click @click=\"close\">取消</el-button>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { orderExport, orderTemp, orderDeliveryAll, orderDelivery, getSender } from '@/api/kefu';\nexport default {\n  name: 'delivery',\n  props: {\n    isShow: {\n      type: Boolean,\n      default: false,\n    },\n    orderId: {\n      type: String | Number,\n      default: '',\n    },\n    virtualType: {\n      type: Number,\n      default: 0,\n    },\n  },\n  watch: {\n    'formValidate.shipStatus': {\n      handler(nVal, oVal) {\n        if (nVal == 2 && !this.formValidate.sendName) {\n          getSender().then((res) => {\n            this.formValidate.sendName = res.data.to_name;\n            this.formValidate.sendPhone = res.data.to_tel;\n            this.formValidate.sendAddress = res.data.to_add;\n          });\n        }\n        this.$refs['formValidate'].resetFields();\n      },\n      deep: true,\n    },\n    'formValidate.gender': {\n      handler(nVal, oVal) {\n        this.$refs['formValidate'].resetFields();\n      },\n      deep: true,\n    },\n    virtualType: {\n      handler(nVal, oVal) {\n        if (nVal == 3) this.formValidate.gender = 3;\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      shipType: [\n        {\n          key: 1,\n          title: '手动填写',\n        },\n        {\n          key: 2,\n          title: '电子面单打印',\n        },\n      ],\n      radioList: [\n        {\n          key: 1,\n          title: '发货',\n        },\n        {\n          key: 2,\n          title: '送货',\n        },\n        {\n          key: 3,\n          title: '虚拟',\n        },\n      ],\n      ruleInline: {\n        logisticsCode: [{ required: true, message: '请选择快递公司', trigger: 'change' }],\n        number: [{ required: true, message: '请填写快递单号', trigger: 'change' }],\n        sendName: [{ required: true, message: '请填写寄件人姓名', trigger: 'change' }],\n        sendPhone: [\n          { required: true, message: '请填写寄件人手机', trigger: 'change' },\n          { pattern: /^1[3456789]\\d{9}$/, message: '手机号码格式不正确', trigger: 'blur' },\n        ],\n        sendAddress: [{ required: true, message: '请填写寄件人地址', trigger: 'change' }],\n        msg: [{ required: true, message: '请填写备注信息', trigger: 'change' }],\n      },\n      formValidate: {\n        gender: 1,\n        shipStatus: 1,\n        logisticsCode: '', // 快递公司编号\n        logisticsName: '', // 快递公司名称\n        number: '', // 快递单号\n        electronic: '', //电子面单\n        sendName: '', //寄件人姓名\n        sendPhone: '', // 寄件人电话\n        sendAddress: '', //寄件人地址\n        postPeople: '', // 配送员\n        msg: '', // 备注\n      },\n      logisticsList: [],\n      orderTempList: [],\n      deliveryList: [],\n    };\n  },\n  mounted() {\n    this.getOrderExport();\n    this.getDelivery();\n  },\n  methods: {\n    // 获取配送人\n    getDelivery() {\n      orderDeliveryAll().then((res) => {\n        this.deliveryList = res.data;\n      });\n    },\n    //查看大图\n    inited(viewer) {\n      this.$viewer = viewer;\n    },\n    //物流公司\n    getOrderExport() {\n      orderExport().then((res) => {\n        this.logisticsList = res.data;\n      });\n    },\n    handleSubmit(name) {\n      if (this.formValidate.gender == 1) {\n        this.$refs[name].validate((valid) => {\n          let paramsData = {};\n          paramsData.type = this.formValidate.gender;\n          paramsData.express_record_type = parseFloat(this.formValidate.shipStatus);\n          paramsData.delivery_name = this.formValidate.logisticsName;\n          paramsData.delivery_code = this.formValidate.logisticsCode;\n          if (valid) {\n            // 手动\n            if (this.formValidate.gender == 1 && this.formValidate.shipStatus == 1) {\n              paramsData.delivery_id = this.formValidate.number;\n            }\n            // 电子\n            if (this.formValidate.gender == 1 && this.formValidate.shipStatus == 2) {\n              paramsData.to_name = this.formValidate.sendName;\n              paramsData.to_tel = this.formValidate.sendPhone;\n              paramsData.to_addr = this.formValidate.sendAddress;\n              paramsData.express_temp_id = this.formValidate.electronic;\n            }\n            orderDelivery(this.orderId, paramsData)\n              .then((res) => {\n                this.$message.success(res.msg);\n                this.$emit('ok');\n              })\n              .catch((error) => {\n                this.$message.error(error.msg);\n              });\n          } else {\n          }\n        });\n      }\n      if (this.formValidate.gender == 2) {\n        let people = {};\n        this.deliveryList.forEach((el, index) => {\n          if (el.id == this.formValidate.postPeople) {\n            people = el;\n          }\n        });\n        orderDelivery(this.orderId, {\n          type: this.formValidate.gender,\n          sh_delivery_name: people.wx_name,\n          sh_delivery_id: people.phone,\n          sh_delivery_uid: people.id,\n        })\n          .then((res) => {\n            this.$message.success(res.msg);\n            this.$emit('ok');\n          })\n          .catch((error) => {\n            this.$message.error(error.msg);\n          });\n      }\n      if (this.formValidate.gender == 3) {\n        orderDelivery(this.orderId, {\n          type: this.formValidate.gender,\n          remark: this.formValidate.msg,\n        })\n          .then((res) => {\n            this.$message.success(res.msg);\n            this.$emit('ok');\n          })\n          .catch((error) => {\n            this.$message.error(error.msg);\n          });\n      }\n    },\n    close() {\n      this.$emit('close');\n    },\n    // 物流选中\n    bindChange(val) {\n      let deliveryItem = this.logisticsList.find((item) => {\n        return item.code == val;\n      });\n      this.formValidate.logisticsName = deliveryItem.value;\n      if (this.formValidate.shipStatus == 2) {\n        orderTemp({\n          com: val.value,\n        }).then((res) => {\n          this.orderTempList = res.data.data;\n        });\n      }\n    },\n    lookImg() {\n      if (this.formValidate.electronic) {\n        this.orderTempList.forEach((el, index) => {\n          if (el.temp_id == this.formValidate.electronic) {\n            this.$viewer.view(index);\n          }\n        });\n      } else {\n        this.$message.error('请选择电子面单');\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-item {\n  width: 100%;\n}\n</style>\n"]}]}