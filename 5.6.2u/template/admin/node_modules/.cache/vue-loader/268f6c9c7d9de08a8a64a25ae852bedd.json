{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\notify\\smsConfig\\tableList.vue?vue&type=style&index=0&id=a292f994&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\notify\\smsConfig\\tableList.vue","mtime":1741831003144},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5vcmRlcl9ib3ggOjp2LWRlZXAgLml2dS1mb3JtLWl0ZW0tY29udGVudCB7CiAgbWFyZ2luLWxlZnQ6IDUwcHggIWltcG9ydGFudDsKfQoubWF4SW5wdCB7CiAgbWF4LXdpZHRoOiA0MDBweDsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KLnNtc0JveCAucGFnZS1hY2NvdW50LXRvcCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogNzBweCAwIDMwcHggMDsKfQoubm90ZSB7CiAgbWFyZ2luLXRvcDogMTVweDsKfQoudGVtcEltZyB7CiAgY3Vyc29yOiBwb2ludGVyOwogIG1hcmdpbi1sZWZ0OiAxMXB4OwogIGNvbG9yOiB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpOwp9Ci50YWJCb3hfaW1nIHsKICBvcGFjaXR5OiAwOwogIHdpZHRoOiAzOHB4OwogIGhlaWdodDogMzBweDsKICBtYXJnaW4tdG9wOiAtMzBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgaW1nIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogIH0KfQoud2lkdGg5IHsKICB3aWR0aDogOTAlOwp9Ci53aWR0aDEwIHsKICB3aWR0aDogMTAwJTsKfQoud3VCb3ggewogIHdpZHRoOiAxMDAlOwp9Ci53dVNwMSB7CiAgZGlzcGxheTogYmxvY2s7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjMDAwMDAwOwogIGZvbnQtc2l6ZTogMjFweDsKICBmb250LXdlaWdodDogNTAwOwogIGxpbmUtaGVpZ2h0OiAzMnB4OwogIG1hcmdpbi10b3A6IDIzcHg7CiAgbWFyZ2luLWJvdHRvbTogNXB4Owp9Ci53dVNwMiB7CiAgb3BhY2l0eTogNDUlOwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgY29sb3I6ICMwMDAwMDA7CiAgbGluZS1oZWlnaHQ6IDIycHg7CiAgbWFyZ2luLWJvdHRvbTogMzBweDsKfQoucGFnZS1hY2NvdW50LXRvcC10aXQgewogIGZvbnQtc2l6ZTogMjFweDsKICBjb2xvcjogdmFyKC0tcHJldi1jb2xvci1wcmltYXJ5KTsKfQoud3VUdSB7CiAgd2lkdGg6IDI5NXB4OwogIGhlaWdodDogMTY0cHg7CiAgbWFyZ2luLXRvcDogNTRweDsKICBpbWcgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgfQoKICArIHNwYW4gewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9Cn0KLnRlbXBJZCB7CiAgY3Vyc29yOiBwb2ludGVyOwogIG1hcmdpbi1sZWZ0OiAxMXB4OwogIGNvbG9yOiB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpOwogIDo6di1kZWVwIC5pdnUtZm9ybS1pdGVtLWNvbnRlbnQgewogICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50OwogIH0KfQoudGFiQm94X2ltZyB7CiAgb3BhY2l0eTogMDsKICB3aWR0aDogMzhweDsKICBoZWlnaHQ6IDMwcHg7CiAgbWFyZ2luLXRvcDogLTMwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGltZyB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICB9Cn0KLndpZHRoOSB7CiAgd2lkdGg6IDkwJTsKfQoud2lkdGgxMCB7CiAgd2lkdGg6IDEwMCU7Cn0KLnd1Qm94IHsKICB3aWR0aDogMTAwJTsKfQoud3VTcDEgewogIGRpc3BsYXk6IGJsb2NrOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzAwMDAwMDsKICBmb250LXNpemU6IDIxcHg7CiAgZm9udC13ZWlnaHQ6IDUwMDsKICBsaW5lLWhlaWdodDogMzJweDsKICBtYXJnaW4tdG9wOiAyM3B4OwogIG1hcmdpbi1ib3R0b206IDVweDsKfQoud3VTcDIgewogIG9wYWNpdHk6IDQ1JTsKICBmb250LXdlaWdodDogNDAwOwogIGNvbG9yOiAjMDAwMDAwOwogIGxpbmUtaGVpZ2h0OiAyMnB4OwogIG1hcmdpbi1ib3R0b206IDMwcHg7Cn0KLnBhZ2UtYWNjb3VudC10b3AtdGl0IHsKICBmb250LXNpemU6IDIxcHg7CiAgY29sb3I6IHZhcigtLXByZXYtY29sb3ItcHJpbWFyeSk7Cn0KLnd1VHUgewogIHdpZHRoOiAyOTVweDsKICBoZWlnaHQ6IDE2NHB4OwogIG1hcmdpbi10b3A6IDU0cHg7CiAgaW1nIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogIH0KCiAgKyBzcGFuIHsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgfQp9Ci50ZW1wSWQgewogIGN1cnNvcjogcG9pbnRlcjsKICBtYXJnaW4tbGVmdDogMTFweDsKICBjb2xvcjogdmFyKC0tcHJldi1jb2xvci1wcmltYXJ5KTsKICA6OnYtZGVlcCAuaXZ1LWZvcm0taXRlbS1jb250ZW50IHsKICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsKICB9Cn0KLnRhYkJveF9pbWcgewogIG9wYWNpdHk6IDA7CiAgd2lkdGg6IDM4cHg7CiAgaGVpZ2h0OiAzMHB4OwogIG1hcmdpbi10b3A6IC0zMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBpbWcgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgfQp9Ci53aWR0aDkgewogIHdpZHRoOiA5MCU7Cn0KLndpZHRoMTAgewogIHdpZHRoOiAxMDAlOwp9Ci53dUJveCB7CiAgd2lkdGg6IDEwMCU7Cn0KLnd1U3AxIHsKICBkaXNwbGF5OiBibG9jazsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgY29sb3I6ICMwMDAwMDA7CiAgZm9udC1zaXplOiAyMXB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgbGluZS1oZWlnaHQ6IDMycHg7CiAgbWFyZ2luLXRvcDogMjNweDsKICBtYXJnaW4tYm90dG9tOiA1cHg7Cn0KLnd1U3AyIHsKICBvcGFjaXR5OiA0NSU7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBjb2xvcjogIzAwMDAwMDsKICBsaW5lLWhlaWdodDogMjJweDsKICBtYXJnaW4tYm90dG9tOiAzMHB4Owp9Ci5wYWdlLWFjY291bnQtdG9wLXRpdCB7CiAgZm9udC1zaXplOiAyMXB4OwogIGNvbG9yOiB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpOwp9Ci53dVR1IHsKICB3aWR0aDogMjk1cHg7CiAgaGVpZ2h0OiAxNjRweDsKICBtYXJnaW4tdG9wOiA1NHB4OwogIGltZyB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICB9CgogICsgc3BhbiB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0KfQoudGVtcElkIHsKICA6OnYtZGVlcCAuaXZ1LWZvcm0taXRlbS1jb250ZW50IHsKICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsKICB9Cn0K"},{"version":3,"sources":["tableList.vue"],"names":[],"mappings":";AA4xBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tableList.vue","sourceRoot":"src/pages/notify/smsConfig","sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\">\n      <el-tabs v-model=\"isChecked\" @tab-click=\"onChangeType\">\n        <el-tab-pane label=\"短信\" name=\"1\"></el-tab-pane>\n        <el-tab-pane label=\"商品采集\" name=\"4\"></el-tab-pane>\n        <el-tab-pane label=\"物流查询\" name=\"3\"></el-tab-pane>\n        <el-tab-pane label=\"电子面单打印\" name=\"2\"></el-tab-pane>\n      </el-tabs>\n      <!--短信列表-->\n      <div class=\"note\" v-if=\"isChecked === '1' && sms.open === 1\">\n        <div class=\"acea-row row-between-wrapper\">\n          <div>\n            <span>短信状态：</span>\n            <el-radio-group type=\"button\" v-model=\"tableFrom.type\" @input=\"selectChange(tableFrom.type)\">\n              <el-radio-button label=\"\">全部</el-radio-button>\n              <el-radio-button label=\"1\">成功</el-radio-button>\n              <el-radio-button label=\"2\">失败</el-radio-button>\n              <el-radio-button label=\"0\">发送中</el-radio-button>\n            </el-radio-group>\n          </div>\n          <div>\n            <el-button type=\"primary\" v-db-click @click=\"shortMes\">短信模板</el-button>\n            <el-button style=\"margin-left: 20px\" v-db-click @click=\"editSign\">修改签名</el-button>\n          </div>\n        </div>\n        <el-table\n          :data=\"tableList\"\n          v-loading=\"loading\"\n          highlight-current-row\n          no-userFrom-text=\"暂无数据\"\n          no-filtered-userFrom-text=\"暂无筛选结果\"\n          class=\"mt14\"\n        >\n          <el-table-column label=\"手机号\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.phone }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"模板内容\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.content }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"条数(每67/+1)\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.num }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"发送时间\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.add_time }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"状态码\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row._resultcode }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"acea-row row-right page\">\n          <pagination\n            v-if=\"total\"\n            :total=\"total\"\n            :page.sync=\"tableFrom.page\"\n            :limit.sync=\"tableFrom.limit\"\n            @pagination=\"getList\"\n          />\n        </div>\n      </div>\n      <!--商品采集，物流，电子面单列表-->\n      <div\n        v-else-if=\"\n          (isChecked === '3' && query.open === 1) ||\n          (isChecked === '4' && copy.open === 1) ||\n          (isChecked === '2' && dump.open === 1)\n        \"\n      >\n        <el-table\n          :data=\"tableList\"\n          v-loading=\"loading\"\n          highlight-current-row\n          no-userFrom-text=\"暂无数据\"\n          no-filtered-userFrom-text=\"暂无筛选结果\"\n          class=\"mt14\"\n        >\n          <el-table-column\n            :label=\"item.title\"\n            :min-width=\"item.minWidth\"\n            v-for=\"(item, index) in columns2\"\n            :key=\"index\"\n          >\n            <template slot-scope=\"scope\">\n              <template v-if=\"item.key\">\n                <div>\n                  <span>{{ scope.row[item.key] }}</span>\n                </div>\n              </template>\n              <template v-else-if=\"item.slot === 'num' && isChecked === '3' && query.open === 1\">\n                <div>{{ scope.row.content.num }}</div>\n              </template>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"acea-row row-right page\">\n          <pagination\n            v-if=\"total\"\n            :total=\"total\"\n            :page.sync=\"tableFrom.page\"\n            :limit.sync=\"tableFrom.limit\"\n            @pagination=\"getRecordList\"\n          />\n        </div>\n      </div>\n      <!--无开通-->\n      <div v-else>\n        <!--开通按钮-->\n        <div\n          v-if=\"\n            (isChecked === '1' && !isSms) ||\n            (isChecked === '2' && !isDump) ||\n            (isChecked === '3' && !isLogistics) ||\n            (isChecked === '4' && !isCopy)\n          \"\n          class=\"wuBox acea-row row-column-around row-middle\"\n        >\n          <div class=\"wuTu\"><img src=\"../../../assets/images/wutu.png\" /></div>\n          <span v-if=\"isChecked === '1'\">\n            <span class=\"wuSp1\">短信服务未开通哦</span>\n            <span class=\"wuSp2\">点击立即开通按钮，即可使用短信服务哦～～～</span>\n          </span>\n          <span v-if=\"isChecked === '4'\">\n            <span class=\"wuSp1\">商品采集服务未开通哦</span>\n            <span class=\"wuSp2\">点击立即开通按钮，即可使用商品采集服务哦～～～</span>\n          </span>\n          <span v-if=\"isChecked === '3'\">\n            <span class=\"wuSp1\">物流查询未开通哦</span>\n            <span class=\"wuSp2\">点击立即开通按钮，即可使用物流查询服务哦～～～</span>\n          </span>\n          <span v-if=\"isChecked === '2'\">\n            <span class=\"wuSp1\">电子面单打印未开通哦</span>\n            <span class=\"wuSp2\">点击立即开通按钮，即可使用电子面单打印服务哦～～～</span>\n          </span>\n          <el-button size=\"default\" type=\"primary\" v-db-click @click=\"onOpen\">立即开通</el-button>\n        </div>\n        <!--短信立即开通-->\n        <div class=\"smsBox\" v-if=\"isSms && isChecked === '1'\">\n          <div class=\"index_from page-account-container\">\n            <div class=\"page-account-top\">\n              <span class=\"page-account-top-tit\">开通短信服务</span>\n            </div>\n            <el-form\n              ref=\"formInline\"\n              :model=\"formInline\"\n              :rules=\"ruleInline\"\n              @submit.native.prevent\n              @keyup.enter=\"handleSubmit('formInline')\"\n            >\n              <el-form-item prop=\"sign\" class=\"maxInpt\">\n                <el-input\n                  type=\"text\"\n                  v-model=\"formInline.sign\"\n                  prefix=\"ios-contact-outline\"\n                  placeholder=\"请输入短信签名\"\n                />\n              </el-form-item>\n              <el-form-item class=\"maxInpt\">\n                <el-button type=\"primary\" long size=\"default\" v-db-click @click=\"handleSubmit('formInline')\" class=\"btn\"\n                  >登录</el-button\n                >\n              </el-form-item>\n            </el-form>\n          </div>\n        </div>\n        <!--电子面单立即开通-->\n        <div class=\"smsBox\" v-if=\"isDump && isChecked === '2'\">\n          <div class=\"index_from page-account-container\">\n            <div class=\"page-account-top\">\n              <span class=\"page-account-top-tit\" v-if=\"isChecked === '2'\">开通电子面单服务</span>\n              <span class=\"page-account-top-tit\" v-if=\"isChecked === '3'\">开通物流查询服务</span>\n            </div>\n            <el-form\n              ref=\"formInlineDump\"\n              :model=\"formInlineDump\"\n              :rules=\"ruleInlineDump\"\n              @submit.native.prevent\n              @keyup.enter=\"handleSubmitDump('formInlineDump')\"\n            >\n              <el-form-item prop=\"com\" class=\"maxInpt\">\n                <el-select\n                  v-model=\"formInlineDump.com\"\n                  placeholder=\"请选择快递公司\"\n                  @change=\"onChangeExport\"\n                  style=\"text-align: left\"\n                >\n                  <el-option\n                    v-for=\"(item, index) in exportList\"\n                    :value=\"item.code\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item prop=\"temp_id\" class=\"tempId maxInpt\">\n                <div class=\"acea-row\">\n                  <el-select\n                    v-model=\"formInlineDump.temp_id\"\n                    placeholder=\"请选择电子面单模板\"\n                    style=\"text-align: left\"\n                    :class=\"[formInlineDump.temp_id ? 'width9' : 'width10']\"\n                    @change=\"onChangeImg\"\n                  >\n                    <el-option\n                      v-for=\"(item, index) in exportTempList\"\n                      :value=\"item.temp_id\"\n                      :key=\"index\"\n                      :label=\"item.title\"\n                    ></el-option>\n                  </el-select>\n                  <div v-if=\"formInlineDump.temp_id\">\n                    <span class=\"tempImg\">预览</span>\n                    <div class=\"tabBox_img\" v-viewer>\n                      <img v-lazy=\"tempImg\" />\n                    </div>\n                  </div>\n                </div>\n              </el-form-item>\n              <el-form-item prop=\"to_name\" class=\"maxInpt\">\n                <el-input\n                  type=\"text\"\n                  v-model=\"formInlineDump.to_name\"\n                  prefix=\"ios-contact-outline\"\n                  placeholder=\"请填写寄件人姓名\"\n                />\n              </el-form-item>\n              <el-form-item prop=\"to_tel\" class=\"maxInpt\">\n                <el-input\n                  type=\"text\"\n                  v-model=\"formInlineDump.to_tel\"\n                  prefix=\"ios-contact-outline\"\n                  placeholder=\"请填写寄件人电话\"\n                />\n              </el-form-item>\n              <el-form-item prop=\"to_address\" class=\"maxInpt\">\n                <el-input\n                  type=\"text\"\n                  v-model=\"formInlineDump.to_address\"\n                  prefix=\"ios-contact-outline\"\n                  placeholder=\"请填写寄件人详细地址\"\n                />\n              </el-form-item>\n              <el-form-item prop=\"siid\" class=\"maxInpt\">\n                <el-input\n                  type=\"text\"\n                  v-model=\"formInlineDump.siid\"\n                  prefix=\"ios-contact-outline\"\n                  placeholder=\"请填写云打印编号\"\n                />\n              </el-form-item>\n              <el-form-item class=\"maxInpt\">\n                <el-button\n                  type=\"primary\"\n                  long\n                  size=\"default\"\n                  v-db-click\n                  @click=\"handleSubmitDump('formInlineDump')\"\n                  class=\"btn\"\n                  >立即开通</el-button\n                >\n              </el-form-item>\n            </el-form>\n          </div>\n        </div>\n      </div>\n    </el-card>\n    <el-dialog\n      :visible.sync=\"modals\"\n      title=\"短信账户签名修改\"\n      width=\"540px\"\n      class=\"order_box\"\n      @closed=\"cancel('formInline')\"\n    >\n      <el-form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" label-width=\"100px\" @submit.native.prevent>\n        <el-form-item>\n          <el-input\n            v-model=\"accountInfo.account\"\n            disabled\n            prefix=\"ios-person-outline\"\n            size=\"large\"\n            style=\"width: 87%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"sign\">\n          <el-input\n            v-model=\"formInline.sign\"\n            prefix=\"ios-document-outline\"\n            placeholder=\"请输入短信签名，例如：CRMEB\"\n            size=\"large\"\n            style=\"width: 87%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"phone\">\n          <el-input\n            v-model=\"formInline.phone\"\n            prefix=\"ios-call-outline\"\n            placeholder=\"请输入您的手机号\"\n            size=\"large\"\n            style=\"width: 87%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"code\">\n          <div class=\"code acea-row row-middle\" style=\"width: 87%\">\n            <el-input\n              type=\"text\"\n              v-model=\"formInline.code\"\n              prefix=\"ios-keypad-outline\"\n              placeholder=\"验证码\"\n              size=\"large\"\n              style=\"width: 75%\"\n            />\n            <el-button :disabled=\"!this.canClick\" v-db-click @click=\"cutDown\" size=\"large\">{{ cutNUm }}</el-button>\n          </div>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            long\n            size=\"large\"\n            v-db-click\n            @click=\"editSubmit('formInline')\"\n            class=\"btn\"\n            style=\"width: 87%\"\n            >确认修改</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  smsRecordApi,\n  serveInfoApi,\n  serveSmsOpenApi,\n  serveOpnExpressApi,\n  serveOpnOtherApi,\n  serveRecordListApi,\n  exportTempApi,\n  exportAllApi,\n  serveSign,\n  captchaApi,\n  serveOpen,\n} from '@/api/setting';\nexport default {\n  name: 'tableList',\n  props: {\n    copy: {\n      type: Object,\n      default: null,\n    },\n    dump: {\n      type: Object,\n      default: null,\n    },\n    query: {\n      type: Object,\n      default: null,\n    },\n    sms: {\n      type: Object,\n      default: null,\n    },\n    accountInfo: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写手机号'));\n      } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n        callback(new Error('手机号格式不正确!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      cutNUm: '获取验证码',\n      canClick: true,\n      spinShow: true,\n      formInline: {\n        sign: '',\n        phone: '',\n        code: '',\n      },\n      ruleInline: {\n        sign: [{ required: true, message: '请输入短信签名', trigger: 'blur' }],\n        phone: [{ required: true, validator: validatePhone, trigger: 'blur' }],\n        code: [{ required: true, message: '请输入验证码', trigger: 'blur' }],\n      },\n      isChecked: '1',\n      columns2: [],\n      tableFrom: {\n        page: 1,\n        limit: 20,\n        type: '',\n      },\n      total: 0,\n      loading: false,\n      tableList: [],\n      formInlineDump: {\n        temp_id: '',\n        com: '',\n        to_name: '',\n        to_tel: '',\n        siid: '',\n        to_address: '',\n      },\n      ruleInlineDump: {\n        com: [{ required: true, message: '请选择快递公司', trigger: 'change' }],\n        temp_id: [{ required: true, message: '请选择打印模板', trigger: 'change' }],\n        to_name: [{ required: true, message: '请输寄件人姓名', trigger: 'blur' }],\n        to_tel: [{ required: true, validator: validatePhone, trigger: 'blur' }],\n        siid: [{ required: true, message: '请输入云打印机编号', trigger: 'blur' }],\n        to_address: [{ required: true, message: '请输寄件人地址', trigger: 'blur' }],\n      },\n      tempImg: '', // 图片\n      exportTempList: [], // 电子面单模板\n      exportList: [], // 快递公司列表\n      isSms: false, // 是否开通短信\n      isDump: false, // 是否开通电子面单\n      isCopy: false, // 是否开通商品采集\n      modals: false,\n      isLogistics: false, //是否开通物流查询\n    };\n  },\n  watch: {\n    sms(n) {\n      if (n.open === 1) this.getList();\n    },\n  },\n  created() {\n    if (this.isChecked === '1' && this.sms.open === 1) this.getList();\n  },\n  // mounted() {\n  //     serveDumpOpen().then(res=>{\n  //         this.isLogistics = res.data.isOpen\n  //     })\n  // },\n  methods: {\n    //短信模板页\n    shortMes() {\n      this.$router.push({\n        path: this.$routeProStr + '/setting/sms/sms_template_apply/index',\n      });\n    },\n    // 短信验证码\n    cutDown() {\n      if (this.formInline.phone) {\n        if (!this.canClick) return;\n        this.canClick = false;\n        this.cutNUm = 60;\n        let data = {\n          phone: this.formInline.phone,\n        };\n        captchaApi(data)\n          .then(async (res) => {\n            this.$message.success(res.msg);\n          })\n          .catch((res) => {\n            this.$message.error(res.msg);\n          });\n        let time = setInterval(() => {\n          this.cutNUm--;\n          if (this.cutNUm === 0) {\n            this.cutNUm = '获取验证码';\n            this.canClick = true;\n            clearInterval(time);\n          }\n        }, 1000);\n      } else {\n        this.$message.warning('请填写手机号!');\n      }\n    },\n    editSign() {\n      this.formInline.sign = this.accountInfo.sms.sign;\n      this.modals = true;\n    },\n    cancel(name) {\n      this.modals = false;\n      this.$refs[name].resetFields();\n    },\n    // 提交\n    editSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          serveSign(this.formInline)\n            .then((res) => {\n              this.modals = false;\n              this.$message.success(res.msg);\n              this.$refs[name].resetFields();\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        }\n      });\n    },\n    onChangeImg(item) {\n      this.exportTempList.map((i) => {\n        if (i.temp_id === item) this.tempImg = i.pic;\n      });\n    },\n    // 物流公司\n    exportTempAllList() {\n      exportAllApi()\n        .then(async (res) => {\n          this.exportList = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 快递公司选择\n    onChangeExport(val) {\n      this.formInlineDump.temp_id = '';\n      this.exportTemp(val);\n    },\n    // 电子面单模板\n    exportTemp(val) {\n      exportTempApi({ com: val })\n        .then(async (res) => {\n          this.exportTempList = res.data.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    onChangeType() {\n      if (this.isChecked === '1' && this.sms.open === 1) {\n        this.tableFrom.type = '';\n        this.getList();\n      } else {\n        // if ((this.isChecked === '2' && this.query.open === 0) || (this.dump.open === 0 && this.isChecked === '3')) this.isDump = false\n        if (this.isChecked === '2' && this.query.open === 0) this.isDump = false;\n        if (this.isChecked === '3' && this.query.open === 0) this.isLogistics = false;\n        if (this.dump.open === 1 || this.query.open === 1 || this.copy.open === 1) this.getRecordList();\n      }\n    },\n    // 其他列表\n    getRecordList() {\n      this.loading = true;\n      this.tableFrom.type = this.isChecked;\n      serveRecordListApi(this.tableFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.data;\n          this.total = res.data.count;\n          switch (this.isChecked) {\n            case '2':\n              this.columns2 = [\n                {\n                  title: '订单号',\n                  key: 'order_id',\n                  minWidth: 150,\n                },\n                {\n                  title: '发货人',\n                  key: 'from_name',\n                  minWidth: 120,\n                },\n                {\n                  title: '收货人',\n                  key: 'to_name',\n                  minWidth: 120,\n                },\n                {\n                  title: '快递单号',\n                  key: 'num',\n                  minWidth: 120,\n                },\n                {\n                  title: '快递公司编码',\n                  key: 'code',\n                  minWidth: 120,\n                },\n                {\n                  title: '状态',\n                  key: '_resultcode',\n                  minWidth: 100,\n                },\n                {\n                  title: '打印时间',\n                  key: 'add_time',\n                  minWidth: 150,\n                },\n              ];\n              break;\n            case '3':\n              this.columns2 = [\n                {\n                  title: '快递单号',\n                  slot: 'num',\n                  minWidth: 120,\n                },\n                {\n                  title: '快递公司编码',\n                  key: 'code',\n                  minWidth: 120,\n                },\n                {\n                  title: '状态',\n                  key: '_resultcode',\n                  minWidth: 120,\n                },\n                {\n                  title: '添加时间',\n                  key: 'add_time',\n                  minWidth: 150,\n                },\n              ];\n              break;\n            default:\n              this.columns2 = [\n                {\n                  title: '复制URL',\n                  key: 'url',\n                  minWidth: 400,\n                },\n                {\n                  title: '请求状态',\n                  key: '_resultcode',\n                  minWidth: 120,\n                },\n                {\n                  title: '添加时间',\n                  key: 'add_time',\n                  minWidth: 150,\n                },\n              ];\n              break;\n          }\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 开通短信提交\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          serveSmsOpenApi(this.formInline)\n            .then(async (res) => {\n              this.$message.success('开通成功!');\n              this.getList();\n              this.$emit('openService', 'sms');\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 首页去开通\n    onOpenIndex(val) {\n      switch (val) {\n        case 'sms':\n          this.isChecked = '1';\n          this.isSms = true;\n          break;\n        case 'copy':\n          this.isChecked = '4';\n          this.openOther();\n          break;\n        case 'query':\n          this.isChecked = '3';\n          this.onDumpOpen();\n          break;\n        default:\n          this.isChecked = '2';\n          this.openDump();\n          break;\n      }\n    },\n    // 开通按钮\n    onOpen() {\n      if (this.isChecked === '1') this.isSms = true;\n      if (this.isChecked === '2') this.openDump();\n      if (this.isChecked === '3') this.onDumpOpen();\n      if (this.isChecked === '4') this.openOther();\n    },\n    // 开通物流\n    onDumpOpen() {\n      this.$msgbox({\n        title: '开通物流查询吗',\n        message: '确定要开通物流查询吗？',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        confirmButtonText: '确定',\n        iconClass: 'el-icon-warning',\n        confirmButtonClass: 'btn-custom-cancel',\n      })\n        .then(() => {\n          serveOpen().then((res) => {\n            this.getRecordList();\n            this.isLogistics = true;\n            this.$message.info(res.msg);\n            this.$emit('openService', 'query');\n          });\n        })\n        .catch(() => {});\n    },\n    // 开通其他\n    openOther() {\n      this.$msgbox({\n        title: '开通商品采集吗',\n        message: '确定要开通商品采集吗？',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        confirmButtonText: '确定',\n        iconClass: 'el-icon-warning',\n        confirmButtonClass: 'btn-custom-cancel',\n      })\n        .then(() => {\n          setTimeout(() => {\n            serveOpnOtherApi({ type: 1 })\n              .then(async (res) => {\n                this.getRecordList();\n                this.$emit('openService', 'copy');\n              })\n              .catch((res) => {\n                this.$message.error(res.msg);\n              });\n          }, 300);\n        })\n        .catch(() => {});\n    },\n    // 开通电子面单\n    openDump() {\n      this.exportTempAllList();\n      this.isDump = true;\n    },\n    // 选择\n    selectChange(tab) {\n      this.tableFrom.type = tab;\n      this.tableFrom.page = 1;\n      this.getList();\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      smsRecordApi(this.tableFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.data;\n          this.total = res.data.count;\n          this.spinShow = false;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 表格搜索\n    userSearchs() {\n      this.getList();\n    },\n    handleSubmitDump(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          serveOpnExpressApi(this.formInlineDump)\n            .then(async (res) => {\n              this.$message.success('开通成功!');\n              this.getRecordList();\n              this.$emit('openService', 'dump');\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.order_box ::v-deep .ivu-form-item-content {\n  margin-left: 50px !important;\n}\n.maxInpt {\n  max-width: 400px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.smsBox .page-account-top {\n  text-align: center;\n  margin: 70px 0 30px 0;\n}\n.note {\n  margin-top: 15px;\n}\n.tempImg {\n  cursor: pointer;\n  margin-left: 11px;\n  color: var(--prev-color-primary);\n}\n.tabBox_img {\n  opacity: 0;\n  width: 38px;\n  height: 30px;\n  margin-top: -30px;\n  cursor: pointer;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n.width9 {\n  width: 90%;\n}\n.width10 {\n  width: 100%;\n}\n.wuBox {\n  width: 100%;\n}\n.wuSp1 {\n  display: block;\n  text-align: center;\n  color: #000000;\n  font-size: 21px;\n  font-weight: 500;\n  line-height: 32px;\n  margin-top: 23px;\n  margin-bottom: 5px;\n}\n.wuSp2 {\n  opacity: 45%;\n  font-weight: 400;\n  color: #000000;\n  line-height: 22px;\n  margin-bottom: 30px;\n}\n.page-account-top-tit {\n  font-size: 21px;\n  color: var(--prev-color-primary);\n}\n.wuTu {\n  width: 295px;\n  height: 164px;\n  margin-top: 54px;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  + span {\n    margin-bottom: 20px;\n  }\n}\n.tempId {\n  cursor: pointer;\n  margin-left: 11px;\n  color: var(--prev-color-primary);\n  ::v-deep .ivu-form-item-content {\n    text-align: left !important;\n  }\n}\n.tabBox_img {\n  opacity: 0;\n  width: 38px;\n  height: 30px;\n  margin-top: -30px;\n  cursor: pointer;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n.width9 {\n  width: 90%;\n}\n.width10 {\n  width: 100%;\n}\n.wuBox {\n  width: 100%;\n}\n.wuSp1 {\n  display: block;\n  text-align: center;\n  color: #000000;\n  font-size: 21px;\n  font-weight: 500;\n  line-height: 32px;\n  margin-top: 23px;\n  margin-bottom: 5px;\n}\n.wuSp2 {\n  opacity: 45%;\n  font-weight: 400;\n  color: #000000;\n  line-height: 22px;\n  margin-bottom: 30px;\n}\n.page-account-top-tit {\n  font-size: 21px;\n  color: var(--prev-color-primary);\n}\n.wuTu {\n  width: 295px;\n  height: 164px;\n  margin-top: 54px;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  + span {\n    margin-bottom: 20px;\n  }\n}\n.tempId {\n  cursor: pointer;\n  margin-left: 11px;\n  color: var(--prev-color-primary);\n  ::v-deep .ivu-form-item-content {\n    text-align: left !important;\n  }\n}\n.tabBox_img {\n  opacity: 0;\n  width: 38px;\n  height: 30px;\n  margin-top: -30px;\n  cursor: pointer;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n.width9 {\n  width: 90%;\n}\n.width10 {\n  width: 100%;\n}\n.wuBox {\n  width: 100%;\n}\n.wuSp1 {\n  display: block;\n  text-align: center;\n  color: #000000;\n  font-size: 21px;\n  font-weight: 500;\n  line-height: 32px;\n  margin-top: 23px;\n  margin-bottom: 5px;\n}\n.wuSp2 {\n  opacity: 45%;\n  font-weight: 400;\n  color: #000000;\n  line-height: 22px;\n  margin-bottom: 30px;\n}\n.page-account-top-tit {\n  font-size: 21px;\n  color: var(--prev-color-primary);\n}\n.wuTu {\n  width: 295px;\n  height: 164px;\n  margin-top: 54px;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  + span {\n    margin-bottom: 20px;\n  }\n}\n.tempId {\n  ::v-deep .ivu-form-item-content {\n    text-align: left !important;\n  }\n}\n</style>\n"]}]}