{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devise\\diyIndex.vue?vue&type=script&crossorigin=anonymous&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\setting\\devise\\diyIndex.vue","mtime":1740455344857},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNhdGVnb3J5TGlzdCwgZGl5UHJvSW5mbywgZGl5UHJvU2F2ZSwgc2V0RGVmYXVsdCwgcmVjb3ZlcnksIGRpeVVwZGF0ZU5hbWUsIGdldFJvdXRpbmVDb2RlIH0gZnJvbSAnQC9hcGkvZGl5JzsKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgbVBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL21vYmlsZVBhZ2UvaW5kZXguanMnOwppbXBvcnQgbUNvbmZpZyBmcm9tICdAL2NvbXBvbmVudHMvbW9iaWxlQ29uZmlnL2luZGV4LmpzJzsKaW1wb3J0IGZvb3RQYWdlIGZyb20gJ0AvY29tcG9uZW50cy9wYWdlc0Zvb3QnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnOwppbXBvcnQgdGhlbWUgZnJvbSAnQC9taXhpbnMvdGhlbWUnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgUVJDb2RlIGZyb20gJ3FyY29kZWpzMic7CgpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3JlbG9hZCddLAogIG5hbWU6ICdpbmRleC52dWUnLAogIGNvbXBvbmVudHM6IHsKICAgIGZvb3RQYWdlLAogICAgaHRtbDJjYW52YXMsCiAgICBkcmFnZ2FibGU6IHZ1ZWRyYWdnYWJsZSwKICAgIC4uLm1QYWdlLAogICAgLi4ubUNvbmZpZywKICB9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlclR4dCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHJldHVybiAodmFsID0gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gMSkpOwogICAgICB9CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgdGl0bGVUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VUaXRsZSB8fCAn6aaW6aG1JywKICAgICAgc2hvd1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVNob3csCiAgICAgIGNvbG9yVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlQ29sb3IsCiAgICAgIHBpY1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVBpYywKICAgICAgY29sb3JQaWNrZXJUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VDb2xvclBpY2tlciwKICAgICAgdGFiVmFsVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlVGFiVmFsLAogICAgICBwaWNVcmxUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VQaWNVcmwsCiAgICAgIHBhZ2VGb290ZXJUeXBlOiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlRm9vdGVyLm5hdkNvbmZpZy50YWJWYWwgfHwgMCwKICAgICAgcGFnZUZvb3RlckJvdHRvbTogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZUZvb3Rlci5tYkNvbmZpZy52YWwsCiAgICAgIGRlZmF1bHRBcnJheXM6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLmRlZmF1bHRBcnJheSwKICAgIH0pLAogICAgbmFtZVR4dDogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1vYmlsZENvbmZpZy5wYWdlTmFtZTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvVVBOQU1FJywgdmFsdWUpOwogICAgICB9LAogICAgfSwKICB9LAogIG1peGluczogW3RoZW1lXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQmFzZVVSTDogU2V0dGluZy5hcGlCYXNlVVJMLnJlcGxhY2UoL2FkbWluYXBpLywgJycpLAogICAgICBxcmNvZGVJbWc6ICcnLAogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIGNsaWVudEhlaWdodDogJycsIC8v6aG16Z2i5Yqo5oCB6auY5bqmCiAgICAgIHJvbGxIZWlnaHQ6ICcnLAogICAgICBsZWZ0TWVudTogW10sIC8vIOW3puS+p+iPnOWNlQogICAgICBsQ29uZmlnOiBbXSwgLy8g5bem5L6n57uE5Lu2CiAgICAgIG1Db25maWc6IFtdLCAvLyDkuK3pl7Tnu4Tku7bmuLLmn5MKICAgICAgckNvbmZpZzogW10sIC8vIOWPs+S+p+e7hOS7tumFjee9rgogICAgICBhY3RpdmVDb25maWdOYW1lOiAnJywKICAgICAgcHJvcHNPYmo6IHt9LCAvLyDnu4Tku7bkvKDpgJLnmoTmlbDmja4sCiAgICAgIGFjdGl2ZUluZGV4OiAtMTAwLCAvLyDpgInkuK3nmoTkuIvmoIcKICAgICAgbnVtYmVyOiAwLAogICAgICBwYWdlSWQ6ICcnLAogICAgICBwYWdlTmFtZTogJycsCiAgICAgIHBhZ2VUeXBlOiAnJywKICAgICAgY2F0ZWdvcnk6IFtdLAogICAgICB0YWJMaXN0OiBbCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfnu4Tku7blupMnLAogICAgICAgICAga2V5OiAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfpobXpnaLpk77mjqUnLAogICAgICAgICAga2V5OiAxLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGZvb3RBY3RpdmU6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcmVsTG9hZGluZzogZmFsc2UsCiAgICAgIGlzU2VhcmNoOiBmYWxzZSwKICAgICAgaXNUYWI6IGZhbHNlLAogICAgICBpc0ZsbG93OiBmYWxzZSwKICAgICAgaXNDb21iOiBmYWxzZSwKICAgICAgaXNTZXJ2aWNlOiBmYWxzZSwKICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgZGl5U3RhdHVzOiAwLAogICAgICBuYW1lTW9kYWw6IGZhbHNlLAogICAgICBzYXZlTmFtZTogJycsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY2F0ZWdvcnlMaXN0KCk7CiAgICB0aGlzLnBhZ2VJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgdGhpcy5wYWdlTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5hbWU7CiAgICB0aGlzLnBhZ2VUeXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgIHRoaXMubENvbmZpZyA9IHRoaXMub2JqVG9BcnIobVBhZ2UpOwogICAgbGV0IGltZ0xpc3QgPSB7CiAgICAgIGltZ0xpc3Q6IFtyZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvZm9vdC0wMDUucG5nJyksIHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9mb290LTAwNi5wbmcnKV0sCiAgICAgIG5hbWU6ICfotK3nianovaYnLAogICAgICBsaW5rOiAnL3BhZ2VzL29yZGVyX2FkZGNhcnQvb3JkZXJfYWRkY2FydCcsCiAgICB9OwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9GT09URVInLCB7IHRpdGxlOiAn5piv5ZCm6Ieq5a6a5LmJJywgbmFtZTogaW1nTGlzdCB9KTsKICAgICAgdGhpcy5hcnJheVNvcnQoKTsKICAgICAgaWYgKHRoaXMucGFnZUlkICE9IDApIHsKICAgICAgICB0aGlzLmdldERlZmF1bHRDb25maWcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dUaXRsZSgpOwogICAgICB9CiAgICAgIHRoaXMuY2xpZW50SGVpZ2h0ID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gIC0gNjUuODE7IC8v6I635Y+W5rWP6KeI5Zmo5Y+v6KeG5Yy65Z+f6auY5bqmCiAgICAgIGxldCBIID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gIC0gMTgwOwogICAgICB0aGlzLnJvbGxIZWlnaHQgPSBIID4gNjUwID8gNjUwIDogSDsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5jbGllbnRIZWlnaHQgPSBgJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fWAgLSA2NS44MTsKICAgICAgICBsZXQgSCA9IGAke2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR9YCAtIDE4MDsKICAgICAgICB0aGF0LnJvbGxIZWlnaHQgPSBIID4gNjUwID8gNjUwIDogSDsKICAgICAgfTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZXhwb3J0VmlldygpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5tQ29uZmlnKTsKICAgICAgfSk7CiAgICB9LAogICAgaW1wb3J0VmlldygpIHt9LAogICAgcHJldmlldygpIHsKICAgICAgdGhpcy5tb2RhbCA9IHRydWU7CiAgICAgIHRoaXMuY3JlYXRRckNvZGUodGhpcy5wYWdlSWQsIHRoaXMuZGl5U3RhdHVzKTsKICAgICAgdGhpcy5yb3V0aW5lQ29kZSh0aGlzLnBhZ2VJZCk7CiAgICB9LAogICAgLy/lsI/nqIvluo/kuoznu7TnoIEKICAgIHJvdXRpbmVDb2RlKGlkKSB7CiAgICAgIGdldFJvdXRpbmVDb2RlKGlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucXJjb2RlSW1nID0gcmVzLmRhdGEuaW1hZ2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v55Sf5oiQ5LqM57u056CBCiAgICBjcmVhdFFyQ29kZShpZCwgc3RhdHVzKSB7CiAgICAgIHRoaXMuJHJlZnMucXJDb2RlVXJsLmlubmVySFRNTCA9ICcnOwogICAgICBsZXQgdXJsID0gJyc7CiAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICB1cmwgPSBgJHt0aGlzLkJhc2VVUkx9cGFnZXMvaW5kZXgvaW5kZXhgOwogICAgICB9IGVsc2UgewogICAgICAgIHVybCA9IGAke3RoaXMuQmFzZVVSTH1wYWdlcy9hbm5leC9zcGVjaWFsL2luZGV4P2lkPSR7aWR9YDsKICAgICAgfQogICAgICB2YXIgcXJjb2RlID0gbmV3IFFSQ29kZSh0aGlzLiRyZWZzLnFyQ29kZVVybCwgewogICAgICAgIHRleHQ6IHVybCwgLy8g6ZyA6KaB6L2s5o2i5Li65LqM57u056CB55qE5YaF5a65CiAgICAgICAgd2lkdGg6IDE2MCwKICAgICAgICBoZWlnaHQ6IDE2MCwKICAgICAgICBjb2xvckRhcms6ICcjMDAwMDAwJywKICAgICAgICBjb2xvckxpZ2h0OiAnI2ZmZmZmZicsCiAgICAgICAgY29ycmVjdExldmVsOiBRUkNvZGUuQ29ycmVjdExldmVsLkgsCiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nTmFtZSh2YWwpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvVVBOQU1FJywgdmFsKTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGRldGVybWluZSgpIHsKICAgICAgaWYgKHRoaXMubmFtZVR4dC50cmltKCkgPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5qih5p2/5ZCN56ewJyk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFnZUlkID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBkaXlVcGRhdGVOYW1lKHRoaXMucGFnZUlkLCB7IG5hbWU6IHRoaXMubmFtZVR4dCB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIHJldHVyblRhcCgpIHsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJ+a4qemmqOaPkOekuicsCiAgICAgICAgbWVzc2FnZTogJ+ehruWumuemu+W8gOatpOmhtemdou+8n+ezu+e7n+WPr+iDveS4jeS8muS/neWtmOaCqOaJgOWBmueahOabtOaUueOAgicsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgaWNvbkNsYXNzOiAnZWwtaWNvbi13YXJuaW5nJywKICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdidG4tY3VzdG9tLWNhbmNlbCcsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hZG1pbi9zZXR0aW5nL3BhZ2VzL2RldmlzZS8wJyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgfSwKICAgIGxlZnRSZW1vdmUoeyB0bywgZnJvbSwgaXRlbSwgY2xvbmUsIG9sZEluZGV4LCBuZXdJbmRleCB9KSB7CiAgICAgIGlmICh0aGlzLmlzU2VhcmNoICYmIG5ld0luZGV4ID09IDApIHsKICAgICAgICBpZiAoaXRlbS5fdW5kZXJseWluZ192bV8ubmFtZSA9PSAnel93ZWNoYXRfYXR0ZW50aW9uJykgewogICAgICAgICAgdGhpcy5pc0ZsbG93ID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvQVJSQVlSRUFTVCcsIHRoaXMubUNvbmZpZ1swXS5udW0pOwogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgwLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCh0aGlzLmlzRmxsb3cgPSB0cnVlICYmIG5ld0luZGV4ID49IDEpKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvQVJSQVlSRUFTVCcsIHRoaXMubUNvbmZpZ1swXS5udW0pOwogICAgICB9CiAgICB9LAogICAgb25Nb3ZlKGUpIHsKICAgICAgaWYgKGUucmVsYXRlZENvbnRleHQuZWxlbWVudC5uYW1lID09ICdzZWFyY2hfYm94JykgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoZS5yZWxhdGVkQ29udGV4dC5lbGVtZW50Lm5hbWUgPT0gJ25hdl9iYXInKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChlLnJlbGF0ZWRDb250ZXh0LmVsZW1lbnQubmFtZSA9PSAnaG9tZV9jb21iJykgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBvbkNvcHkoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSN5Yi25oiQ5YqfJyk7CiAgICB9LAogICAgb25FcnJvcigpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5aSN5Yi25aSx6LSlJyk7CiAgICB9LAogICAgLy/orr7nva7pu5jorqTmlbDmja4KICAgIHNldG1vcmVuKCkgewogICAgICBzZXREZWZhdWx0KHRoaXMucGFnZUlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v5oGi5aSN6buY6K6kCiAgICBnZXRtb3JlbigpIHsKICAgICAgcmVjb3ZlcnkodGhpcy5wYWdlSWQpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgdGhpcy5yZWxvYWQoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOmhtemdouagh+mimOeCueWHuwogICAgc2hvd1RpdGxlKCkgewogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTEwMDsKICAgICAgbGV0IG9iaiA9IHt9OwogICAgICBmb3IgKHZhciBpIGluIG1Db25maWcpIHsKICAgICAgICBpZiAoaSA9PSAncGFnZVRpdGxlJykgewogICAgICAgICAgLy8gdGhpcy5yQ29uZmlnID0gb2JqCiAgICAgICAgICBvYmogPSBtQ29uZmlnW2ldOwogICAgICAgICAgb2JqLmNvbmZpZ05hbWUgPSBtQ29uZmlnW2ldLm5hbWU7CiAgICAgICAgICBvYmouY25hbWUgPSAn6aG16Z2i6K6+572uJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGFiYyA9IG9iajsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIHRoaXMuckNvbmZpZ1swXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICB9LAogICAgLy8g6aG16Z2i5bqV6YOo54K55Ye7CiAgICBzaG93Rm9vdCgpIHsKICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IC0xMDE7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgZm9yICh2YXIgaSBpbiBtQ29uZmlnKSB7CiAgICAgICAgaWYgKGkgPT0gJ3BhZ2VGb290JykgewogICAgICAgICAgLy8gdGhpcy5yQ29uZmlnID0gb2JqCiAgICAgICAgICBvYmogPSBtQ29uZmlnW2ldOwogICAgICAgICAgb2JqLmNvbmZpZ05hbWUgPSBtQ29uZmlnW2ldLm5hbWU7CiAgICAgICAgICBvYmouY25hbWUgPSAn5bqV6YOo6I+c5Y2VJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGFiYyA9IG9iajsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIHRoaXMuckNvbmZpZ1swXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICB9LAogICAgLy8g5a+56LGh6L2s5pWw57uECiAgICBvYmpUb0FycihkYXRhKSB7CiAgICAgIGxldCBvYmogPSBPYmplY3Qua2V5cyhkYXRhKTsKICAgICAgbGV0IG0gPSBvYmoubWFwKChrZXkpID0+IGRhdGFba2V5XSk7CiAgICAgIHJldHVybiBtOwogICAgfSwKICAgIGxvZyhldnQpIHsKICAgICAgLy8g5Lit6Ze05ouW5ou95o6S5bqPCiAgICAgIGlmIChldnQubW92ZWQpIHsKICAgICAgICBpZiAoZXZ0Lm1vdmVkLmVsZW1lbnQubmFtZSA9PSAnc2VhcmNoX2JveCcpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivpee7hOS7tuemgeatouaLluaLvScpOwogICAgICAgIH0KICAgICAgICAvLyBpZiAoZXZ0Lm1vdmVkLmVsZW1lbnQubmFtZSA9PSAibmF2X2JhciIpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+l57uE5Lu256aB5q2i5ouW5ou9Iik7CiAgICAgICAgLy8gfQogICAgICAgIGV2dC5tb3ZlZC5vbGROdW0gPSB0aGlzLm1Db25maWdbZXZ0Lm1vdmVkLm9sZEluZGV4XS5udW07CiAgICAgICAgZXZ0Lm1vdmVkLm5ld051bSA9IHRoaXMubUNvbmZpZ1tldnQubW92ZWQubmV3SW5kZXhdLm51bTsKICAgICAgICBldnQubW92ZWQuc3RhdHVzID0gZXZ0Lm1vdmVkLm9sZEluZGV4ID4gZXZ0Lm1vdmVkLm5ld0luZGV4OwogICAgICAgIHRoaXMubUNvbmZpZy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICAgIH0pOwogICAgICAgIGV2dC5tb3ZlZC5saXN0ID0gdGhpcy5tQ29uZmlnOwogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIGxldCBpdGVtID0gZXZ0Lm1vdmVkLmVsZW1lbnQ7CiAgICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSk7CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBldnQubW92ZWQubmV3SW5kZXg7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VUQ09ORklHTkFNRScsIGl0ZW0ubmFtZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvZGVmYXVsdEFycmF5U29ydCcsIGV2dC5tb3ZlZCk7CiAgICAgIH0KICAgICAgLy8g5LuO5bem5ZCR5Y+z5ouW5ou95o6S5bqPCiAgICAgIGlmIChldnQuYWRkZWQpIHsKICAgICAgICBsZXQgZGF0YSA9IGV2dC5hZGRlZC5lbGVtZW50OwogICAgICAgIGxldCBvYmogPSB7fTsKICAgICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKiAxMDAwOwogICAgICAgIGRhdGEubnVtID0gdGltZXN0YW1wOwogICAgICAgIHRoaXMuYWN0aXZlQ29uZmlnTmFtZSA9IGRhdGEubmFtZTsKICAgICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgICB0ZW1wSXRlbS5pZCA9ICdpZCcgKyB0ZW1wSXRlbS5udW07CiAgICAgICAgdGhpcy5tQ29uZmlnW2V2dC5hZGRlZC5uZXdJbmRleF0gPSB0ZW1wSXRlbTsKICAgICAgICB0aGlzLnJDb25maWcgPSBbXTsKICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgZWwubnVtID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKiAxMDAwICsgaW5kZXg7CiAgICAgICAgfSk7CiAgICAgICAgZXZ0LmFkZGVkLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGV2dC5hZGRlZC5uZXdJbmRleDsKICAgICAgICAvLyDkv53lrZjnu4Tku7blkI3np7AKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9TRVRDT05GSUdOQU1FJywgZGF0YS5uYW1lKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0JywgZXZ0LmFkZGVkKTsKICAgICAgfQogICAgfSwKICAgIGNsb25lRG9nKGRhdGEpIHsKICAgICAgLy8gdGhpcy5tQ29uZmlnLnB1c2godGVtcEl0ZW0pCiAgICAgIHJldHVybiB7CiAgICAgICAgLi4uZGF0YSwKICAgICAgfTsKICAgIH0sCiAgICAvL+aVsOe7hOWFg+e0oOS6kuaNouS9jee9rgogICAgc3dhcEFycmF5KGFyciwgaW5kZXgxLCBpbmRleDIpIHsKICAgICAgYXJyW2luZGV4MV0gPSBhcnIuc3BsaWNlKGluZGV4MiwgMSwgYXJyW2luZGV4MV0pWzBdOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8v54K55Ye75LiK5LiL56e75Yqo77ybCiAgICBtb3ZlUGFnZShpdGVtLCBpbmRleCwgdHlwZSkgewogICAgICBpZiAodHlwZSkgewogICAgICAgIGlmIChpbmRleCA9PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpbmRleCA9PSB0aGlzLm1Db25maWcubGVuZ3RoIC0gMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JyB8fCBpdGVtLm5hbWUgPT0gJ25hdl9iYXInIHx8IGl0ZW0ubmFtZSA9PSAnaG9tZV9jb21iJykgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivpee7hOS7tuemgeatouenu+WKqCcpOwogICAgICB9CiAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5tQ29uZmlnW2luZGV4IC0gMV0ubmFtZSA9PSAnc2VhcmNoX2JveCcgfHwKICAgICAgICAgIHRoaXMubUNvbmZpZ1tpbmRleCAtIDFdLm5hbWUgPT0gJ25hdl9iYXInIHx8CiAgICAgICAgICB0aGlzLm1Db25maWdbaW5kZXggLSAxXS5uYW1lID09ICdob21lX2NvbWInCiAgICAgICAgKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmkJzntKLmoYbmiJbpgInpobnljaHmiJbova7mkq3mkJzntKLlv4XpobvkuLrpobbpg6gnKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zd2FwQXJyYXkodGhpcy5tQ29uZmlnLCBpbmRleCAtIDEsIGluZGV4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN3YXBBcnJheSh0aGlzLm1Db25maWcsIGluZGV4LCBpbmRleCArIDEpOwogICAgICB9CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIG9iai5vbGRJbmRleCA9IGluZGV4OwogICAgICBpZiAodHlwZSkgewogICAgICAgIG9iai5uZXdJbmRleCA9IGluZGV4IC0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmoubmV3SW5kZXggPSBpbmRleCArIDE7CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICB9KTsKICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSk7CiAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgb2JqLmVsZW1lbnQgPSBpdGVtOwogICAgICBvYmoubGlzdCA9IHRoaXMubUNvbmZpZzsKICAgICAgaWYgKHR5cGUpIHsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXggLSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleCArIDE7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0Jywgb2JqKTsKICAgIH0sCiAgICAvLyDnu4Tku7bmt7vliqAKICAgIGFkZERvbUNvbihpdGVtLCB0eXBlLCBpbmRleCkgewogICAgICBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgIGlmICh0aGlzLmlzU2VhcmNoKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+l57uE5Lu25Y+q6IO95re75Yqg5LiA5qyhJyk7CiAgICAgICAgaWYgKHRoaXMuaXNDb21iKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6L2u5pKt5pCc57Si5LiN6IO95ZKM5pCc57Si57uE5Lu25LiO6YCJ6aG55Y2h57uE5Lu25ZCM5pe25a2Y5ZyoJyk7CiAgICAgICAgdGhpcy5pc1NlYXJjaCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICBpZiAodGhpcy5pc1RhYikgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivpee7hOS7tuWPquiDvea3u+WKoOS4gOasoScpOwogICAgICAgIGlmICh0aGlzLmlzQ29tYikgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i9ruaSreaQnOe0ouS4jeiDveWSjOaQnOe0oue7hOS7tuS4jumAiemhueWNoee7hOS7tuWQjOaXtuWtmOWcqCcpOwogICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICB9CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ2hvbWVfY29tYicpIHsKICAgICAgICBpZiAodGhpcy5pc0NvbWIpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor6Xnu4Tku7blj6rog73mt7vliqDkuIDmrKEnKTsKICAgICAgICBpZiAodGhpcy5pc1NlYXJjaCB8fCB0aGlzLmlzVGFiKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6L2u5pKt5pCc57Si5LiN6IO95ZKM5pCc57Si57uE5Lu25LiO6YCJ6aG55Y2h57uE5Lu25ZCM5pe25a2Y5ZyoJyk7CiAgICAgICAgdGhpcy5pc0NvbWIgPSB0cnVlOwogICAgICB9CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ2hvbWVfc2VydmljZScpIHsKICAgICAgICBpZiAodGhpcy5pc1NlcnZpY2UpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor6Xnu4Tku7blj6rog73mt7vliqDkuIDmrKEnKTsKICAgICAgICB0aGlzLmlzU2VydmljZSA9IHRydWU7CiAgICAgIH0KICAgICAgbGV0IG9iaiA9IHt9OwogICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKiAxMDAwOwogICAgICBpdGVtLm51bSA9IGAke3RpbWVzdGFtcH1gOwogICAgICBpdGVtLmlkID0gYGlkJHt0aW1lc3RhbXB9YDsKICAgICAgdGhpcy5hY3RpdmVDb25maWdOYW1lID0gaXRlbS5uYW1lOwogICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnaG9tZV9jb21iJykgewogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIHRoaXMubUNvbmZpZy51bnNoaWZ0KHRlbXBJdGVtKTsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDsKICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIHRoaXMubUNvbmZpZy51bnNoaWZ0KHRlbXBJdGVtKTsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDsKICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIGlmICh0aGlzLm1Db25maWdbMF0gJiYgdGhpcy5tQ29uZmlnWzBdLm5hbWUgPT09ICdzZWFyY2hfYm94JykgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgxLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgwLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgICB0aGlzLnJDb25maWcgPSBbXTsKICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09IDAgJiYgdGhpcy5tQ29uZmlnWzFdICYmIHRoaXMubUNvbmZpZ1sxXS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ID49IDAgPyB0aGlzLmFjdGl2ZUluZGV4ICsgMSA6IHRoaXMubUNvbmZpZy5sZW5ndGg7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLm1Db25maWcuc3BsaWNlKHRoaXMuYWN0aXZlSW5kZXgsIDAsIHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZShpbmRleCArIDEsIDAsIHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICB9KTsKICAgICAgLy8g5L+d5a2Y57uE5Lu25ZCN56ewCiAgICAgIG9iai5lbGVtZW50ID0gaXRlbTsKICAgICAgb2JqLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0Jywgb2JqKTsKICAgIH0sCiAgICAvL+S4remXtOmhteeCueWHu+a3u+WKoOaooeWdl++8mwogICAgYmluZEFkZERvbShpdGVtLCB0eXBlLCBpbmRleCkgewogICAgICBsZXQgaSA9IGl0ZW07CiAgICAgIHRoaXMubENvbmZpZy5mb3JFYWNoKChqKSA9PiB7CiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PSBqLm5hbWUpIHsKICAgICAgICAgIGkgPSBqOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWRkRG9tQ29uKGksIHR5cGUsIGluZGV4KTsKICAgIH0sCiAgICAvL+W3pui+uemFjee9ruaooeWdl+eCueWHu+a3u+WKoO+8mwogICAgYWRkRG9tKGl0ZW0sIHR5cGUpIHsKICAgICAgdGhpcy5hZGREb21Db24oaXRlbSwgdHlwZSk7CiAgICB9LAogICAgLy8g54K55Ye75pi+56S655u45bqU55qE6YWN572uCiAgICBiaW5kY29uZmlnKGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgfSwKICAgIGJpbmRIaWRlKGl0ZW0pIHsKICAgICAgbGV0IG9iaiA9IHRoaXMuJHN0b3JlLnN0YXRlLm1vYmlsZENvbmZpZy5kZWZhdWx0QXJyYXk7CiAgICAgIGxldCBudW0gPSB0aGlzLnJDb25maWdbMF0ubnVtOwogICAgICBvYmpbbnVtXS5pc0hpZGUgPSAhb2JqW251bV0uaXNIaWRlOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9VUERBVEVBUlInLCB7IG51bTogbnVtLCB2YWw6IG9ialtudW1dIH0pOwogICAgfSwKICAgIC8vIOe7hOS7tuWIoOmZpAogICAgYmluZERlbGV0ZShpdGVtLCBrZXkpIHsKICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnc2VhcmNoX2JveCcpIHsKICAgICAgICB0aGlzLmlzU2VhcmNoID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICB0aGlzLmlzVGFiID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnaG9tZV9jb21iJykgewogICAgICAgIHRoaXMuaXNDb21iID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnaG9tZV9zZXJ2aWNlJykgewogICAgICAgIHRoaXMuaXNTZXJ2aWNlID0gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZShrZXksIDEpOwogICAgICB0aGlzLnJDb25maWcuc3BsaWNlKDAsIDEpOwogICAgICBpZiAodGhpcy5tQ29uZmlnLmxlbmd0aCAhPSBrZXkpIHsKICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0aGlzLm1Db25maWdba2V5XSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMubUNvbmZpZy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBrZXkgLSAxOwogICAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGhpcy5tQ29uZmlnW2tleSAtIDFdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaG93VGl0bGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8g5Yig6Zmk56ys5Yeg5Liq6YWN572uCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL0RFTEVURUFSUkFZJywgaXRlbSk7CiAgICB9LAogICAgLy8g57uE5Lu26L+U5ZueCiAgICBjb25maWcoZGF0YSkgewogICAgICBsZXQgcHJvcHNPYmogPSB0aGlzLnByb3BzT2JqOwogICAgICBwcm9wc09iai5kYXRhID0gZGF0YTsKICAgICAgcHJvcHNPYmoubmFtZSA9IHRoaXMuYWN0aXZlQ29uZmlnTmFtZTsKICAgIH0sCiAgICBhZGRTb3J0KGFyciwgaW5kZXgxLCBpbmRleDIpIHsKICAgICAgYXJyW2luZGV4MV0gPSBhcnIuc3BsaWNlKGluZGV4MiwgMSwgYXJyW2luZGV4MV0pWzBdOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8vIOaVsOe7hOaOkuW6jwogICAgYXJyYXlTb3J0KCkgewogICAgICBsZXQgdGVtcEFyciA9IFtdOwogICAgICBsZXQgYmFzaXMgPSB7CiAgICAgICAgdGl0bGU6ICfln7rnoYDnu4Tku7YnLAogICAgICAgIGxpc3Q6IFtdLAogICAgICAgIGlzT3BlbjogdHJ1ZSwKICAgICAgfTsKICAgICAgbGV0IG1hcmtldGluZyA9IHsKICAgICAgICB0aXRsZTogJ+iQpemUgOe7hOS7ticsCiAgICAgICAgbGlzdDogW10sCiAgICAgICAgaXNPcGVuOiB0cnVlLAogICAgICB9OwogICAgICBsZXQgdG9vbCA9IHsKICAgICAgICB0aXRsZTogJ+W3peWFt+e7hOS7ticsCiAgICAgICAgbGlzdDogW10sCiAgICAgICAgaXNPcGVuOiB0cnVlLAogICAgICB9OwogICAgICB0aGlzLmxDb25maWcubWFwKChlbCwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoZWwudHlwZSA9PSAwKSB7CiAgICAgICAgICBiYXNpcy5saXN0LnB1c2goZWwpOwogICAgICAgIH0KICAgICAgICBpZiAoZWwudHlwZSA9PSAxKSB7CiAgICAgICAgICBtYXJrZXRpbmcubGlzdC5wdXNoKGVsKTsKICAgICAgICB9CiAgICAgICAgaWYgKGVsLnR5cGUgPT0gMikgewogICAgICAgICAgdG9vbC5saXN0LnB1c2goZWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRlbXBBcnIucHVzaChiYXNpcywgbWFya2V0aW5nLCB0b29sKTsKICAgICAgdGhpcy5sZWZ0TWVudSA9IHRlbXBBcnI7CiAgICB9LAogICAgLy8gdG9JbWFnZSh2YWwpewogICAgLy8gICAgIGh0bWwyY2FudmFzKHRoaXMuJHJlZnMuaW1nQ29udGFpbmVyLHsKICAgIC8vICAgICAgICAgdXNlQ09SUzp0cnVlLAogICAgLy8gICAgICAgICBsb2dnaW5nOnRydWUsCiAgICAvLyAgICAgICAgIHRhaW50VGVzdDogZmFsc2UsCiAgICAvLyAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbnVsbAogICAgLy8gICAgIH0pLnRoZW4oKGNhbnZhcykgPT4gewogICAgLy8gICAgICAgICBsZXQgaW1nVXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycpOwogICAgLy8gICAgICAgICB0aGlzLmRpeVNhdmVEYXRlKHZhbCxpbWdVcmwpCiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgZGl5U2F2ZURhdGUodmFsLCBudW0sIHR5cGUsIHNhdmUpIHsKICAgICAgZGl5UHJvU2F2ZSh0eXBlID8gMCA6IHRoaXMucGFnZUlkLCB7CiAgICAgICAgdHlwZTogdGhpcy5wYWdlVHlwZSB8fCBzYXZlLAogICAgICAgIHZhbHVlOiB2YWwsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGVUeHQsCiAgICAgICAgbmFtZTogdGhpcy5uYW1lVHh0IHx8ICfmqKHmnb8nLAogICAgICAgIGlzX3Nob3c6IHRoaXMuc2hvd1R4dCA/IDEgOiAwLAogICAgICAgIGlzX2JnX2NvbG9yOiB0aGlzLmNvbG9yVHh0ID8gMSA6IDAsCiAgICAgICAgY29sb3JfcGlja2VyOiB0aGlzLmNvbG9yUGlja2VyVHh0LAogICAgICAgIGJnX3BpYzogdGhpcy5waWNVcmxUeHQsCiAgICAgICAgYmdfdGFiX3ZhbDogdGhpcy50YWJWYWxUeHQsCiAgICAgICAgaXNfYmdfcGljOiB0aGlzLnBpY1R4dCA/IDEgOiAwLAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucGFnZUlkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICB0aGlzLm5hbWVNb2RhbCA9IGZhbHNlOwogICAgICAgICAgaWYgKG51bSA9PSAyKSB7CiAgICAgICAgICAgIHRoaXMucmVsTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnL2FkbWluL3NldHRpbmcvcGFnZXMvZGV2aXNlLzAnKTsKICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnJlbExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzYXZlTW9kYWwoKSB7CiAgICAgIGlmICghdGhpcy5zYXZlTmFtZSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI6L6T5YWl5qih5p2/5ZCN56ewJyk7CiAgICAgIHRoaXMuc2F2ZUNvbmZpZygxLCB0aGlzLnNhdmVOYW1lKTsKICAgIH0sCiAgICBjbG9zZVdpbmRvdygpIHsKICAgICAgdGhpcy4kbXNnYm94KHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgbWVzc2FnZTogJ+WFs+mXremhtemdouWJjeivt+WFiOS/neWtmOaVsOaNru+8jOacquS/neWtmOeahOivneaVsOaNruS8muS4ouWksScsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgaWNvbkNsYXNzOiAnZWwtaWNvbi13YXJuaW5nJywKICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdidG4tY3VzdG9tLWNhbmNlbCcsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIC8vIHRoaXMuc2F2ZUNvbmZpZygpOwogICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICAvLyDkv53lrZjphY3nva4KICAgIHNhdmVDb25maWcobnVtLCB0eXBlLCBzYXZlKSB7CiAgICAgIGlmICh0aGlzLm1Db25maWcubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5pqC5pyq5re75Yqg5Lu75L2V57uE5Lu277yM5L+d5a2Y5aSx6LSl77yBJyk7CiAgICAgIH0KICAgICAgaWYgKG51bSA9PSAxKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlbExvYWRpbmcgPSB0cnVlOwogICAgICB9CiAgICAgIGxldCB2YWwgPSB0aGlzLiRzdG9yZS5zdGF0ZS5tb2JpbGRDb25maWcuZGVmYXVsdEFycmF5OwogICAgICBpZiAoIXRoaXMuZm9vdEFjdGl2ZSkgewogICAgICAgIGxldCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDA7CiAgICAgICAgdmFsW3RpbWVzdGFtcF0gPSB0aGlzLiRzdG9yZS5zdGF0ZS5tb2JpbGRDb25maWcucGFnZUZvb3RlcjsKICAgICAgICB0aGlzLmZvb3RBY3RpdmUgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmRpeVNhdmVEYXRlKHZhbCwgbnVtLCB0eXBlLCBzYXZlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6buY6K6k6YWN572uCiAgICBnZXREZWZhdWx0Q29uZmlnKCkgewogICAgICBkaXlQcm9JbmZvKHRoaXMucGFnZUlkLCB7CiAgICAgICAgdHlwZTogMSwKICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgbGV0IHRlbXBBUlIgPSBbXTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy90aXRsZVVwZGF0YScsIGRhdGEuaW5mby50aXRsZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvbmFtZVVwZGF0YScsIGRhdGEuaW5mby5uYW1lKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9zaG93VXBkYXRhJywgZGF0YS5pbmZvLmlzX3Nob3cpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2NvbG9yVXBkYXRhJywgZGF0YS5pbmZvLmlzX2JnX2NvbG9yIHx8IDApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY1VwZGF0YScsIGRhdGEuaW5mby5pc19iZ19waWMgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgZGF0YS5pbmZvLmNvbG9yX3BpY2tlciB8fCAnI2Y1ZjVmNScpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3JhZGlvVXBkYXRhJywgZGF0YS5pbmZvLmJnX3RhYl92YWwgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgZGF0YS5pbmZvLmJnX3BpYyB8fCAnJyk7CiAgICAgICAgdGhpcy5kaXlTdGF0dXMgPSBkYXRhLmluZm8uc3RhdHVzOwogICAgICAgIGxldCBuZXdBcnIgPSB0aGlzLm9ialRvQXJyKGRhdGEuaW5mby52YWx1ZSk7CgogICAgICAgIGZ1bmN0aW9uIHNvcnROdW1iZXIoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7CiAgICAgICAgfQogICAgICAgIG5ld0Fyci5zb3J0KHNvcnROdW1iZXIpOwogICAgICAgIG5ld0Fyci5tYXAoKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2hlYWRlclNlcmNoJykgewogICAgICAgICAgICB0aGlzLmlzU2VhcmNoID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChlbC5uYW1lID09ICd0YWJOYXYnKSB7CiAgICAgICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2hvbWVDb21iJykgewogICAgICAgICAgICB0aGlzLmlzQ29tYiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZWwubmFtZSA9PSAnY3VzdG9tZXJTZXJ2aWNlJykgewogICAgICAgICAgICB0aGlzLmlzU2VydmljZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZWwubmFtZSA9PSAnZ29vZExpc3QnKSB7CiAgICAgICAgICAgIC8vIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKICAgICAgICAgICAgLy8gc3RvcmFnZS5zZXRJdGVtKGVsLnRpbWVzdGFtcCwgZWwuc2VsZWN0Q29uZmlnLmFjdGl2ZVZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsLmlkID0gJ2lkJyArIGVsLnRpbWVzdGFtcDsKICAgICAgICAgIHRoaXMubENvbmZpZy5tYXAoKGl0ZW0sIGopID0+IHsKICAgICAgICAgICAgaWYgKGVsLm5hbWUgPT0gaXRlbS5kZWZhdWx0TmFtZSkgewogICAgICAgICAgICAgIGl0ZW0ubnVtID0gZWwudGltZXN0YW1wOwogICAgICAgICAgICAgIGl0ZW0uaWQgPSAnaWQnICsgZWwudGltZXN0YW1wOwogICAgICAgICAgICAgIGxldCB0ZW1wSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgICAgICAgICAgIHRlbXBBUlIucHVzaCh0ZW1wSXRlbSk7CiAgICAgICAgICAgICAgb2JqW2VsLnRpbWVzdGFtcF0gPSBlbDsKICAgICAgICAgICAgICB0aGlzLm1Db25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgICAgICAgICAgLy8g5L+d5a2Y6buY6K6k57uE5Lu26YWN572uCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvQUREQVJSQVknLCB7CiAgICAgICAgICAgICAgICBudW06IGVsLnRpbWVzdGFtcCwKICAgICAgICAgICAgICAgIHZhbDogZWwsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBsZXQgb2JqcyA9IG5ld0FycltuZXdBcnIubGVuZ3RoIC0gMV07CgogICAgICAgIGlmIChvYmpzLm5hbWUgPT0gJ3BhZ2VGb290JykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvZm9vdFBhZ2VVcGRhdGEnLCBvYmpzKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zaG93VGl0bGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgY2F0ZWdvcnlMaXN0KCkgewogICAgICBjYXRlZ29yeUxpc3QoKHJlcykgPT4gewogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572uCiAgICByZWFzdCgpIHsKICAgICAgaWYgKHRoaXMucGFnZUlkID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlrDlop7pobXpnaLvvIzml6Dms5Xph43nva4nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmuIXnqbrmqKHmnb/lhoXlrrksIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm1Db25maWcgPSBbXTsKICAgICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IC05OTsKICAgICAgICAgIHRoaXMuZ2V0RGVmYXVsdENvbmZpZygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3RpdGxlVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvbmFtZVVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3Nob3dVcGRhdGEnLCAxKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2NvbG9yVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWNVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY2tlclVwZGF0YScsICcjZjVmNWY1Jyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9yYWRpb1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VURU1QVFknKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3RpdGxlVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvbmFtZVVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3Nob3dVcGRhdGEnLCAxKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2NvbG9yVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWNVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY2tlclVwZGF0YScsICcjZjVmNWY1Jyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9yYWRpb1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VURU1QVFknKTsKICB9LAp9Owo="},null]}