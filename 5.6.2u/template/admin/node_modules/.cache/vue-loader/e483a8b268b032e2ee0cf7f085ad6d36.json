{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\appChat\\index.vue","mtime":1748574335766},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1753254256661},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAnZW1vamktYXdlc29tZS9kaXN0L2Nzcy9nb29nbGUubWluLmNzcyc7CmltcG9ydCBlbW9qaUxpc3QgZnJvbSAnQC91dGlscy9lbW9qaSc7CmltcG9ydCB7IFNvY2tldCB9IGZyb20gJ0AvbGlicy9zb2NrZXQnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwppbXBvcnQgeyBjaGF0TGlzdEFwaSwgc2VydmljZUxpc3RBcGksIGdldEFkdkFwaSwgc2VydmljZUxpc3QsIGdldE9yZGVyQXBpLCBwcm9kdWN0QXBpIH0gZnJvbSAnQC9hcGkva2VmdSc7CmltcG9ydCBmZWVkQmFjayBmcm9tICcuL2ZlZWRiYWNrJzsKaW1wb3J0IHsgaXNQaWNVcGxvYWQgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7Cgpjb25zdCBjaHVuayA9IGZ1bmN0aW9uIChhcnIsIG51bSkgewogIG51bSA9IG51bSAqIDEgfHwgMTsKICB2YXIgcmV0ID0gW107CiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgIGlmIChpICUgbnVtID09PSAwKSB7CiAgICAgIHJldC5wdXNoKFtdKTsKICAgIH0KICAgIHJldFtyZXQubGVuZ3RoIC0gMV0ucHVzaChpdGVtKTsKICB9KTsKICByZXR1cm4gcmV0Owp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXRSb29tJywKICBhdXRoOiBmYWxzZSwKICBjb21wb25lbnRzOiB7CiAgICBmZWVkQmFjaywKICB9LAogIHByb3BzOiB7CiAgICBjaGF0T3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgfTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICBkcmFnOiB7CiAgICAgIGluc2VydGVkOiBmdW5jdGlvbiAoZWwpIHsKICAgICAgICBsZXQgeCA9IDA7CiAgICAgICAgbGV0IHkgPSAwOwogICAgICAgIGxldCBsID0gMDsKICAgICAgICBsZXQgdCA9IDA7CiAgICAgICAgbGV0IGlzRG93biA9IGZhbHNlOwogICAgICAgIGVsLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHggPSBlLmNsaWVudFg7CiAgICAgICAgICB5ID0gZS5jbGllbnRZOwogICAgICAgICAgbCA9IGVsLnBhcmVudE5vZGUub2Zmc2V0TGVmdDsKICAgICAgICAgIHQgPSBlbC5wYXJlbnROb2RlLm9mZnNldFRvcDsKICAgICAgICAgIGlzRG93biA9IHRydWU7CiAgICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoaXNEb3duID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBueCA9IGUuY2xpZW50WDsKICAgICAgICAgICAgbGV0IG55ID0gZS5jbGllbnRZOwogICAgICAgICAgICBsZXQgbmwgPSBueCAtICh4IC0gbCk7CiAgICAgICAgICAgIGxldCBudCA9IG55IC0gKHkgLSB0KTsKICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5zdHlsZS5sZWZ0ID0gbmwgKyAncHgnOwogICAgICAgICAgICBlbC5wYXJlbnROb2RlLnN0eWxlLnRvcCA9IG50ICsgJ3B4JzsKICAgICAgICAgIH07CiAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpc0Rvd24gPSBmYWxzZTsKICAgICAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gbnVsbDsKICAgICAgICAgIH07CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9jYXRpb25zOiBgJHtsb2NhdGlvbi5vcmlnaW59YCwKICAgICAgY2hhbmdlOiBmYWxzZSwKICAgICAgZW1vamlHcm91cDogY2h1bmsoZW1vamlMaXN0LCAyMCksIC8vIOihqOaDheWIl+ihqAogICAgICBlbW9qaUxpc3Q6IGVtb2ppTGlzdCwKICAgICAgZW1vamlTaG93OiBmYWxzZSwKICAgICAgcmVjb3JkTGlzdDogW10sCiAgICAgIGxpbWl0OiAyMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgY2hhdENvbnQ6ICcnLAogICAgICBzZXJ2aWNlOiBudWxsLAogICAgICBzZXJ2aWNlRGF0YToge30sCiAgICAgIHVwbG9hZEFjdGlvbjogJycsCiAgICAgIG5vdGljZTogJycsCiAgICAgIGF1ZGlvOiBudWxsLAogICAgICBtdXRlZDogZmFsc2UsCiAgICAgIGF1ZGlvU3JjOiAnJywKICAgICAgdXBwZXJJZDogMCwKICAgICAgdXBsb2FkRGF0YToge30sCiAgICAgIGlzX3RvdXJpc3Q6IDEsIC8vIDDnmbvlvZXnirbmgIHvvIwx5pyq55m75b2V54q25oCB5ri45a6iCiAgICAgIHRleHQ6ICcnLAogICAgICBpc0xvYWQ6IGZhbHNlLAogICAgICBwYWdlOiAxLAogICAgICB0b3VyaXN0X2F2YXRhcjogJycsIC8v5ri45a6i5aS05YOPCiAgICAgIHRvdXJpc3RfdWlkOiAnJywgLy/muLjlrqJpZAogICAgICB0b1VpZDogJycsIC8v5a6i5pyNaWQKICAgICAga3VmdVRva2VuOiAnJywgLy8gdG9rZW4KICAgICAgY29weXJpZ2h0OiBTZXNzaW9uLmdldCgnY29weXJpZ2h0JykgfHwgJycsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIG11dGVkKHZhbHVlKSB7CiAgICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSB2YWx1ZTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgcmVjb3JkcygpIHsKICAgICAgcmV0dXJuIHRoaXMucmVjb3JkTGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgICBpZiAobmV3IERhdGUoaXRlbS5hZGRfdGltZSkgLSBuZXcgRGF0ZSh0aGlzLnJlY29yZExpc3RbaW5kZXggLSAxXS5hZGRfdGltZSkgPj0gMzAwMDAwKSB7CiAgICAgICAgICAgIGl0ZW0uc2hvdyA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpdGVtLnNob3cgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXRlbS5zaG93ID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigna2VmdScpICE9IC0xKQogICAgICB0aGlzLnVwbG9hZEFjdGlvbiA9IFNldHRpbmcuYXBpQmFzZVVSTC5yZXBsYWNlKC9hZG1pbmFwaS8sICdrZWZ1YXBpJykgKyAnL3RvdXJpc3QvdXBsb2FkJzsKICAgIGxldCB0b2tlbiA9IENvb2tpZXMuZ2V0KCdhdXRoLl90b2tlbi5sb2NhbDEnKTsKICAgIHRoaXMua3VmdVRva2VuID0gdG9rZW4gPyB0b2tlbi5zcGxpdCgnQmVhcmVyICcpWzFdIDogJyc7CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHRoYXQgPSB0aGlzOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICB0aGF0LmVtb2ppU2hvdyA9IGZhbHNlOwogICAgfSk7CiAgICBpZiAodGhpcy4kd2VjaGF0Ll9pc01vYmlsZSgpKSB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2tlZnUvbW9iaWxlX3VzZXJfY2hhdCcpOwogICAgdGhpcy5nZXROb3RpY2UoKTsKICAgIFNvY2tldC50aGVuKCh3cykgPT4gewogICAgICBpZiAodGhpcy5rdWZ1VG9rZW4pIHsKICAgICAgICB3cy5zZW5kKHsKICAgICAgICAgIHR5cGU6ICdsb2dpbicsCiAgICAgICAgICBkYXRhOiB0aGlzLmt1ZnVUb2tlbiwKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmdldFNlcnZpY2UoKTsKICAgICAgd3MuJG9uKFsncmVwbHknLCAnY2hhdCddLCAoZGF0YSkgPT4gewogICAgICAgIGlmIChkYXRhLm1zbl90eXBlID09IDEpIHsKICAgICAgICAgIGRhdGEubXNuID0gdGhpcy5yZXBsYWNlX2VtKGRhdGEubXNuKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5yZWNvcmRMaXN0LnB1c2goZGF0YSk7CiAgICAgICAgc2V0VGltZW91dCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucmVjb3JkLnNjcm9sbFRvcCA9IHRoaXMuJHJlZnMucmVjb3JkLnNjcm9sbEhlaWdodCAtIHRoaXMuJHJlZnMucmVjb3JkLmNsaWVudEhlaWdodDsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0pOwogICAgICAvLyDnm5HlkKzlrqLmnI3ovazmjqUKICAgICAgd3MuJG9uKCd0b190cmFuc2ZlcicsIChkYXRhKSA9PiB7CiAgICAgICAgdGhpcy50b1VpZCA9IGRhdGEudG9VaWQ7CiAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGlkOiB0aGlzLnRvVWlkLAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICd0b19jaGF0JywKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHdzLiRvbignc29ja2V0X2Vycm9yJywgKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i/nuaOpeWksei0pScpOwogICAgICB9KTsKICAgICAgd3MuJG9uKCdlcnJfdGlwJywgKGRhdGEpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgfSk7CiAgICAgIHdzLiRvbignc3VjY2VzcycsIChkYXRhKSA9PiB7CiAgICAgICAgdGhpcy5pc190b3VyaXN0ID0gMDsKICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMudGV4dCA9IHRoaXMucmVwbGFjZV9lbSgnW2VtLXNtaWxpbmdfaW1wXScpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkxvb2soaWQpIHsKICAgICAgd2luZG93Lm9wZW4oYCR7bG9jYXRpb24ub3JpZ2lufS9ob21lL2dvb2RzX2RldGFpbC8ke2lkfWApOwogICAgfSwKICAgIC8vIOWFs+mXrQogICAgY2xvc2VDaGFuZ2UobXNnKSB7CiAgICAgIHRoaXMuY2hhbmdlID0gbXNnOwogICAgfSwKICAgIC8vIOe7n+S4gOWPkemAgeWkhOeQhgogICAgc2VuZE1zZyhtc24sIHR5cGUpIHsKICAgICAgbGV0IG9iaiA9IHsKICAgICAgICB0eXBlOiAnY2hhdCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgbXNuLAogICAgICAgICAgdHlwZSwKICAgICAgICAgIGlzX3RvdXJpc3Q6IHRoaXMuaXNfdG91cmlzdCwKICAgICAgICAgIHRvX3VpZDogdGhpcy50b1VpZCwKICAgICAgICAgIHRvdXJpc3RfdWlkOiB0aGlzLnRvdXJpc3RfdWlkLAogICAgICAgICAgdG91cmlzdF9hdmF0YXI6IHRoaXMudG91cmlzdF9hdmF0YXIsCiAgICAgICAgICBmb3JtX3R5cGU6IHRoaXMuJHdlY2hhdC5pc1dlaXhpbigpID8gMSA6IDMsCiAgICAgICAgfSwKICAgICAgfTsKICAgICAgU29ja2V0LnRoZW4oKHdzKSA9PiB7CiAgICAgICAgd3Muc2VuZChvYmopOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpmo/mnLrlrqLmnI0KICAgIGdldFNlcnZpY2UoKSB7CiAgICAgIHNlcnZpY2VMaXN0QXBpKHsgdG9rZW46IHRoaXMua3VmdVRva2VuIHx8ICcnIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5zZXJ2aWNlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy51cHBlcklkID0gMDsKICAgICAgICAgIHRoaXMudG9VaWQgPSByZXMuZGF0YS51aWQ7CiAgICAgICAgICB0aGlzLnRvdXJpc3RfdWlkID0gcmVzLmRhdGEudG91cmlzdF91aWQ7CiAgICAgICAgICB0aGlzLnRvdXJpc3RfYXZhdGFyID0gcmVzLmRhdGEudG91cmlzdF9hdmF0YXI7CiAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLnVpZCwKICAgICAgICAgICAgICB0b3VyaXN0X3VpZDogdGhpcy50b3VyaXN0X3VpZCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHlwZTogJ3RvX2NoYXQnLAogICAgICAgICAgfTsKICAgICAgICAgIFNvY2tldC50aGVuKCh3cykgPT4gewogICAgICAgICAgICB3cy5zZW5kKG9iaik7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmICh0aGlzLmt1ZnVUb2tlbikgewogICAgICAgICAgICB0aGlzLmdldFJlY29yZExpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgdGhpcy5jaGFuZ2UgPSB0cnVlOwogICAgICAgIH0pOwogICAgfSwKICAgIHJvb21DbGljayhldmVudCkgewogICAgICAvLyBpZiAoCiAgICAgIC8vICAgICAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiZW1vamktcGFuZWwiKSAmJgogICAgICAvLyAgICAgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImVtb2ppLWJ0biIpICYmCiAgICAgIC8vICAgICAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiaWNvbi1iaWFvcWluZyIpICYmCiAgICAgIC8vICAgICB0aGlzLmVtb2ppU2hvdwogICAgICAvLyApIHsKICAgICAgLy8gICAgIHRoaXMuZW1vamlTaG93ID0gZmFsc2U7CiAgICAgIC8vIH0KICAgIH0sCiAgICAvLyBlbnRlciDlj5HpgIEKICAgIGN0cmxFbnRlcihlKSB7CiAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuY2hhdENvbnQudHJpbSgpKSB7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g5YWz6Zet6IGK5aSp56qX5Y+jCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhdC1jbG9zZScpOwogICAgfSwKICAgIC8vIOmAieaLqeihqOaDhQogICAgc2VsZWN0RW1vamkoZGF0YSkgewogICAgICBsZXQgdmFsID0gYFske2RhdGF9XWA7CiAgICAgIHRoaXMuY2hhdENvbnQgKz0gdmFsOwogICAgICB0aGlzLmVtb2ppU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOiBiuWkqeihqOaDhei9rOaNogogICAgcmVwbGFjZV9lbShzdHIpIHsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xbZW0tKFtcc1xTXSopXF0vZywgIjxzcGFuIGNsYXNzPSdlbSBlbS0kMScvPjwvc3Bhbj4iKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvblNjcm9sbChldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0LnNjcm9sbFRvcCA8PSAzMCkgewogICAgICAgIGlmICh0aGlzLmt1ZnVUb2tlbikgewogICAgICAgICAgdGhpcy5nZXRSZWNvcmRMaXN0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6IGK5aSp6K6w5b2VCiAgICBnZXRSZWNvcmRMaXN0KCkgewogICAgICBpZiAodGhpcy5sb2FkaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNoYXRMaXN0QXBpKHsKICAgICAgICB1aWQ6IHRoaXMuc2VydmljZURhdGEudWlkLAogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LAogICAgICAgIHVwcGVySWQ6IHRoaXMudXBwZXJJZCwKICAgICAgICB0b2tlbjogdGhpcy5rdWZ1VG9rZW4sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuICh0aGlzLmxvYWRpbmcgPSBmYWxzZSk7CiAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICBpZiAoZWwubXNuX3R5cGUgPT0gMSkgewogICAgICAgICAgICAgIGVsLm1zbiA9IHRoaXMucmVwbGFjZV9lbShlbC5tc24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGxldCBzZWxlY3RvciA9ICcnOwogICAgICAgICAgaWYgKHRoaXMudXBwZXJJZCA9PSAwKSB7CiAgICAgICAgICAgIHNlbGVjdG9yID0gYGNoYXRfJHtyZXMuZGF0YVtyZXMuZGF0YS5sZW5ndGggLSAxXS5pZH1gOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZWN0b3IgPSBgY2hhdF8ke3RoaXMucmVjb3JkTGlzdFswXS5pZH1gOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yZWNvcmRMaXN0ID0gWy4uLnJlcy5kYXRhLCAuLi50aGlzLnJlY29yZExpc3RdOwogICAgICAgICAgdGhpcy51cHBlcklkID0gcmVzLmRhdGEubGVuZ3RoID4gMCA/IHJlcy5kYXRhWzBdLmlkIDogMDsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHJlcy5kYXRhLmxlbmd0aCA8IHRoaXMubGltaXQ7CiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0UGFnZVNjcm9sbFRvKHNlbGVjdG9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDorr7nva7pobXpnaLmu5rliqjkvY3nva4KICAgIHNldFBhZ2VTY3JvbGxUbyhzZWxlY3RvcikgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgaWYgKHNlbGVjdG9yKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgbGV0IG51bSA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3IpLm9mZnNldFRvcCkgLSA2MDsKICAgICAgICAgICAgdGhpcy4kcmVmcy5yZWNvcmQuc2Nyb2xsVG9wID0gbnVtOwogICAgICAgICAgfSwgMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhdF9zY3JvbGwnKTsKICAgICAgICAgIHRoaXMuJHJlZnMucmVjb3JkLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICBzZXRUaW1lb3V0KChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMucmVjb3JkLnNjcm9sbFRvcCAhPSB0aGlzLiRyZWZzLnNjcm9sbEJveC5vZmZzZXRIZWlnaHQpIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLnJlY29yZC5zY3JvbGxUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhdF9zY3JvbGwnKS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDooajmg4XljIXmmL7npLrpmpDol48KICAgIGVtb2ppU3dpdGNoKCkgewogICAgICB0aGlzLmVtb2ppU2hvdyA9ICF0aGlzLmVtb2ppU2hvdzsKICAgIH0sCiAgICAvLyDlj5HpgIHmtojmga8KICAgIHNlbmRNZXNzYWdlKCkgewogICAgICB0aGlzLnNlbmRNc2codGhpcy5jaGF0Q29udCwgMSk7CiAgICAgIHRoaXMuY2hhdENvbnQgPSAnJzsKICAgIH0sCiAgICBjaGF0KGRhdGEpIHsKICAgICAgaWYgKGRhdGEudWlkICE9IHRoaXMuJGF1dGgudXNlci51aWQgJiYgdGhpcy5hdWRpbykgewogICAgICAgIHRoaXMuYXVkaW8ucGxheSgpOwogICAgICB9CiAgICAgIHRoaXMucmVjb3JkTGlzdC5wdXNoKGRhdGEpOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5yZWNvcmQuc2Nyb2xsVG9wID0gdGhpcy4kcmVmcy5yZWNvcmQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kcmVmcy5yZWNvcmQuY2xpZW50SGVpZ2h0OwogICAgICB9KTsKICAgIH0sCiAgICBzZW5kR29vZHMoKSB7CiAgICAgIGlmICh0aGlzLmNoYXRPcHRpb25zLmdvb2RzSWQpIHsKICAgICAgICBTb2NrZXQudGhlbigod3MpID0+IHsKICAgICAgICAgIHdzLnNlbmQoewogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgbXNuOiB0aGlzLmNoYXRPcHRpb25zLmdvb2RzSWQsCiAgICAgICAgICAgICAgdHlwZTogNSwKICAgICAgICAgICAgICB0b191aWQ6IHRoaXMudG9VaWQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHR5cGU6ICd0b19jaGF0JywKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2VuZE9yZGVyKCkgewogICAgICBpZiAodGhpcy5jaGF0T3B0aW9ucy5vcmRlcklkKSB7CiAgICAgICAgU29ja2V0LnRoZW4oKHdzKSA9PiB7CiAgICAgICAgICB3cy5zZW5kKHsKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIG1zbjogdGhpcy5jaGF0T3B0aW9ucy5vcmRlcklkLAogICAgICAgICAgICAgIHR5cGU6IDYsCiAgICAgICAgICAgICAgdG9fdWlkOiB0aGlzLnRvVWlkLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0eXBlOiAndG9fY2hhdCcsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoYXRFbmQoKSB7CiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUnKSA+IDApIHsKICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFIDYuMCcpID4gMCkgewogICAgICAgICAgd2luZG93Lm9wZW5lciA9IG51bGw7CiAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2luZG93Lm9wZW4oJycsICdfdG9wJyk7CiAgICAgICAgICB3aW5kb3cudG9wLmNsb3NlKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gMCkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2Fib3V0OmJsYW5rICc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93Lm9wZW5lciA9IG51bGw7CiAgICAgICAgd2luZG93Lm9wZW4oJycsICdfc2VsZicsICcnKTsKICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOW5v+WRigogICAgZ2V0Tm90aWNlKCkgewogICAgICBnZXRBZHZBcGkoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLm5vdGljZSA9IHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgIH0pOwogICAgfSwKICAgIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIGlmIChpc1BpY1VwbG9hZChmaWxlKSkgewogICAgICAgIHRoaXMudXBsb2FkRGF0YSA9IHsKICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLAogICAgICAgICAgdG9rZW46IHRoaXMua3VmdVRva2VuLAogICAgICAgIH07CiAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcihmaWxlKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+WPquiDveaYryBqcGfjgIFqcGfjgIFqcGVn44CBZ2lmIOagvOW8jyEnKTsKICAgIH0sCiAgICB1cGxvYWRTdWNjZXNzKHJlcykgewogICAgICB0aGlzLnNlbmRNc2cocmVzLmRhdGEudXJsLCAzKTsKICAgIH0sCiAgICB1cGxvYWRFcnJvcihlcnJvcikgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yKTsKICAgIH0sCiAgfSwKfTsK"},null]}