{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\notify\\smsConfig\\components\\register.vue?vue&type=style&index=0&id=54868eb4&lang=scss&scoped=true","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\notify\\smsConfig\\components\\register.vue","mtime":1731313973084},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\css-loader\\index.js","mtime":1753254259822},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1753254262918},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1753254258547},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1753254255270},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5tYXhJbnB0IHsKICBtYXgtd2lkdGg6IDQwMHB4OwogIG1hcmdpbi1sZWZ0OiBhdXRvOwogIG1hcmdpbi1yaWdodDogYXV0bzsKfQoucGFnZS1hY2NvdW50LWNvbnRhaW5lciB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDUwcHggMDsKfQoucGFnZS1hY2NvdW50LXRvcCB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoucGFnZS1hY2NvdW50LXRvcC10aXQgewogIGZvbnQtc2l6ZTogMjFweDsKICBjb2xvcjogdmFyKC0tcHJldi1jb2xvci1wcmltYXJ5KTsKfQoucGFnZS1hY2NvdW50LW90aGVyIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgY29sb3I6IHZhcigtLXByZXYtY29sb3ItcHJpbWFyeSk7CiAgZm9udC1zaXplOiAxMnB4OwogIHNwYW4gewogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KfQouY29kZSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Cg=="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/pages/notify/smsConfig/components","sourcesContent":["<template>\n  <el-row>\n    <el-col :span=\"24\">\n      <div class=\"index_from page-account-container\">\n        <div class=\"page-account-top\">\n          <span class=\"page-account-top-tit\">一号通账户注册</span>\n        </div>\n        <el-form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" @submit.native.prevent>\n          <!--<el-form-item prop=\"account\">-->\n          <!--<el-input type=\"text\" v-model=\"formInline.account\" prefix=\"ios-contact-outline\"-->\n          <!--placeholder=\"请输入短信平台账号\" />-->\n          <!--</el-form-item>-->\n          <el-form-item prop=\"phone\" class=\"maxInpt\">\n            <el-input\n              type=\"number\"\n              v-model=\"formInline.phone\"\n              prefix=\"ios-contact-outline\"\n              placeholder=\"请输入您的手机号\"\n            />\n          </el-form-item>\n          <el-form-item prop=\"password\" class=\"maxInpt\">\n            <el-input\n              type=\"password\"\n              v-model=\"formInline.password\"\n              prefix=\"ios-lock-outline\"\n              placeholder=\"请输入密码\"\n            />\n          </el-form-item>\n          <!--<el-form-item prop=\"password\">-->\n          <!--<el-input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\"-->\n          <!--placeholder=\"请确认短信平台密码/token\" />-->\n          <!--</el-form-item>-->\n          <!-- <el-form-item prop=\"url\" class=\"maxInpt\">\n            <el-input type=\"text\" v-model=\"formInline.url\" prefix=\"ios-contact-outline\" placeholder=\"请输入网址域名\" />\n          </el-form-item> -->\n          <!--<el-form-item prop=\"sign\">-->\n          <!--<el-input type=\"text\" v-model=\"formInline.sign\" prefix=\"ios-contact-outline\"-->\n          <!--placeholder=\"请输入短信签名，例如：CRMEB\" />-->\n          <!--</el-form-item>-->\n          <el-form-item prop=\"verify_code\" class=\"maxInpt\">\n            <div class=\"code\">\n              <el-input\n                type=\"text\"\n                v-model=\"formInline.verify_code\"\n                prefix=\"ios-keypad-outline\"\n                placeholder=\"请输入验证码\"\n              />\n              <el-button :disabled=\"!canClick\" v-db-click @click=\"cutDown\">{{ cutNUm }}</el-button>\n            </div>\n          </el-form-item>\n          <el-form-item class=\"maxInpt\">\n            <el-button type=\"primary\" long size=\"large\" v-db-click @click=\"handleSubmit('formInline')\" class=\"btn\"\n              >注册</el-button\n            >\n          </el-form-item>\n        </el-form>\n        <div class=\"page-account-other\">\n          <span v-db-click @click=\"changelogo\">立即登录</span>\n        </div>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { captchaApi, registerApi } from '@/api/setting';\nexport default {\n  name: 'register',\n  data() {\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写手机号'));\n      } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n        callback(new Error('手机号格式不正确!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      cutNUm: '获取验证码',\n      canClick: true,\n      formInline: {\n        url: '',\n        password: '',\n        verify_code: '',\n        phone: '',\n      },\n      ruleInline: {\n        account: [{ required: true, message: '请输入短信平台账号', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        // url: [{ required: true, message: '请输入网址域名', trigger: 'blur' }],\n        phone: [{ required: true, validator: validatePhone, trigger: 'blur' }],\n        sign: [{ required: true, message: '请输入短信签名', trigger: 'blur' }],\n        verify_code: [{ required: true, message: '请输入验证码', trigger: 'blur' }],\n      },\n    };\n  },\n  methods: {\n    // 短信验证码\n    cutDown() {\n      if (this.formInline.phone) {\n        if (!this.canClick) return;\n        this.canClick = false;\n        this.cutNUm = 60;\n        let data = {\n          phone: this.formInline.phone,\n        };\n        captchaApi(data)\n          .then(async (res) => {\n            this.$message.success(res.msg);\n          })\n          .catch((res) => {\n            this.$message.error(res.msg);\n          });\n        let time = setInterval(() => {\n          this.cutNUm--;\n          if (this.cutNUm === 0) {\n            this.cutNUm = '获取验证码';\n            this.canClick = true;\n            clearInterval(time);\n          }\n        }, 1000);\n      } else {\n        this.$message.warning('请填写手机号!');\n      }\n    },\n    // 注册\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          registerApi(this.formInline)\n            .then(async (res) => {\n              this.$message.success(res.msg);\n              setTimeout(() => {\n                this.changelogo();\n              }, 1000);\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 立即登录\n    changelogo() {\n      this.$emit('on-change');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.maxInpt {\n  max-width: 400px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.page-account-container {\n  text-align: center;\n  padding: 50px 0;\n}\n.page-account-top {\n  margin-bottom: 20px;\n}\n.page-account-top-tit {\n  font-size: 21px;\n  color: var(--prev-color-primary);\n}\n.page-account-other {\n  text-align: center;\n  color: var(--prev-color-primary);\n  font-size: 12px;\n  span {\n    cursor: pointer;\n  }\n}\n.code {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n"]}]}