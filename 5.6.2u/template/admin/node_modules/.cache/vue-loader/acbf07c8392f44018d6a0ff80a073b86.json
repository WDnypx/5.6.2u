{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\goodsLabel\\useLabel.vue","mtime":1735952580413},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHByb2R1Y3RMYWJlbFVzZUxpc3RBcGkgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyTGFiZWwnLAogIGNvbXBvbmVudHM6IHsgdnVlZHJhZ2dhYmxlIH0sCiAgcHJvcHM6IHsKICAgIGFjdGl2ZUlkOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgW107CiAgICAgIH0sCiAgICB9LAogICAgbGlzdERhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICBbXTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFiZWxMaXN0OiBbXSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYWN0aXZlSWQ6IHsKICAgICAgaGFuZGxlcihuVmFsLCBvVmFsKSB7CiAgICAgICAgaWYgKG5WYWwgIT0gb1ZhbCkgewogICAgICAgICAgaWYgKG5WYWwubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMubGFiZWxMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMubGlzdERhdGEubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgaWYgKG5WYWwuaW5jbHVkZXMoaXRlbS5pZCkpIHsKICAgICAgICAgICAgICAgIHRoaXMubGFiZWxMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgIH0sCiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgYXN5bmMgb25Nb3ZlU3BlYyhldmVudCkgewogICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgIGNvbnN0IHsgbmV3SW5kZXgsIG9sZEluZGV4IH0gPSBldmVudDsKICAgICAgY29uc29sZS5sb2cobmV3SW5kZXgsIG9sZEluZGV4KTsKICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmFjdGl2ZUlkW29sZEluZGV4XTsKICAgICAgY29uc3QgbmV3TGFiZWxMaXN0ID0gWy4uLnRoaXMuYWN0aXZlSWRdOwogICAgICBuZXdMYWJlbExpc3Quc3BsaWNlKG9sZEluZGV4LCAxKTsKICAgICAgbmV3TGFiZWxMaXN0LnNwbGljZShuZXdJbmRleCwgMCwgbGFiZWwpOwogICAgICBjb25zb2xlLmxvZyhuZXdMYWJlbExpc3QpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6YWN0aXZlSWQnLCBuZXdMYWJlbExpc3QpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["useLabel.vue"],"names":[],"mappings":";AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"useLabel.vue","sourceRoot":"src/components/goodsLabel","sourcesContent":["<template>\n  <div class=\"list\">\n    <vuedraggable\n      class=\"flex\"\n      group=\"label\"\n      :disabled=\"labelList.length < 2\"\n      :list=\"labelList\"\n      handle=\".label\"\n      @end=\"onMoveSpec\"\n      animation=\"300\"\n    >\n      <div\n        class=\"label\"\n        v-for=\"(label, j) in labelList\"\n        :key=\"j\"\n        v-dragging=\"{\n          list: activeId,\n        }\"\n      >\n        <div\n          class=\"label-item\"\n          :style=\"{\n            backgroundColor: label.bg_color,\n            color: label.font_color,\n            border: label.border_color ? '1px solid ' + label.border_color : 'none',\n          }\"\n          v-if=\"!label.image\"\n        >\n          {{ label.name }}\n        </div>\n        <img :src=\"label.image\" class=\"img-tag\" v-else />\n      </div>\n    </vuedraggable>\n  </div>\n</template>\n\n<script>\nimport { productLabelUseListApi } from '@/api/product';\nimport vuedraggable from 'vuedraggable';\n\nexport default {\n  name: 'userLabel',\n  components: { vuedraggable },\n  props: {\n    activeId: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n    listData: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n  },\n  data() {\n    return {\n      labelList: [],\n    };\n  },\n  watch: {\n    activeId: {\n      handler(nVal, oVal) {\n        if (nVal != oVal) {\n          if (nVal.length) {\n            this.labelList = [];\n            this.listData.map((item) => {\n              if (nVal.includes(item.id)) {\n                this.labelList.push(item);\n              }\n            });\n          }\n        }\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n  mounted() {},\n  methods: {\n    async onMoveSpec(event) {\n      console.log(event);\n      const { newIndex, oldIndex } = event;\n      console.log(newIndex, oldIndex);\n      const label = this.activeId[oldIndex];\n      const newLabelList = [...this.activeId];\n      newLabelList.splice(oldIndex, 1);\n      newLabelList.splice(newIndex, 0, label);\n      console.log(newLabelList);\n      this.$emit('update:activeId', newLabelList);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n  display: flex;\n  flex-wrap: wrap;\n  .label {\n    padding: 2px;\n    border-radius: 4px;\n    margin: 0 8px 0px 0;\n    cursor: move;\n    display: flex;\n    align-items: center;\n  }\n  .label-item {\n    height: 22px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0px 8px;\n\n    background: #eeeeee;\n    color: #333333;\n    border-radius: 2px;\n    cursor: pointer;\n    font-size: 12px;\n  }\n\n  .img-tag {\n    height: 22px;\n    border-radius: 2px;\n  }\n}\n</style>\n"]}]}