{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\pc\\components\\msgWindow.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\kefu\\pc\\components\\msgWindow.vue","mtime":1731313973073},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgc3BlZUNoY3JhZnQsCiAgc2VydmljZUNhdGUsCiAgc2VydmljZUNhdGVVcGRhdGUsCiAgYWRkU3BlZUNoY3JhZnQsCiAgYWRkU2VydmljZUNhdGUsCiAgZWRpdFNlcnZpY2VDYXRlLAp9IGZyb20gJ0AvYXBpL2tlZnUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21zZ1dpbmRvdycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wczogewogICAgICAgIHZ1ZXNjcm9sbDogewogICAgICAgICAgbW9kZTogJ25hdGl2ZScsCiAgICAgICAgICBlbmFibGU6IGZhbHNlLAogICAgICAgICAgdGlwczogewogICAgICAgICAgICBkZWFjdGl2ZTogJ1B1c2ggdG8gTG9hZCcsCiAgICAgICAgICAgIGFjdGl2ZTogJ1JlbGVhc2UgdG8gTG9hZCcsCiAgICAgICAgICAgIHN0YXJ0OiAnTG9hZGluZy4uLicsCiAgICAgICAgICAgIGJlZm9yZURlYWN0aXZlOiAnTG9hZCBTdWNjZXNzZnVsbHkhJywKICAgICAgICAgIH0sCiAgICAgICAgICBhdXRvOiBmYWxzZSwKICAgICAgICAgIGF1dG9Mb2FkRGlzdGFuY2U6IDAsCiAgICAgICAgICBwdWxsUmVmcmVzaDogewogICAgICAgICAgICBlbmFibGU6IGZhbHNlLAogICAgICAgICAgfSwKICAgICAgICAgIHB1c2hMb2FkOiB7CiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICAgIGF1dG86IHRydWUsCiAgICAgICAgICAgIGF1dG9Mb2FkRGlzdGFuY2U6IDEwLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGJhcjogewogICAgICAgICAgYmFja2dyb3VuZDogJyMzOTMyMzInLAogICAgICAgICAgb3BhY2l0eTogJy41JywKICAgICAgICAgIHNpemU6ICcycHgnLAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGlzU2Nyb2xsOiB0cnVlLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMTUsCiAgICAgIHRhYkN1cjogMSwKICAgICAgdGFiTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5Liq5Lq65bqTJywKICAgICAgICAgIGtleTogMSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5YWs5YWx5bqTJywKICAgICAgICAgIGtleTogMCwKICAgICAgICB9LAogICAgICBdLAogICAgICBzZWFyY2hUeHQ6ICcnLCAvLyDmkJzntKIKICAgICAgbGlzdDogWwogICAgICAgIHsKICAgICAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgICAgfSwKICAgICAgXSwgLy8g5YiX6KGoCiAgICAgIG1vZGVsMTogJycsCiAgICAgIG1zZ1RpdGxlOiAnJywgLy8g5aGr5YaZ55qE5qCH6aKYCiAgICAgIHNvcnRMaXN0OiBbXSwgLy8g5YiG57G7CiAgICAgIGNhdGVJZDogJycsIC8vIOmAieS4reeahGlkCiAgICAgIGFkZE1zZzogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICBjYXRlSWQ6ICcnLAogICAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIH0sCiAgICAgIGlzQWRkU29ydDogZmFsc2UsIC8vIOa3u+WKoOWIhuexuwogICAgICBjbGFzc1RpdGxlOiAnJywgLy8g5YiG57G75ZCN56ewCiAgICAgIGNsYXNzU29ydDogJycsIC8vIOWIhuexu+aOkuW6jwogICAgICBtYXNrVGl0bGU6ICcnLCAvLyDlvLnnqpfmoIfpopgKICAgICAgZWRpdE9iajoge30sIC8vIOe8lui+keWIhuexu+WvueixoQogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGZpbHRlcnNUaXRsZSh2YWwpIHsKICAgICAgbGV0IGxlbiA9IDM3OwogICAgICBpZiAodmFsLmxlbmd0aCA+IGxlbikgewogICAgICAgIGxldCBkYXRhID0gdmFsLnN1YnN0cmluZygwLCBsZW4pOwogICAgICAgIHJldHVybiBgJHtkYXRhfS4uLmA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfQogICAgfSwKICAgIGZpbHRlcnNDb24odmFsKSB7CiAgICAgIGxldCBsZW4gPSAxMTM7CiAgICAgIGlmICh2YWwubGVuZ3RoID4gbGVuKSB7CiAgICAgICAgbGV0IGRhdGEgPSB2YWwuc3Vic3RyaW5nKDAsIGxlbik7CiAgICAgICAgcmV0dXJuIGAke2RhdGF9Li4uYDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdmFsOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBzZWxmID0gdGhpczsKICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgLy8gdGhpcy5zY3JvbGwgPSBuZXcgQlNjcm9sbCh0aGlzLiRyZWZzLndyYXBwZXIsIHsKICAgICAgLy8gICBtb3VzZVdoZWVsOiB7CiAgICAgIC8vICAgICBzcGVlZDogMjAsCiAgICAgIC8vICAgICBpbnZlcnQ6IGZhbHNlLAogICAgICAvLyAgICAgZWFzZVRpbWU6IDMwMCwKICAgICAgLy8gICB9LAogICAgICAvLyAgIHNjcm9sbGJhcjogdHJ1ZSwKICAgICAgLy8gICBkaXNhYmxlTW91c2U6IHRydWUsCiAgICAgIC8vICAgLy8gYW5kIHNvIG9uCiAgICAgIC8vIH0pOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmiZPlvIDnvJbovpEKICAgIGVkaXRNc2coaXRlbSkgewogICAgICBpdGVtLmlzRWRpdCA9IHRydWU7CiAgICAgIHRoaXMuY2F0ZUlkID0gaXRlbS5jYXRlX2lkOwogICAgfSwKICAgIC8vIOe8lui+keahhgogICAgYmluZEVkaXQoaXRlbSwgaW5kZXgpIHsKICAgICAgLy8gICBpZiAoaW5kZXggPT0gMCkgewogICAgICAvLyAgICAgcmV0dXJuOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIGl0ZW0uaXNFZGl0ID0gIWl0ZW0uaXNFZGl0OwogICAgICAvLyAgIH0KICAgIH0sCiAgICAvLyDlpLTpg6jpgInmi6kKICAgIGJpbmRUYWIoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygnMTEyMicpOwogICAgICBkZWJ1Z2dlcjsKICAgICAgdGhpcy50YWJDdXIgPSBpdGVtLmtleTsKICAgICAgdGhpcy5jYXRlSWQgPSAnJzsKICAgICAgdGhpcy5zb3J0TGlzdCA9IFtdOwogICAgICB0aGlzLmlzU2Nyb2xsID0gdHJ1ZTsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgIH0sCiAgICAvLyDmkJzntKIKICAgIGJpbmRTZWFyY2goKSB7CiAgICAgIHRoaXMuaXNTY3JvbGwgPSB0cnVlOwogICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6YCJ5oup5YiG57G7CiAgICBzZWxlY3RTb3J0KGl0ZW0pIHsKICAgICAgaWYgKHRoaXMuY2F0ZUlkID09IGl0ZW0uaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zb3J0TGlzdC5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoZWwuaWQgIT0gaXRlbS5pZCkgewogICAgICAgICAgZWwuaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jYXRlSWQgPSBpdGVtLmlkOwogICAgICB0aGlzLmlzU2Nyb2xsID0gdHJ1ZTsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWIoOmZpOWIhuexuwogICAgZGVsU29ydChyb3csIHRpdCwgbnVtKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogYC9zZXJ2aWNlL2NhdGUvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgICAga2VmdTogdHJ1ZSwKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMuaXNTY3JvbGwgPSB0cnVlOwogICAgICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgICAgIHRoaXMubGlzdCA9IFtdOwogICAgICAgICAgdGhpcy5jYXRlSWQgPSAnJzsKICAgICAgICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluWIhuexuwogICAgc2VydmljZUNhdGUoKSB7CiAgICAgIHNlcnZpY2VDYXRlKHsKICAgICAgICB0eXBlOiB0aGlzLnRhYkN1ciwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgIGlkOiAnJywKICAgICAgICAgIG5hbWU6ICflhajpg6gnLAogICAgICAgIH07CiAgICAgICAgcmVzLmRhdGEuZGF0YS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICAgIGVsLmlzRWRpdCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICAgIC8vIHJlcy5kYXRhLmRhdGEudW5zaGlmdChvYmopCiAgICAgICAgdGhpcy5zb3J0TGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgaWYgKHRoaXMuY2F0ZUlkID09PSAnJykgewogICAgICAgICAgdGhpcy5jYXRlSWQgPSByZXMuZGF0YS5kYXRhWzBdLmlkOwogICAgICAgIH0KICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5YiX6KGoCiAgICBnZXRMaXN0KCkgewogICAgICBpZiAoIXRoaXMuaXNTY3JvbGwpIHJldHVybjsKICAgICAgc3BlZUNoY3JhZnQoewogICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICBsaW1pdDogdGhpcy5saW1pdCwKICAgICAgICB0aXRsZTogdGhpcy5zZWFyY2hUeHQsCiAgICAgICAgY2F0ZV9pZDogdGhpcy5jYXRlSWQsCiAgICAgICAgdHlwZTogdGhpcy50YWJDdXIsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuaXNTY3JvbGwgPSByZXMuZGF0YS5sZW5ndGggPj0gdGhpcy5saW1pdDsKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICAgIGVsLmlzRWRpdCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICAgIHRoaXMucGFnZSsrOwogICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5jb25jYXQocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkv67mlLnor53mnK8KICAgIHVwZGF0YU1zZyhpdGVtKSB7CiAgICAgIHNlcnZpY2VDYXRlVXBkYXRlKGl0ZW0uaWQsIHsKICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwKICAgICAgICBjYXRlX2lkOiB0aGlzLmNhdGVJZCwKICAgICAgICBtZXNzYWdlOiBpdGVtLm1lc3NhZ2UsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgIGl0ZW0uaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgICBpdGVtLmlzRWRpdCA9IHRydWU7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5re75Yqg5qGG5pi+56S6CiAgICBiaW5kRm9jdXMoKSB7CiAgICAgIHRoaXMubGlzdC5mb3JFYWNoKChlbCwgaXRlbSkgPT4gewogICAgICAgIGVsLmlzRWRpdCA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy5hZGRNc2cuaXNFZGl0ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmiZPlvIDmt7vliqDnqpflj6MKICAgIG9wZW5BZGRTb3J0KCkgewogICAgICB0aGlzLmlzQWRkU29ydCA9IHRydWU7CiAgICAgIHRoaXMubWFza1RpdGxlID0gJ+a3u+WKoOWIhue7hCc7CiAgICAgIHRoaXMuZWRpdE9iai5pZCA9IDA7CiAgICB9LAogICAgLy8g5re75Yqg6K+d5pyvCiAgICBiaW5kQWRkKCkgewogICAgICBhZGRTcGVlQ2hjcmFmdCh7CiAgICAgICAgdGl0bGU6IHRoaXMuYWRkTXNnLnRpdGxlLAogICAgICAgIGNhdGVfaWQ6IHRoaXMuYWRkTXNnLmNhdGVJZCwKICAgICAgICBtZXNzYWdlOiB0aGlzLmFkZE1zZy5tZXNzYWdlLAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuYWRkTXNnLnRpdGxlID0gJyc7CiAgICAgICAgICB0aGlzLmFkZE1zZy5tZXNzYWdlID0gJyc7CiAgICAgICAgICB0aGlzLmFkZE1zZy5jYXRlSWQgPSAnJzsKICAgICAgICAgIHRoaXMuYWRkTXNnLmlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgcmVzLmRhdGEuaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgICAgICB0aGlzLmlzU2Nyb2xsID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbE1zZyhyb3csIHRpdCwgbnVtLCB0eXBlKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogYHNlcnZpY2Uvc3BlZWNoY3JhZnQvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgICAga2VmdTogdHJ1ZSwKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMubGlzdC5zcGxpY2UobnVtLCAxKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoOWIhuexuwogICAgYWRkU2VydmljZUNhdGUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRPYmouaWQpIHsKICAgICAgICBlZGl0U2VydmljZUNhdGUodGhpcy5lZGl0T2JqLmlkLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLmNsYXNzVGl0bGUsCiAgICAgICAgICBzb3J0OiB0aGlzLmNsYXNzU29ydCwKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmNsYXNzVGl0bGUgPSAnJzsKICAgICAgICAgICAgdGhpcy5jbGFzc1NvcnQgPSAnJzsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICB0aGlzLmlzQWRkU29ydCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICAgICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5pc1Njcm9sbCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xhc3NUaXRsZSA9ICcnOwogICAgICAgICAgICB0aGlzLmNsYXNzU29ydCA9ICcnOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhZGRTZXJ2aWNlQ2F0ZSh7CiAgICAgICAgICBuYW1lOiB0aGlzLmNsYXNzVGl0bGUsCiAgICAgICAgICBzb3J0OiB0aGlzLmNsYXNzU29ydCwKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmNsYXNzVGl0bGUgPSAnJzsKICAgICAgICAgICAgdGhpcy5jbGFzc1NvcnQgPSAnJzsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICB0aGlzLmlzQWRkU29ydCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICAgICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5pc1Njcm9sbCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuc2VydmljZUNhdGUoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xhc3NUaXRsZSA9ICcnOwogICAgICAgICAgICB0aGlzLmNsYXNzU29ydCA9ICcnOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOe8lui+keWIhuexuwogICAgZWRpdFNvcnQoaXRlbSkgewogICAgICB0aGlzLmNsYXNzU29ydCA9IGl0ZW0uc29ydDsKICAgICAgdGhpcy5jbGFzc1RpdGxlID0gaXRlbS5uYW1lOwogICAgICB0aGlzLmlzQWRkU29ydCA9IHRydWU7CiAgICAgIHRoaXMubWFza1RpdGxlID0gJ+e8lui+keWIhue7hCc7CiAgICAgIHRoaXMuZWRpdE9iaiA9IGl0ZW07CiAgICB9LAogICAgaGFuZGxlUmVhY2hCb3R0b20oKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGJpbmRSYWRpbyhkYXRhKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2FjdGl2ZVR4dCcsIGRhdGEubWVzc2FnZSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["msgWindow.vue"],"names":[],"mappings":";AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"msgWindow.vue","sourceRoot":"src/pages/kefu/pc/components","sourcesContent":["<template>\n  <div class=\"msg-box\">\n    <div class=\"head\">\n      <div class=\"tab-bar\">\n        <a\n          href=\"javascript:;\"\n          class=\"tab-item\"\n          :class=\"{ on: item.key == tabCur }\"\n          v-for=\"(item, index) in tabList\"\n          :key=\"index\"\n          v-db-click\n          @click=\"bindTab(item)\"\n          >{{ item.title }}</a\n        >\n      </div>\n      <div class=\"search-box\">\n        <el-input placeholder=\"搜索快捷回复\" style=\"width: 100%\" v-model=\"searchTxt\" />\n      </div>\n    </div>\n    <div class=\"main\">\n      <div class=\"left-box\">\n        <vue-scroll :ops=\"ops\">\n          <div class=\"left-item\" v-if=\"tabCur\">\n            <p>分组</p>\n            <span class=\"iconfont iconaddto\" v-db-click @click=\"openAddSort\"></span>\n          </div>\n          <div\n            class=\"left-item\"\n            v-for=\"(item, index) in sortList\"\n            :key=\"index\"\n            :class=\"{ on: cateId == item.id }\"\n            v-db-click\n            @click=\"selectSort(item)\"\n          >\n            <p>{{ item.name }}</p>\n            <template v-if=\"tabCur\">\n              <span class=\"iconfont iconDot\" v-db-click @click.top=\"bindEdit(item, scope.$index)\"></span>\n\n              <div class=\"edit-wrapper\" v-show=\"item.isEdit\">\n                <div class=\"edit-item\" v-db-click @click=\"editSort(item)\">编辑</div>\n                <div class=\"edit-item\" v-db-click @click=\"delSort(item, '删除分类', scope.$index)\">删除</div>\n              </div>\n              <div class=\"edit-bg\" v-show=\"item.isEdit\" v-db-click @click.stop=\"item.isEdit = false\"></div>\n            </template>\n          </div>\n        </vue-scroll>\n      </div>\n      <div class=\"right-box\">\n        <div\n          v-infinite-scroll=\"handleReachBottom\"\n          class=\"right-scroll\"\n          :infinite-scroll-immediate=\"false\"\n          :infinite-scroll-delay=\"500\"\n          style=\"overflow: auto\"\n        >\n          <div class=\"msg-item add-box\" v-if=\"tabCur\" style=\"margin-top: 0\">\n            <div class=\"box2\">\n              <el-input\n                class=\"input-box\"\n                v-model=\"addMsg.title\"\n                placeholder=\"输入标题（选填）\"\n                style=\"width: 100%\"\n                @on-focus=\"bindFocus\"\n              />\n              <div class=\"conBox\" :class=\"{ active: addMsg.isEdit }\">\n                <div class=\"content\">\n                  <el-input v-model=\"addMsg.message\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" />\n                </div>\n                <div class=\"bom\">\n                  <div class=\"select\">\n                    <el-select v-model=\"addMsg.cateId\" style=\"width: 100px\" size=\"small\">\n                      <el-option v-for=\"item in sortList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }} </el-option>\n                    </el-select>\n                  </div>\n                  <div class=\"btns-box\">\n                    <el-button v-db-click @click.stop=\"addMsg.isEdit = false\">取消</el-button>\n                    <el-button type=\"primary\" v-db-click @click.stop=\"bindAdd\">保存</el-button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"msg-item\" v-for=\"(item, index) in list\" :key=\"index\" v-if=\"item.id\">\n            <div class=\"box1\" v-if=\"!item.isEdit\">\n              <div class=\"txt-box\" v-db-click @click=\"bindRadio(item)\">\n                <span class=\"title\" v-if=\"item.title\">{{ item.title | filtersTitle }}</span>\n                <span v-if=\"item.message\">{{ item.message | filtersCon }}</span>\n              </div>\n              <div class=\"edit-box\" v-if=\"tabCur\">\n                <span class=\"iconfont iconbianji\" v-db-click @click.stop=\"editMsg(item)\"></span>\n                <span class=\"iconfont iconshanchu\" v-db-click @click.stop=\"delMsg(item, '删除话术', index)\"></span>\n              </div>\n            </div>\n            <div class=\"box2\" v-else>\n              <el-input class=\"input-box\" v-model=\"item.title\" placeholder=\"输入标题（选填）\" style=\"width: 100%\" />\n              <div class=\"content\">\n                <el-input v-model=\"item.message\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" />\n              </div>\n              <div class=\"bom\">\n                <div class=\"select\">\n                  <el-select v-model=\"cateId\" style=\"width: 100px\" size=\"small\">\n                    <el-option v-for=\"item in sortList\" :value=\"item.id\" :key=\"item.id\" :label=\"item.name\"></el-option>\n                  </el-select>\n                </div>\n                <div class=\"btns-box\">\n                  <el-button v-db-click @click.stop=\"item.isEdit = false\">取消</el-button>\n                  <el-button type=\"primary\" v-db-click @click.stop=\"updataMsg(item)\">保存</el-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <el-dialog :visible.sync=\"isAddSort\" append-to-body :title=\"maskTitle\" width=\"304px\" class=\"class-box\">\n      <div class=\"item\">\n        <span>分组名称：</span>\n        <el-input v-model=\"classTitle\" placeholder=\"分组名称\" />\n      </div>\n      <div class=\"item\">\n        <span>分组排序：</span>\n        <el-input v-model=\"classSort\" placeholder=\"输入排序\" />\n      </div>\n      <div class=\"btn\"></div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" v-db-click @click=\"addServiceCate\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  speeChcraft,\n  serviceCate,\n  serviceCateUpdate,\n  addSpeeChcraft,\n  addServiceCate,\n  editServiceCate,\n} from '@/api/kefu';\nexport default {\n  name: 'msgWindow',\n  data() {\n    return {\n      ops: {\n        vuescroll: {\n          mode: 'native',\n          enable: false,\n          tips: {\n            deactive: 'Push to Load',\n            active: 'Release to Load',\n            start: 'Loading...',\n            beforeDeactive: 'Load Successfully!',\n          },\n          auto: false,\n          autoLoadDistance: 0,\n          pullRefresh: {\n            enable: false,\n          },\n          pushLoad: {\n            enable: false,\n            auto: true,\n            autoLoadDistance: 10,\n          },\n        },\n        bar: {\n          background: '#393232',\n          opacity: '.5',\n          size: '2px',\n        },\n      },\n      isScroll: true,\n      page: 1,\n      limit: 15,\n      tabCur: 1,\n      tabList: [\n        {\n          title: '个人库',\n          key: 1,\n        },\n        {\n          title: '公共库',\n          key: 0,\n        },\n      ],\n      searchTxt: '', // 搜索\n      list: [\n        {\n          isEdit: false,\n        },\n      ], // 列表\n      model1: '',\n      msgTitle: '', // 填写的标题\n      sortList: [], // 分类\n      cateId: '', // 选中的id\n      addMsg: {\n        title: '',\n        message: '',\n        cateId: '',\n        isEdit: false,\n      },\n      isAddSort: false, // 添加分类\n      classTitle: '', // 分类名称\n      classSort: '', // 分类排序\n      maskTitle: '', // 弹窗标题\n      editObj: {}, // 编辑分类对象\n    };\n  },\n  filters: {\n    filtersTitle(val) {\n      let len = 37;\n      if (val.length > len) {\n        let data = val.substring(0, len);\n        return `${data}...`;\n      } else {\n        return val;\n      }\n    },\n    filtersCon(val) {\n      let len = 113;\n      if (val.length > len) {\n        let data = val.substring(0, len);\n        return `${data}...`;\n      } else {\n        return val;\n      }\n    },\n  },\n  mounted() {\n    let self = this;\n    this.serviceCate();\n    this.$nextTick(() => {\n      // this.scroll = new BScroll(this.$refs.wrapper, {\n      //   mouseWheel: {\n      //     speed: 20,\n      //     invert: false,\n      //     easeTime: 300,\n      //   },\n      //   scrollbar: true,\n      //   disableMouse: true,\n      //   // and so on\n      // });\n    });\n  },\n  methods: {\n    // 打开编辑\n    editMsg(item) {\n      item.isEdit = true;\n      this.cateId = item.cate_id;\n    },\n    // 编辑框\n    bindEdit(item, index) {\n      //   if (index == 0) {\n      //     return;\n      //   } else {\n      item.isEdit = !item.isEdit;\n      //   }\n    },\n    // 头部选择\n    bindTab(item) {\n      console.log('1122');\n      debugger;\n      this.tabCur = item.key;\n      this.cateId = '';\n      this.sortList = [];\n      this.isScroll = true;\n      this.page = 1;\n      this.list = [];\n      this.serviceCate();\n    },\n    // 搜索\n    bindSearch() {\n      this.isScroll = true;\n      this.page = 1;\n      this.list = [];\n      this.getList();\n    },\n    // 选择分类\n    selectSort(item) {\n      if (this.cateId == item.id) {\n        return;\n      }\n      this.sortList.forEach((el, index) => {\n        if (el.id != item.id) {\n          el.isEdit = false;\n        }\n      });\n      this.cateId = item.id;\n      this.isScroll = true;\n      this.page = 1;\n      this.list = [];\n      this.getList();\n    },\n    // 删除分类\n    delSort(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `/service/cate/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n        kefu: true,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.isScroll = true;\n          this.page = 1;\n          this.list = [];\n          this.cateId = '';\n          this.serviceCate();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 获取分类\n    serviceCate() {\n      serviceCate({\n        type: this.tabCur,\n      }).then((res) => {\n        let obj = {\n          id: '',\n          name: '全部',\n        };\n        res.data.data.forEach((el, index) => {\n          el.isEdit = false;\n        });\n        // res.data.data.unshift(obj)\n        this.sortList = res.data.data;\n        if (this.cateId === '') {\n          this.cateId = res.data.data[0].id;\n        }\n        this.getList();\n      });\n    },\n    // 获取列表\n    getList() {\n      if (!this.isScroll) return;\n      speeChcraft({\n        page: this.page,\n        limit: this.limit,\n        title: this.searchTxt,\n        cate_id: this.cateId,\n        type: this.tabCur,\n      }).then((res) => {\n        this.isScroll = res.data.length >= this.limit;\n        res.data.forEach((el, index) => {\n          el.isEdit = false;\n        });\n        this.page++;\n        this.list = this.list.concat(res.data);\n      });\n    },\n    // 修改话术\n    updataMsg(item) {\n      serviceCateUpdate(item.id, {\n        title: item.title,\n        cate_id: this.cateId,\n        message: item.message,\n      })\n        .then((res) => {\n          this.$message.success('修改成功');\n          item.isEdit = false;\n        })\n        .catch((error) => {\n          this.$message.error(error.msg);\n          item.isEdit = true;\n        });\n    },\n    // 添加框显示\n    bindFocus() {\n      this.list.forEach((el, item) => {\n        el.isEdit = false;\n      });\n      this.addMsg.isEdit = true;\n    },\n    // 打开添加窗口\n    openAddSort() {\n      this.isAddSort = true;\n      this.maskTitle = '添加分组';\n      this.editObj.id = 0;\n    },\n    // 添加话术\n    bindAdd() {\n      addSpeeChcraft({\n        title: this.addMsg.title,\n        cate_id: this.addMsg.cateId,\n        message: this.addMsg.message,\n      })\n        .then((res) => {\n          this.addMsg.title = '';\n          this.addMsg.message = '';\n          this.addMsg.cateId = '';\n          this.addMsg.isEdit = false;\n          this.$message.success(res.msg);\n          res.data.isEdit = false;\n          this.page = 1;\n          this.list = [];\n          this.isScroll = true;\n          this.serviceCate();\n        })\n        .catch((error) => {\n          this.$message.error(error.msg);\n        });\n    },\n    // 删除\n    delMsg(row, tit, num, type) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `service/speechcraft/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n        kefu: true,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.list.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 添加分类\n    addServiceCate() {\n      if (this.editObj.id) {\n        editServiceCate(this.editObj.id, {\n          name: this.classTitle,\n          sort: this.classSort,\n        })\n          .then((res) => {\n            this.classTitle = '';\n            this.classSort = '';\n            this.$message.success(res.msg);\n            this.isAddSort = false;\n            this.page = 1;\n            this.list = [];\n            this.isScroll = true;\n            this.serviceCate();\n          })\n          .catch((error) => {\n            this.classTitle = '';\n            this.classSort = '';\n            this.$message.error(error.msg);\n          });\n      } else {\n        addServiceCate({\n          name: this.classTitle,\n          sort: this.classSort,\n        })\n          .then((res) => {\n            this.classTitle = '';\n            this.classSort = '';\n            this.$message.success(res.msg);\n            this.isAddSort = false;\n            this.page = 1;\n            this.list = [];\n            this.isScroll = true;\n            this.serviceCate();\n          })\n          .catch((error) => {\n            this.classTitle = '';\n            this.classSort = '';\n            this.$message.error(error.msg);\n          });\n      }\n    },\n    // 编辑分类\n    editSort(item) {\n      this.classSort = item.sort;\n      this.classTitle = item.name;\n      this.isAddSort = true;\n      this.maskTitle = '编辑分组';\n      this.editObj = item;\n    },\n    handleReachBottom() {\n      this.getList();\n    },\n    bindRadio(data) {\n      this.$emit('activeTxt', data.message);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.head {\n  .tab-bar {\n    display: flex;\n    .tab-item {\n      margin-right: 24px;\n      color: #999;\n      font-size: 14px;\n      font-weight: 500;\n      &.on {\n        color: #333333;\n      }\n    }\n  }\n  .search-box {\n    margin-top: 15px;\n  }\n}\n.main {\n  display: flex;\n  margin-top: 15px;\n  height: 365px;\n  .left-box {\n    width: 106px;\n    height: 100%;\n    border-right: 1px solid #ececec;\n    overflow: hidden;\n    .left-item {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 36px;\n      padding: 0 10px 0 14px;\n      font-size: 13px;\n      cursor: pointer;\n      &.on {\n        background: var(--prev-color-primary-light-9);\n        color: var(--prev-color-primary);\n        border-right: 2px solid var(--prev-color-primary);\n        .iconDot {\n          z-index: 1;\n          opacity: 1;\n        }\n      }\n      &:nth-child(1).on,\n      &:nth-child(2).on {\n        .iconDot {\n          display: none;\n        }\n      }\n      .iconaddto {\n        font-size: 12px;\n      }\n      .iconDot {\n        z-index: -1;\n        opacity: 0;\n      }\n      .edit-wrapper {\n        z-index: 50;\n        position: absolute;\n        right: -2px;\n        top: -4px;\n        background: #fff;\n        width: 80px;\n        box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n        border-radius: 4px;\n        .edit-item {\n          padding: 8px 16px;\n          color: #666 !important;\n          cursor: pointer;\n        }\n      }\n      .edit-bg {\n        z-index: 40;\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n      }\n    }\n  }\n  .right-box {\n    flex: 1;\n    padding: 0 12px;\n    overflow-x: hidden;\n    .msg-item {\n      margin-top: 12px;\n      transition: all 0.3s ease;\n      cursor: pointer;\n      .box1 {\n        position: relative;\n        display: flex;\n        .txt-box {\n          flex: 1;\n          font-size: 12px;\n          color: #999999;\n          .title {\n            max-width: 370px;\n            margin-right: 5px;\n            color: #333;\n            font-weight: 700;\n          }\n        }\n        .edit-box {\n          z-index: -1;\n          opacity: 0;\n          position: absolute;\n          right: 7px;\n          top: 0;\n          width: 60px;\n          height: 30px;\n          background: #fff;\n          .iconfont {\n            margin: 0 8px;\n            color: #000000;\n            font-size: 16px;\n            cursor: pointer;\n          }\n        }\n      }\n      .box2 {\n        padding-bottom: 15px;\n        border-radius: 5px;\n        background: #f5f5f5;\n        .input-box {\n          border-bottom: 1px solid #eeeeee;\n          ::v-deep .ivu-input {\n            background: transparent;\n            border: 0;\n            border-radius: 0;\n          }\n        }\n        .content {\n          font-size: 12px;\n          padding: 12px 11px 0;\n          color: #333333;\n        }\n        .bom {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 0 20px 0 11px;\n          margin-top: 10px;\n\n          button {\n            margin-left: 8px;\n            width: 70px;\n          }\n        }\n      }\n      &:hover {\n        transition: all 0.3s ease;\n        .box1 .edit-box {\n          z-index: 1;\n          opacity: 1;\n          transition: all 0.3s ease;\n        }\n      }\n    }\n    .add-box {\n      border-radius: 0;\n      margin-bottom: 10px;\n      .box2 {\n        padding-bottom: 0;\n        border-radius: 0;\n        .conBox {\n          height: 0;\n          overflow: hidden;\n          &.active {\n            animation: mymove 0.4s ease;\n            animation-iteration-count: 1;\n            animation-fill-mode: forwards;\n          }\n        }\n      }\n    }\n  }\n}\n.right-scroll {\n  height: 345px;\n}\n.class-box {\n  .item {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    input {\n      flex: 1;\n    }\n\n    span {\n      width: 80px;\n      font-size: 12px;\n    }\n  }\n}\n</style>\n<style>\n@keyframes mymove {\n  0% {\n    height: 0;\n  }\n  100% {\n    height: 150px;\n  }\n}\n</style>\n"]}]}