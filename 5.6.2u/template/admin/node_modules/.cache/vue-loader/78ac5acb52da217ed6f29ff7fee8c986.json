{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\system\\auth\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\pages\\system\\auth\\index.vue","mtime":1739936244912},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBhdXRoLCBnZXRWZXJzaW9uLCBjcm1lYlByb2R1Y3QsIHNhdmVDcm1lYkNvcHlSaWdodCwgZ2V0Q3JtZWJDb3B5UmlnaHQsIGNvcHlyaWdodExpc3QgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlanMyJzsKaW1wb3J0IHsgdCB9IGZyb20gJ3Z4ZS10YWJsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc3lzdGVtX2F1dGgnLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnYWRtaW4vbGF5b3V0JywgWydpc01vYmlsZSddKSwKICAgIC4uLm1hcFN0YXRlKCdhZG1pbi91c2VyTGV2ZWwnLCBbJ2NhdGVnb3J5SWQnXSksCiAgICBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6ICc4MHB4JzsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhc2VVcmw6ICdodHRwczovL3Nob3AuY3JtZWIubmV0L2h0bWwvaW5kZXguaHRtbCcsCiAgICAgIGlmcmFtZVVybDogJycsCiAgICAgIGNhcHRjaHM6ICdodHRwOi8vYXV0aG9yaXplLmNybWViLm5ldC9hcGkvY2FwdGNocy8nLAogICAgICBhdXRoQ29kZTogJycsCiAgICAgIHN0YXR1czogMSwKICAgICAgZGF5TnVtOiAwLAogICAgICBjb3B5cmlnaHQ6ICcnLAogICAgICBpc1RlbXBsYXRlOiBmYWxzZSwKICAgICAgbW9kYWxDb3B5cmlnaHQ6IGZhbHNlLAogICAgICBwcmljZTogJycsCiAgICAgIHByb1ByaWNlOiAnJywKICAgICAgcHJvZHVjdFN0YXR1czogZmFsc2UsCiAgICAgIGNvcHlyaWdodFRleHQ6ICcnLAogICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgcGF5VHlwZTogJycsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaXNTaG93OiBmYWxzZSwgLy8g6aqM6K+B56CB5qih5oCB5qGG5piv5ZCm5Ye6546wCiAgICAgIGFjdGl2ZTogMCwKICAgICAgdGltZXI6IG51bGwsCiAgICAgIHZlcnNpb246ICcnLAogICAgICBsYWJlbDogJycsCiAgICAgIHByb2R1Y3RUeXBlOiAnJywKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICBpc0Nob2ljZTogJ+WNlemAiScsCiAgICAgIGF1dGhvcml6ZWRQaWN0dXJlOiAnJywgLy8g54mI5p2D5Zu+54mHCiAgICAgIGdyaWRQaWM6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAxMiwKICAgICAgfSwKICAgICAgZ3JpZEJ0bjogewogICAgICAgIHhsOiA0LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiA4LAogICAgICAgIHNtOiA4LAogICAgICAgIHhzOiA4LAogICAgICB9LAogICAgICB0YWJsZUxpc3Q6IFtdLAogICAgICBsaWNlbnNpbmdUYWJsZTogW10sCiAgICAgIGNvcHlyaWdodFRhYmxlRGF0YTogW10sCiAgICAgIGNvcHlyaWdodExpc3Q6IFt7fV0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0cmlwczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5rip6aao5o+Q56S6JywKICAgICAgICAgIG1lc3NhZ2U6CiAgICAgICAgICAgICfmgqjnmoTjgJDplb/ov57mjqXjgJHmnKrlvIDlkK/vvIzmsqHmnInlvIDlkK/kvJrlr7zoh7Tns7vnu5/pu5jorqTlrqLmnI3ml6Dms5Xkvb/nlKgs5ZCO5Y+w6K6i5Y2V6YCa55+l5peg5rOV5pS25Yiw44CC6K+35bC95b+r5omn6KGM5ZG95Luk5byA5ZCv77yB77yBPGEgaHJlZj0iaHR0cHM6Ly9kb2MuY3JtZWIuY29tL3NpbmdsZS92NTQvMTM2NjciIHRhcmdldD0iX2JsYW5rIj7ngrnlh7vmn6XnnIvlvIDlkK/mlrnms5U8L2E+JywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5rip6aao5o+Q56S6JywKICAgICAgICAgIG1lc3NhZ2U6CiAgICAgICAgICAgICfmgqjnmoTjgJDlrprml7bku7vliqHjgJHmnKrlvIDlkK/vvIzmsqHmnInlvIDlkK/kvJrlr7zoh7Toh6rliqjmlLbotKfjgIHmnKrmlK/ku5joh6rliqjlj5bmtojorqLljZXjgIHorqLljZXoh6rliqjlpb3or4TjgIHmi7zlm6LliLDmnJ/pgIDmrL7nrYnku7vliqHml6Dms5XmraPluLjmiafooYzjgILor7flsL3lv6vmiafooYzlkb3ku6TlvIDlkK/vvIHvvIE8YSBocmVmPSJodHRwczovL2RvYy5jcm1lYi5jb20vc2luZ2xlL3Y1NC8xMzY2NyIgdGFyZ2V0PSJfYmxhbmsiPueCueWHu+afpeeci+W8gOWQr+aWueazlTwvYT4nLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmuKnppqjmj5DnpLonLAogICAgICAgICAgbWVzc2FnZToKICAgICAgICAgICAgJ+aCqOeahOOAkOa2iOaBr+mYn+WIl+OAkeacquW8gOWQr++8jOayoeacieW8gOWQr+S8muWvvOiHtOW8guatpeS7u+WKoeaXoOazleaJp+ihjOOAguivt+WwveW/q+aJp+ihjOWRveS7pOW8gOWQr++8ge+8gTxhIGhyZWY9Imh0dHBzOi8vZG9jLmNybWViLmNvbS9zaW5nbGUvdjU0LzEzNjY3IiB0YXJnZXQ9Il9ibGFuayI+54K55Ye75p+l55yL5byA5ZCv5pa55rOVPC9hPicsCiAgICAgICAgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmb3JtYXREYXRlKHRpbWUpIHsKICAgICAgaWYgKHRpbWUgIT09IDApIHsKICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRpbWUgKiAxMDAwKTsKICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZShkYXRlLCAneXl5eS1NTS1kZCBoaDptbScpOwogICAgICB9CiAgICB9LAogICAgaGVhZFRleHQoeikgewogICAgICBpZiAoeiA9PT0gJ3NlcnZlcicpIHsKICAgICAgICByZXR1cm4gJ+acjeWKoeWZqOS/oeaBryc7CiAgICAgIH0gZWxzZSBpZiAoeiA9PT0gJ2Vudmlyb25tZW50JykgewogICAgICAgIHJldHVybiAn57O757uf546v5aKD6KaB5rGCJzsKICAgICAgfSBlbHNlIGlmICh6ID09PSAncGVybWlzc2lvbnMnKSB7CiAgICAgICAgcmV0dXJuICfmnYPpmZDnirbmgIEnOwogICAgICB9IGVsc2UgaWYgKHogPT09ICdwcm9jZXNzJykgewogICAgICAgIHJldHVybiAn5ZCv5Yqo6L+b56iLJzsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHVwbG9hZFBpY3R1cmVzLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QXV0aCgpOwogICAgdGhpcy5nZXRWZXJzaW9uKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7CiAgICAgIGlmIChlLmRhdGEuZXZlbnQgPT09ICdvbkNhbmNlbCcpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICB9CiAgICB9KTsKICAgIGNvcHlyaWdodExpc3QoKS50aGVuKChyZXMpID0+IHsKICAgICAgdGhpcy50YWJsZUxpc3QgPSByZXMuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdENvcHlyaWdodCgpIHsKICAgICAgdGhpcy5tb2RhbENvcHlyaWdodCA9IHRydWU7CiAgICB9LAogICAgZ2V0VmVyc2lvbigpIHsKICAgICAgZ2V0VmVyc2lvbigpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMudmVyc2lvbiA9IHJlcy5kYXRhLnZlcnNpb247CiAgICAgICAgdGhpcy5sYWJlbCA9IHJlcy5kYXRhLmxhYmVsOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDcm1lYkNvcHlSaWdodCgpIHsKICAgICAgZ2V0Q3JtZWJDb3B5UmlnaHQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmdldEF1dGgoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/kv53lrZjniYjmnYPkv6Hmga8KICAgIHNhdmVDb3B5UmlnaHQoKSB7CiAgICAgIHNhdmVDcm1lYkNvcHlSaWdodCh7CiAgICAgICAgY29weXJpZ2h0OiB0aGlzLmNvcHlyaWdodFRleHQsCiAgICAgICAgY29weXJpZ2h0X2ltZzogdGhpcy5hdXRob3JpemVkUGljdHVyZSwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5nZXRDb3B5UmlnaHQoKTsKICAgICAgICB0aGlzLm1vZGFsQ29weXJpZ2h0ID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCJ5oup5Zu+54mHCiAgICBtb2RhbFBpY1RhcCgpIHsKICAgICAgdGhpcy5tb2RhbFBpYyA9IHRydWU7CiAgICB9LAogICAgLy8g6YCJ5Lit5Zu+54mHCiAgICBnZXRQaWMocGMpIHsKICAgICAgdGhpcy5hdXRob3JpemVkUGljdHVyZSA9IHBjLmF0dF9kaXI7CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICAvL+iOt+WPlueJiOadg+S/oeaBrwogICAgZ2V0Q29weVJpZ2h0KCkgewogICAgICBnZXRDcm1lYkNvcHlSaWdodCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHsgY29weXJpZ2h0Q29udGV4dCwgY29weXJpZ2h0SW1hZ2UgfSA9IHJlcy5kYXRhOwogICAgICAgIHRoaXMuY29weXJpZ2h0VGFibGVEYXRhID0gWwogICAgICAgICAgewogICAgICAgICAgICBjb3B5cmlnaHRDb250ZXh0LAogICAgICAgICAgICBjb3B5cmlnaHRJbWFnZSwKICAgICAgICAgIH0sCiAgICAgICAgXTsKICAgICAgICB0aGlzLmNvcHlyaWdodFRleHQgPSBjb3B5cmlnaHRDb250ZXh0IHx8ICcnOwogICAgICAgIHRoaXMuYXV0aG9yaXplZFBpY3R1cmUgPSBjb3B5cmlnaHRJbWFnZSB8fCAnJzsKICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICBpZiAodGhpcy5wcm9kdWN0VHlwZSA9PT0gJ2NvcHlyaWdodCcpIHsKICAgICAgICB0aGlzLmdldENybWViQ29weVJpZ2h0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRBdXRoKCk7CiAgICAgIH0KICAgICAgdGhpcy5pZnJhbWVVcmwgPSAnJzsKICAgICAgdGhpcy5pc1RlbXBsYXRlID0gZmFsc2U7CiAgICB9LAogICAgbG9naW5UYWJTd2l0Y2goaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleDsKICAgIH0sCiAgICBnZXRBdXRoKCkgewogICAgICBhdXRoKCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhIHx8IHt9OwogICAgICAgICAgdGhpcy5saWNlbnNpbmdUYWJsZSA9IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIGF1dGhDb2RlOiBkYXRhLmF1dGhDb2RlIHx8ICcnLAogICAgICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IC0xIDogZGF0YS5zdGF0dXMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICBdOwogICAgICAgICAgdGhpcy5kYXlOdW0gPSBkYXRhLmRheSB8fCAwOwogICAgICAgICAgdGhpcy5jb3B5cmlnaHQgPSBkYXRhLmNvcHlyaWdodDsKICAgICAgICAgIGlmICh0aGlzLmNvcHlyaWdodCkgewogICAgICAgICAgICB0aGlzLmdldENvcHlSaWdodCgpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgdG9Dcm1lYigpIHsKICAgICAgd2luZG93Lm9wZW4oJ2h0dHA6Ly93d3cuY3JtZWIuY29tJyk7CiAgICB9LAogICAgZ2V0UHJvZHVjdCgpIHsKICAgICAgY3JtZWJQcm9kdWN0KHsgdHlwZTogJ2NvcHlyaWdodCcgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnByaWNlID0gcmVzLmRhdGEuYXR0ci5wcmljZTsKICAgICAgICAgIHRoaXMucHJvZHVjdFN0YXR1cyA9IHRydWU7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgY3JtZWJQcm9kdWN0KHsgdHlwZTogJ3BybycgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnByb1ByaWNlID0gcmVzLmRhdGEuYXR0ci5wcmljZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBheW1lbnQocHJvZHVjdCkgewogICAgICB0aGlzLnByb2R1Y3RUeXBlID0gcHJvZHVjdDsKICAgICAgbGV0IGhvc3QgPSBsb2NhdGlvbi5ob3N0OwogICAgICBsZXQgaG9zdERhdGEgPSBob3N0LnNwbGl0KCcuJyk7CiAgICAgIGlmIChob3N0RGF0YVswXSA9PT0gJ3Rlc3QnICYmIGhvc3REYXRhLmxlbmd0aCA9PT0gNCkgewogICAgICAgIGhvc3QgPSBob3N0LnJlcGxhY2UoJ3Rlc3QuJywgJycpOwogICAgICB9IGVsc2UgaWYgKGhvc3REYXRhWzBdID09PSAnd3d3JyAmJiBob3N0RGF0YS5sZW5ndGggPT09IDMpIHsKICAgICAgICBob3N0ID0gaG9zdC5yZXBsYWNlKCd3d3cuJywgJycpOwogICAgICB9CiAgICAgIHRoaXMuaWZyYW1lVXJsID0KICAgICAgICB0aGlzLmJhc2VVcmwgKyAnP3VybD0nICsgaG9zdCArICcmcHJvZHVjdD0nICsgcHJvZHVjdCArICcmdmVyc2lvbj0nICsgdGhpcy52ZXJzaW9uICsgJyZsYWJlbD0nICsgdGhpcy5sYWJlbDsKICAgICAgdGhpcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnlKjmiLfngrnlh7vpga7nvanlsYLvvIzlupTor6XlhbPpl63mqKHmgIHmoYYKICAgIG9uQ2xvc2UoKSB7CiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB9LAogIH0sCiAgZGVzdHJveWVkKCkge30sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/system/auth","sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <div class=\"head acea-row row-between-wrapper\">商业授权</div>\n      <el-table ref=\"table\" :data=\"licensingTable\" empty-text=\"暂无数据\">\n        <el-table-column label=\"产品证书编号\" minWidth=\"180\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.status === 1\">{{ scope.row.authCode }}</span>\n            <span v-else>未授权</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span class=\"btn cup\" v-db-click @click=\"toCrmeb()\">进入官网</span>\n            <span class=\"btn cup\" v-show=\"scope.row.status != 1\" v-db-click @click=\"payment('bz')\">购买授权</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <el-card v-if=\"!copyright && status == 1\" :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <div class=\"head acea-row row-between-wrapper\">去版权服务</div>\n      <el-table ref=\"table\" :data=\"copyrightList\" empty-text=\"暂无数据\">\n        <el-table-column label=\"授权服务\" minWidth=\"180\">\n          <template slot-scope=\"scope\"> 标准版 </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span class=\"btn cup\" v-db-click @click=\"payment('copyright')\">立即购买</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <el-card v-if=\"copyright\" :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <div class=\"head acea-row row-between-wrapper\">自定义版权信息</div>\n      <el-table ref=\"table\" :data=\"copyrightTableData\" empty-text=\"暂无数据\">\n        <el-table-column label=\"文字版权信息\" minWidth=\"180\">\n          <template slot-scope=\"scope\"> {{ scope.row.copyrightContext }} </template>\n        </el-table-column>\n        <el-table-column label=\"底部版权图片\" minWidth=\"180\">\n          <template slot-scope=\"scope\">\n            <div class=\"tabBox_img\" v-viewer v-show=\"scope.row.copyrightImage\">\n              <img v-lazy=\"scope.row.copyrightImage\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span class=\"btn cup\" v-db-click @click=\"editCopyright()\">编辑</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <el-card v-for=\"(value, key, index) in tableList\" :key=\"index\" :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <div class=\"head acea-row row-between-wrapper\">{{ key | headText }}</div>\n      <el-table ref=\"table\" :data=\"tableList[key]\" empty-text=\"暂无数据\">\n        <el-table-column :label=\"key == 'permissions' ? '文件/目录' : '环境'\" minWidth=\"180\">\n          <template slot-scope=\"scope\">{{ scope.row.name }} </template>\n        </el-table-column>\n        <el-table-column label=\"要求\" minWidth=\"180\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.require }} </span>\n            <el-tooltip placement=\"top\" v-if=\"key == 'process' && !scope.row.value\">\n              <div slot=\"content\" v-html=\"trips[scope.$index].message\"></div>\n              <i class=\"el-icon-warning-outline\"></i>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"状态\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"typeof scope.row.value === 'boolean'\">\n              <i v-if=\"scope.row.value === true\" class=\"el-icon-check\"></i>\n              <i v-else class=\"el-icon-close\"></i>\n            </span>\n            <span v-else>{{ scope.row.value }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <el-dialog :visible.sync=\"isTemplate\" title=\"商业授权\" width=\"550px\" @closed=\"cancel\">\n      <iframe width=\"100%\" height=\"780\" :src=\"iframeUrl\" frameborder=\"0\"></iframe>\n    </el-dialog>\n    <el-dialog :visible.sync=\"modalCopyright\" title=\"版权信息\" width=\"550px\">\n      <div class=\"auth\">\n        <div class=\"update\">修改版权信息:</div>\n        <el-input style=\"width: 460px\" v-model=\"copyrightText\" />\n      </div>\n      <div class=\"auth\">\n        <div class=\"update\">上传版权图片:</div>\n        <div>\n          <div class=\"uploadPictrue\" v-if=\"authorizedPicture\" v-db-click @click=\"modalPicTap('单选')\">\n            <img v-lazy=\"authorizedPicture\" />\n            <i class=\"el-icon-error\" @click.stop=\"authorizedPicture = ''\"></i>\n          </div>\n          <div class=\"upload\" v-else v-db-click @click=\"modalPicTap('单选')\">\n            <div class=\"iconfont\">+</div>\n          </div>\n          <div class=\"tips-info\">建议尺寸：宽290px*高100px</div>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button v-db-click @click=\"modalCopyright = false\">取 消</el-button>\n        <el-button type=\"primary\" v-db-click @click=\"saveCopyRight\">保存</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :visible.sync=\"modalPic\" width=\"1024px\" title=\"上传授权图片\" :close-on-click-modal=\"false\">\n      <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\" v-if=\"modalPic\">\n      </uploadPictures>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport uploadPictures from '@/components/uploadPictures';\nimport { auth, getVersion, crmebProduct, saveCrmebCopyRight, getCrmebCopyRight, copyrightList } from '@/api/system';\nimport { mapState } from 'vuex';\nimport { formatDate } from '@/utils/validate';\nimport QRCode from 'qrcodejs2';\nimport { t } from 'vxe-table';\nexport default {\n  name: 'system_auth',\n  computed: {\n    ...mapState('admin/layout', ['isMobile']),\n    ...mapState('admin/userLevel', ['categoryId']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n\n  data() {\n    return {\n      baseUrl: 'https://shop.crmeb.net/html/index.html',\n      iframeUrl: '',\n      captchs: 'http://authorize.crmeb.net/api/captchs/',\n      authCode: '',\n      status: 1,\n      dayNum: 0,\n      copyright: '',\n      isTemplate: false,\n      modalCopyright: false,\n      price: '',\n      proPrice: '',\n      productStatus: false,\n      copyrightText: '',\n      success: false,\n      payType: '',\n      disabled: false,\n      isShow: false, // 验证码模态框是否出现\n      active: 0,\n      timer: null,\n      version: '',\n      label: '',\n      productType: '',\n      modalPic: false,\n      isChoice: '单选',\n      authorizedPicture: '', // 版权图片\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      tableList: [],\n      licensingTable: [],\n      copyrightTableData: [],\n      copyrightList: [{}],\n      loading: false,\n      trips: [\n        {\n          title: '温馨提示',\n          message:\n            '您的【长连接】未开启，没有开启会导致系统默认客服无法使用,后台订单通知无法收到。请尽快执行命令开启！！<a href=\"https://doc.crmeb.com/single/v54/13667\" target=\"_blank\">点击查看开启方法</a>',\n        },\n        {\n          title: '温馨提示',\n          message:\n            '您的【定时任务】未开启，没有开启会导致自动收货、未支付自动取消订单、订单自动好评、拼团到期退款等任务无法正常执行。请尽快执行命令开启！！<a href=\"https://doc.crmeb.com/single/v54/13667\" target=\"_blank\">点击查看开启方法</a>',\n        },\n        {\n          title: '温馨提示',\n          message:\n            '您的【消息队列】未开启，没有开启会导致异步任务无法执行。请尽快执行命令开启！！<a href=\"https://doc.crmeb.com/single/v54/13667\" target=\"_blank\">点击查看开启方法</a>',\n        },\n      ],\n    };\n  },\n  filters: {\n    formatDate(time) {\n      if (time !== 0) {\n        let date = new Date(time * 1000);\n        return formatDate(date, 'yyyy-MM-dd hh:mm');\n      }\n    },\n    headText(z) {\n      if (z === 'server') {\n        return '服务器信息';\n      } else if (z === 'environment') {\n        return '系统环境要求';\n      } else if (z === 'permissions') {\n        return '权限状态';\n      } else if (z === 'process') {\n        return '启动进程';\n      }\n    },\n  },\n  components: {\n    uploadPictures,\n  },\n  mounted() {\n    this.getAuth();\n    this.getVersion();\n    window.addEventListener('message', (e) => {\n      if (e.data.event === 'onCancel') {\n        this.cancel();\n      }\n    });\n    copyrightList().then((res) => {\n      this.tableList = res.data;\n    });\n  },\n  methods: {\n    editCopyright() {\n      this.modalCopyright = true;\n    },\n    getVersion() {\n      getVersion().then((res) => {\n        this.version = res.data.version;\n        this.label = res.data.label;\n      });\n    },\n    getCrmebCopyRight() {\n      getCrmebCopyRight().then((res) => {\n        this.getAuth();\n      });\n    },\n    //保存版权信息\n    saveCopyRight() {\n      saveCrmebCopyRight({\n        copyright: this.copyrightText,\n        copyright_img: this.authorizedPicture,\n      }).then((res) => {\n        this.getCopyRight();\n        this.modalCopyright = false;\n        return this.$message.success(res.msg);\n      });\n    },\n    // 选择图片\n    modalPicTap() {\n      this.modalPic = true;\n    },\n    // 选中图片\n    getPic(pc) {\n      this.authorizedPicture = pc.att_dir;\n      this.modalPic = false;\n    },\n    //获取版权信息\n    getCopyRight() {\n      getCrmebCopyRight().then((res) => {\n        const { copyrightContext, copyrightImage } = res.data;\n        this.copyrightTableData = [\n          {\n            copyrightContext,\n            copyrightImage,\n          },\n        ];\n        this.copyrightText = copyrightContext || '';\n        this.authorizedPicture = copyrightImage || '';\n      });\n    },\n    cancel() {\n      if (this.productType === 'copyright') {\n        this.getCrmebCopyRight();\n      } else {\n        this.getAuth();\n      }\n      this.iframeUrl = '';\n      this.isTemplate = false;\n    },\n    loginTabSwitch(index) {\n      this.active = index;\n    },\n    getAuth() {\n      auth()\n        .then((res) => {\n          let data = res.data || {};\n          this.licensingTable = [\n            {\n              authCode: data.authCode || '',\n              status: data.status === undefined ? -1 : data.status,\n            },\n          ];\n          this.dayNum = data.day || 0;\n          this.copyright = data.copyright;\n          if (this.copyright) {\n            this.getCopyRight();\n          }\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n    toCrmeb() {\n      window.open('http://www.crmeb.com');\n    },\n    getProduct() {\n      crmebProduct({ type: 'copyright' })\n        .then((res) => {\n          this.price = res.data.attr.price;\n          this.productStatus = true;\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n      crmebProduct({ type: 'pro' })\n        .then((res) => {\n          this.proPrice = res.data.attr.price;\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n    payment(product) {\n      this.productType = product;\n      let host = location.host;\n      let hostData = host.split('.');\n      if (hostData[0] === 'test' && hostData.length === 4) {\n        host = host.replace('test.', '');\n      } else if (hostData[0] === 'www' && hostData.length === 3) {\n        host = host.replace('www.', '');\n      }\n      this.iframeUrl =\n        this.baseUrl + '?url=' + host + '&product=' + product + '&version=' + this.version + '&label=' + this.label;\n      this.isTemplate = true;\n    },\n    // 用户点击遮罩层，应该关闭模态框\n    onClose() {\n      this.isShow = false;\n    },\n  },\n  destroyed() {},\n};\n</script>\n<style scoped lang=\"scss\">\n.auth {\n  padding: 9px 16px 9px 10px;\n  display: flex;\n\n  .box {\n    width: 50px;\n  }\n\n  .update {\n    white-space: nowrap;\n    margin-bottom: 12px;\n  }\n\n  .upload {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 60px;\n    height: 60px;\n    background: rgba(0, 0, 0, 0.02);\n    border-radius: 4px;\n    border: 1px solid #dddddd;\n  }\n}\n\n.auth .iconIos {\n  font-size: 40px;\n  margin-right: 10px;\n  color: #001529;\n}\n\n.auth .text {\n  font-weight: 400;\n  color: rgba(0, 0, 0, 1);\n  font-size: 18px;\n}\n\n.auth .text .code {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.5);\n}\n\n.auth .text .pro_price {\n  height: 18px;\n  font-size: 14px;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n  color: #f5222d;\n  line-height: 18px;\n}\n\n.auth .blue {\n  color: var(--prev-color-primary) !important;\n}\n\n.auth .red {\n  color: #ed4014 !important;\n}\n\n.upload .iconfont {\n  line-height: 60px;\n}\n\n.uploadPictrue {\n  width: 60px;\n  height: 60px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  margin-left: 2px;\n  border-radius: 3px;\n  position: relative;\n  cursor: pointer;\n  .el-icon-error{\n    position: absolute;\n    top:-3px;\n    right: -3px;\n    color: #999999;\n  }\n}\n\n.uploadPictrue img {\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n}\n\n.phone_code {\n  border: 1px solid #eee;\n  padding: 0 10px 0;\n  cursor: pointer;\n}\n\n.grey {\n  background-color: #999999;\n  border-color: #999999;\n  color: #fff;\n}\n\n.update {\n  font-size: 13px;\n  color: rgba(0, 0, 0, 0.85);\n  padding-right: 12px;\n}\n\n.prompt {\n  margin-left: 150px;\n  font-size: 12px;\n  font-weight: 400;\n  color: #999999;\n}\n\n.submit {\n  width: 100%;\n}\n\n.code .input {\n  width: 83%;\n}\n\n.code .input .ivu-input {\n  border-radius: 4px 0 0 4px !important;\n}\n\n.code .pictrue {\n  height: 32px;\n  width: 17%;\n}\n\n.customer {\n  border-right: 0;\n}\n\n.customer a {\n  font-size: 12px;\n}\n\n.ivu-input-group-prepend,\n.ivu-input-group-append {\n  background-color: #fff;\n}\n\n.ivu-input-group .ivu-input {\n  border-right: 0 !important;\n}\n\n.qrcode {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 180px;\n  border: 1px solid #e5e5e6;\n}\n\n.qrcode_desc {\n  display: inline-block;\n  text-align: center;\n  margin: 10px 0 10px;\n  width: 180px;\n  font-size: 12px;\n  color: #666;\n  line-height: 16px;\n}\n\n.login_tab {\n  font-size: 16px;\n  margin: 0 0 20px;\n  justify-content: center;\n}\n\n.login_tab_item {\n  width: 50%;\n  text-align: center;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n}\n\n.active_tab {\n  border-bottom: 2px solid var(--prev-color-primary);\n  color: var(--prev-color-primary);\n  font-weight: 600;\n}\n\niframe {\n  height: 550px;\n  overflow: hidden;\n}\n\n.head {\n  font-weight: 400;\n  font-size: 14px;\n  color: #303133;\n  margin-bottom: 20px;\n}\n\n.el-icon-check {\n  color: var(--prev-color-primary);\n  font-size: 22px;\n  font-weight: 600;\n}\n\n.el-icon-close {\n  color: #f5222d;\n  font-size: 22px;\n  font-weight: 600;\n}\n\n.btn {\n  color: var(--prev-color-primary);\n  margin-right: 10px;\n}\n.el-icon-warning-outline {\n  font-size: 13px;\n}\n</style>\n"]}]}