{"remainingRequest":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\mobileConfigRight\\c_goods_label.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\src\\components\\mobileConfigRight\\c_goods_label.vue","mtime":1744103178072},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1753254258567},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753254255279},{"path":"D:\\pc\\zm\\昆明阔翔科技有限公司\\源码\\CRMEB-BZ v5.6.2(20250630)\\template\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1753254260598}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdG9yZUxhYmVsTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvc3RvcmVMYWJlbExpc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NfZ29vZHNfbGFiZWwnLAogIGNvbXBvbmVudHM6IHsKICAgIHN0b3JlTGFiZWxMaXN0LAogIH0sCiAgcHJvcHM6IHsKICAgIGNvbmZpZ09iajogewogICAgICB0eXBlOiBPYmplY3QsCiAgICB9LAogICAgY29uZmlnTm1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgICBudW1iZXI6IHsKICAgICAgdHlwZTogbnVsbCwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdHM6IHt9LAogICAgICBjb25maWdEYXRhOiB7fSwKICAgICAgdGltZVN0YW1wOiAnJywKICAgICAgc3RvcmVMYWJlbFNob3c6IGZhbHNlLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuZGVmYXVsdHMgPSB0aGlzLmNvbmZpZ09iajsKICAgICAgdGhpcy5jb25maWdEYXRhID0gdGhpcy5jb25maWdPYmpbdGhpcy5jb25maWdObWVdOwogICAgfSk7CiAgfSwKICB3YXRjaDogewogICAgY29uZmlnT2JqOiB7CiAgICAgIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHRoaXMuZGVmYXVsdHMgPSBuVmFsOwogICAgICAgIHRoaXMuY29uZmlnRGF0YSA9IG5WYWxbdGhpcy5jb25maWdObWVdOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfSwKICAgIG51bWJlcihuVmFsKSB7CiAgICAgIHRoaXMudGltZVN0YW1wID0gblZhbDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBvcGVuU3RvcmVMYWJlbChyb3cpIHsKICAgICAgdGhpcy5zdG9yZUxhYmVsU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvLyDmt7Hmi7fotJ3phY3nva7mlbDmja7liJfooajvvIzpgb/lhY3nm7TmjqXkv67mlLnljp/mlbDmja4KICAgICAgICBjb25zdCBsaXN0RGF0YSA9IHRoaXMuY29uZmlnRGF0YS5saXN0Py5sZW5ndGggPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnRGF0YS5saXN0KSkgOiB1bmRlZmluZWQ7CiAgICAgICAgLy8g6LCD55Soc3RvcmVMYWJlbOaWueazle+8jOS8oOWFpeWkhOeQhuWQjueahOaVsOaNrgogICAgICAgIHRoaXMuJHJlZnMuc3RvcmVMYWJlbC5zdG9yZUxhYmVsKGxpc3REYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VTdG9yZUxhYmVsKGxhYmVsKSB7CiAgICAgIGlmICh0aGlzLmNvbmZpZ0RhdGEubGlzdC5sZW5ndGgpIHsKICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmNvbmZpZ0RhdGEubGlzdC5pbmRleE9mKHRoaXMuY29uZmlnRGF0YS5saXN0LmZpbHRlcigoZCkgPT4gZC5pZCA9PSBsYWJlbC5pZClbMF0pOwogICAgICAgIHRoaXMuY29uZmlnRGF0YS5saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5nZXRMYWJlbElkKHRoaXMuY29uZmlnRGF0YS5saXN0KTsKICAgICAgfQogICAgfSwKICAgIGFjdGl2ZVN0b3JlRGF0YShzdG9yZURhdGFMYWJlbCkgewogICAgICB0aGlzLnN0b3JlTGFiZWxTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuY29uZmlnRGF0YS5saXN0ID0gc3RvcmVEYXRhTGFiZWw7CiAgICAgIHRoaXMuZ2V0TGFiZWxJZChzdG9yZURhdGFMYWJlbCk7CiAgICB9LAogICAgZ2V0TGFiZWxJZChzdG9yZURhdGFMYWJlbCkgewogICAgICBsZXQgc3RvcmVBY3RpdmVJZHMgPSBbXTsKICAgICAgc3RvcmVEYXRhTGFiZWwuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIHN0b3JlQWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLmNvbmZpZ0RhdGEuYWN0aXZlVmFsdWUgPSBzdG9yZUFjdGl2ZUlkczsKICAgICAgdGhpcy4kZW1pdCgnZ2V0Q29uZmlnJywgeyBuYW1lOiAnZ29vZHNMYWJlbCcgfSk7CiAgICB9LAogICAgLy8g5qCH562+5by556qX5YWz6ZetCiAgICBzdG9yZUxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMuc3RvcmVMYWJlbFNob3cgPSBmYWxzZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["c_goods_label.vue"],"names":[],"mappings":";AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_goods_label.vue","sourceRoot":"src/components/mobileConfigRight","sourcesContent":["<template>\n  <div class=\"slider-box\">\n    <div class=\"c_row-item\">\n      <el-col class=\"label\" :span=\"4\" v-if=\"configData.title\">\n        {{ configData.title }}\n      </el-col>\n      <el-col :span=\"18\">\n        <div class=\"labelInput acea-row row-between-wrapper\" @click=\"openStoreLabel\">\n          <div style=\"width: 90%\">\n            <div v-if=\"configData.list.length\">\n              <el-tag closable v-for=\"(item, index) in configData.list\" :key=\"index\" @close=\"closeStoreLabel(item)\">{{\n                item.label_name\n              }}</el-tag>\n            </div>\n            <span class=\"span\" v-else>选择商品标签</span>\n          </div>\n          <div class=\"iconfont iconxiayi\"></div>\n        </div>\n      </el-col>\n    </div>\n    <!-- 商品标签 -->\n    <el-dialog :visible.sync=\"storeLabelShow\" title=\"选择商品标签\" width=\"540\">\n      <storeLabelList\n        v-if=\"storeLabelShow\"\n        ref=\"storeLabel\"\n        @activeData=\"activeStoreData\"\n        @close=\"storeLabelClose\"\n      ></storeLabelList>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport storeLabelList from '@/components/storeLabelList';\nexport default {\n  name: 'c_goods_label',\n  components: {\n    storeLabelList,\n  },\n  props: {\n    configObj: {\n      type: Object,\n    },\n    configNme: {\n      type: String,\n    },\n    number: {\n      type: null,\n    },\n  },\n  data() {\n    return {\n      defaults: {},\n      configData: {},\n      timeStamp: '',\n      storeLabelShow: false,\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.defaults = this.configObj;\n      this.configData = this.configObj[this.configNme];\n    });\n  },\n  watch: {\n    configObj: {\n      handler(nVal, oVal) {\n        this.defaults = nVal;\n        this.configData = nVal[this.configNme];\n      },\n      deep: true,\n    },\n    number(nVal) {\n      this.timeStamp = nVal;\n    },\n  },\n  methods: {\n    openStoreLabel(row) {\n      this.storeLabelShow = true;\n      this.$nextTick(() => {\n        // 深拷贝配置数据列表，避免直接修改原数据\n        const listData = this.configData.list?.length ? JSON.parse(JSON.stringify(this.configData.list)) : undefined;\n        // 调用storeLabel方法，传入处理后的数据\n        this.$refs.storeLabel.storeLabel(listData);\n      });\n    },\n    closeStoreLabel(label) {\n      if (this.configData.list.length) {\n        let index = this.configData.list.indexOf(this.configData.list.filter((d) => d.id == label.id)[0]);\n        this.configData.list.splice(index, 1);\n        this.getLabelId(this.configData.list);\n      }\n    },\n    activeStoreData(storeDataLabel) {\n      this.storeLabelShow = false;\n      this.configData.list = storeDataLabel;\n      this.getLabelId(storeDataLabel);\n    },\n    getLabelId(storeDataLabel) {\n      let storeActiveIds = [];\n      storeDataLabel.forEach((item) => {\n        storeActiveIds.push(item.id);\n      });\n      this.configData.activeValue = storeActiveIds;\n      this.$emit('getConfig', { name: 'goodsLabel' });\n    },\n    // 标签弹窗关闭\n    storeLabelClose() {\n      this.storeLabelShow = false;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.slider-box {\n  padding: 0 15px;\n}\n.c_row-item {\n  margin-bottom: 20px;\n}\n.label {\n  color: #999999;\n  font-size: 12px;\n}\n.labelInput {\n  border: 1px solid #dcdee2;\n  width: 100%;\n  padding: 0 5px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n  .span {\n    font-size: 12px;\n    color: #c5c8ce;\n    padding-left: 10px;\n  }\n  .iconxiayi {\n    font-size: 12px;\n  }\n}\n</style>\n"]}]}