Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _comp=require("../../ui/src/comp"),_xeUtils=_interopRequireDefault(require("xe-utils")),_ui=require("../../ui"),_dom=require("../../ui/src/dom");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}var _default2=exports.default=(0,_comp.defineVxeComponent)({name:"VxeAvatar",mixins:[_ui.globalMixins.sizeMixin],props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:function(){return(0,_ui.getConfig)().avatar.circle}},status:{type:String,default:function(){return(0,_ui.getConfig)().avatar.status}},size:{type:String,default:function(){return(0,_ui.getConfig)().avatar.size||(0,_ui.getConfig)().size}}},data:function(){return{xID:_xeUtils.default.uniqueId(),reactData:{}}},computed:Object.assign(Object.assign({},{}),{computeAvatarStyle:function(){var t=this.width,e=this.height,r={};return t&&(r.width=(0,_dom.toCssUnit)(t)),e&&(r.height=(0,_dom.toCssUnit)(e)),r},computeCountNum:function(){var t=this.count;return t?_xeUtils.default.toNumber(t):0}}),methods:{dispatchEvent:function(t,e,r){this.$emit(t,(0,_ui.createEvent)(r,{$avatar:this},e))},renderContent:function(t){var e=this,r=e.icon,i=e.content,e=e.src;return r?t("span",{class:"vxe-avatar--icon"},[t("i",{class:r})]):i?t("span",{class:"vxe-avatar--content"},"".concat(i)):e?t("img",{class:"vxe-avatar--img",attrs:{src:e}}):(0,_ui.renderEmptyElement)(this)},renderVN:function(t){var e=this,r=e.circle,i=e.dot,n=e.status,o=e.computeSize,u=e.computeCountNum,a=e.computeAvatarStyle;return t("div",{ref:"refElem",class:["vxe-avatar",_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"size--".concat(o),o),"theme--".concat(n),n),"is--circle",r),"is--dot",i)],style:a},[e.renderContent(t),u?t("span",{class:"vxe-avatar--count"},99<u?"99+":"".concat(u)):(0,_ui.renderEmptyElement)(e)])}},render:function(t){return this.renderVN(t)}});