Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _comp=require("../../ui/src/comp"),_xeUtils=_interopRequireDefault(require("xe-utils")),_ui=require("../../ui"),_utils=require("../../ui/src/utils"),_dom=require("../../ui/src/dom"),_util=require("../../date-panel/src/util"),_vn=require("../../ui/src/vn"),_log=require("../../ui/src/log"),_datePanel=_interopRequireDefault(require("../../date-panel/src/date-panel")),_button=_interopRequireDefault(require("../../button/src/button")),_buttonGroup=_interopRequireDefault(require("../../button/src/button-group"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,a){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}var _default2=exports.default=(0,_comp.defineVxeComponent)({name:"VxeDateRangePicker",mixins:[_ui.globalMixins.sizeMixin],model:{prop:"value",event:"modelValue"},props:{value:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:function(){return(0,_ui.getConfig)().dateRangePicker.clearable}},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,size:{type:String,default:function(){return(0,_ui.getConfig)().dateRangePicker.size||(0,_ui.getConfig)().size}},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date],startDay:{type:[String,Number],default:function(){return(0,_ui.getConfig)().dateRangePicker.startDay}},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:function(){return(0,_ui.getConfig)().dateRangePicker.festivalMethod}},disabledMethod:{type:Function,default:function(){return(0,_ui.getConfig)().dateRangePicker.disabledMethod}},separator:{type:[String,Number],default:function(){return(0,_ui.getConfig)().dateRangePicker.separator}},selectDay:{type:[String,Number],default:function(){return(0,_ui.getConfig)().dateRangePicker.selectDay}},showClearButton:{type:Boolean,default:function(){return(0,_ui.getConfig)().dateRangePicker.showClearButton}},showConfirmButton:{type:Boolean,default:function(){return(0,_ui.getConfig)().dateRangePicker.showConfirmButton}},autoClose:{type:Boolean,default:function(){return(0,_ui.getConfig)().dateRangePicker.autoClose}},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object},inject:{$xeModal:{default:null},$xeDrawer:{default:null},$xeTable:{default:null},$xeForm:{default:null},formItemInfo:{from:"xeFormItemInfo",default:null}},provide:function(){return{$xeDateRangePicker:this}},data:function(){return{xID:_xeUtils.default.uniqueId(),reactData:{initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""},internalData:{}}},computed:Object.assign(Object.assign({},{}),{computeBtnTransfer:function(){var e=this,t=e.$xeTable,a=e.$xeModal,n=e.$xeDrawer,r=e.$xeForm,e=e.transfer;if(null===e){var i=(0,_ui.getConfig)().dateRangePicker.transfer;if(_xeUtils.default.isBoolean(i))return i;if(t||a||n||r)return!0}return e},computeFormReadonly:function(){var e=this.$xeForm,t=this.readonly;return null===t?!!e&&e.readonly:t},computeIsDisabled:function(){var e=this.$xeForm,t=this.disabled;return null===t?!!e&&e.disabled:t},computeMVal:function(){var e=this.startValue,t=this.endValue;return"".concat(e||"").concat(t||"")},computeIsDateTimeType:function(){var e=this.type;return"time"===e||"datetime"===e},computeIsDatePickerType:function(){return-1<["date","week","month","quarter","year"].indexOf(this.type)},computeIsClearable:function(){return this.clearable},computeInpPlaceholder:function(){var e=this.placeholder;return(e=e||(0,_ui.getConfig)().dateRangePicker.placeholder)?(0,_utils.getFuncText)(e):(0,_ui.getI18n)("vxe.dateRangePicker.pleaseRange")},computeInpImmediate:function(){return this.immediate},computeShortcutOpts:function(){return Object.assign({},(0,_ui.getConfig)().dateRangePicker.shortcutConfig,this.shortcutConfig)},computeShortcutList:function(){var e=this.computeShortcutOpts.options;return e?e.map(function(e,t){return Object.assign({name:"".concat(e.name||e.code||t)},e)}):[]},computeDateLabelFormat:function(){return this.labelFormat||(0,_ui.getI18n)("vxe.input.date.labelFormat.".concat(this.type))},computeDateValueFormat:function(){var e=this.type,t=this.valueFormat;return t||("time"===e?"HH:mm:ss":"datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")},computeFirstDayOfWeek:function(){var e=this.startDay;return _xeUtils.default.toNumber(e)},computePanelLabelObj:function(){var e=this.reactData,t=e.startValue,e=e.endValue;return this.formatRangeLabel(t||e?[t||"",e||""]:[])},computeInputLabel:function(){return this.computePanelLabelObj.label}}),methods:{dispatchEvent:function(e,t,a){this.$emit(e,(0,_ui.createEvent)(a,{$drawer:this},t))},emitModel:function(e){var t=this._events;t&&t.modelValue?this.$emit("modelValue",e):this.$emit("model-value",e)},formatRangeLabel:function(e){var t=this.type,a=this.separator,n=this.computeDateLabelFormat,r=this.computeDateValueFormat,i=this.computeFirstDayOfWeek,l=e[0]?(0,_util.parseDateObj)(e[0],t,{valueFormat:r,labelFormat:n,firstDay:i}):null,e=e[1]?(0,_util.parseDateObj)(e[1],t,{valueFormat:r,labelFormat:n,firstDay:i}):null,t=l?l.label:"",r=e?e.label:"";return{label:(t||r?[t,r]:[]).join("".concat(a||" ~ ")),startLabel:t,endLabel:r}},getRangeValue:function(e,t){var a=this.value,a=_xeUtils.default.isArray(a);return e||t?(e=[e||"",t||""],a?e:e.join(",")):a?[]:""},paraeUpdateModel:function(){var e,t=this.type,a=this.value,n=this.computeDateValueFormat,r="",i="";return _xeUtils.default.isArray(a)?(e=(0,_util.parseDateString)(a[0],t,{valueFormat:n}),t=(0,_util.parseDateString)(a[1],t,{valueFormat:n}),(e||t)&&(r=e||"",i=t||"")):_xeUtils.default.isString(a)&&((n=a.split(","))[0]||n[1])&&(r=n[0]||"",i=n[1]||""),{sValue:r,eValue:i}},parseUpdateData:function(){var e=this.type,t=this.startValue,a=this.endValue,n=this.computeDateValueFormat;return{sValue:(0,_util.parseDateString)(t,e,{valueFormat:n}),eValue:(0,_util.parseDateString)(a,e,{valueFormat:n})}},updateModelValue:function(e){var t=this,a=t.reactData,n=t.value,r=t.startValue,i=t.endValue,l={sValue:"",eValue:""},l=e?n?t.paraeUpdateModel():t.parseUpdateData():r||i?t.parseUpdateData():t.paraeUpdateModel();a.startValue=l.sValue,a.endValue=l.eValue},triggerEvent:function(e){var t=this.reactData,a=t.startValue,t=t.endValue,n=this.getRangeValue(a,t);this.dispatchEvent(e.type,{value:n,startValue:a,endValue:t},e)},handleChange:function(e,t,a){var n=this,r=n.reactData,i=n.$xeForm,l=n.formItemInfo,o=n.value,r=(r.startValue=e,n.getRangeValue(e,r.endValue=t));n.emitModel(r),n.$emit("update:startValue",e||""),n.$emit("update:endValue",t||""),_xeUtils.default.toValueString(o)!==r&&(n.dispatchEvent("change",{value:r},a),i)&&l&&i.triggerItemEvent(a,l.itemConfig.field,r)},changeEvent:function(e){this.computeInpImmediate||this.triggerEvent(e)},focusEvent:function(e){this.reactData.isActivated=!0,this.dateRangePickerOpenEvent(e),this.triggerEvent(e)},clickPrefixEvent:function(e){var t,a,n=this.reactData;this.computeIsDisabled||(t=n.startValue,n=n.endValue,a=this.getRangeValue(t,n),this.dispatchEvent("prefix-click",{value:a,startValue:t,endValue:n},e))},hidePanel:function(){var t=this.reactData,a=this.internalData;return new Promise(function(e){t.visiblePanel=!1,a.hpTimeout=setTimeout(function(){t.isAniVisible=!1,e()},350)})},clearValueEvent:function(e,t){this.computeIsDatePickerType&&this.hidePanel(),this.handleChange("","",e),this.dispatchEvent("clear",{value:t},e)},checkValue:function(){var e=this.$refs.refStartDatePanel,t=this.$refs.refEndDatePanel;e&&t&&(e=e.getModelValue(),t=t.getModelValue(),e&&t||this.handleChange("","",{type:"check"}))},handleSelectClose:function(){var e=this,t=e.reactData,a=e.internalData,n=e.autoClose,r=t.startValue,t=t.endValue,i=a.selectStatus;n?i&&e.computeIsDatePickerType&&r&&t&&e.hidePanel():r&&t&&(a.selectStatus=!1)},clickSuffixEvent:function(e){var t,a,n=this.reactData;this.computeIsDisabled||(t=n.startValue,n=n.endValue,a=this.getRangeValue(t,n),this.dispatchEvent("suffix-click",{value:a,startValue:t,endValue:n},e))},blurEvent:function(e){var t=this,a=t.reactData,n=t.$xeForm,r=t.formItemInfo,i=a.startValue,l=a.endValue;t.computeInpImmediate||t.handleChange(i,l,e),a.visiblePanel||(a.isActivated=!1),t.dispatchEvent("blur",{value:"",startValue:i,endValue:l},e),n&&r&&n.triggerItemEvent(e,r.itemConfig.field,"")},keydownEvent:function(e){this.triggerEvent(e)},keyupEvent:function(e){this.triggerEvent(e)},confirmEvent:function(e){var t,a,n=this.$refs.refStartDatePanel,r=this.$refs.refEndDatePanel;n&&r&&(t=n.getModelValue(),a=r.getModelValue(),t&&!a||!t&&a?this.handleChange("","",e):(n.confirmByEvent(e),r.confirmByEvent(e))),this.hidePanel()},startPanelChangeEvent:function(e){var a=this,t=a.reactData,n=a.internalData,r=n.selectStatus,i=e.value,l=r?t.endValue:"";a.handleChange(i,l,e.$event),a.handleSelectClose(),r||(n.selectStatus=!0),a.$nextTick(function(){var e=a.$refs.refStartDatePanel,t=a.$refs.refEndDatePanel;e&&t&&(e=e.getModelValue(),!l)&&e&&t.setPanelDate(_xeUtils.default.toStringDate(e))})},endPanelChangeEvent:function(e){var a=this,t=a.reactData,n=a.internalData,r=n.selectStatus,i=e.value,l=r?t.startValue:"";a.handleChange(l,i,e.$event),a.handleSelectClose(),r||(n.selectStatus=!0),a.$nextTick(function(){var e=a.$refs.refStartDatePanel,t=a.$refs.refEndDatePanel;e&&t&&(t=t.getModelValue(),!l)&&t&&e.setPanelDate(_xeUtils.default.toStringDate(t))})},handleGlobalMousedownEvent:function(e){var t=this,a=t.reactData,n=a.visiblePanel,r=t.$refs.refElem,i=t.$refs.refPanelWrapper;!t.computeIsDisabled&&a.isActivated&&(a.isActivated=(0,_dom.getEventTargetNode)(e,r).flag||(0,_dom.getEventTargetNode)(e,i).flag,a.isActivated||n&&(t.checkValue(),t.hidePanel()))},handleGlobalMousewheelEvent:function(e){var t=this,a=t.reactData.visiblePanel;t.computeIsDisabled||a&&(a=t.$refs.refPanelWrapper,(0,_dom.getEventTargetNode)(e,a).flag?t.updatePlacement():t.hidePanel())},handleGlobalBlurEvent:function(){this.reactData.visiblePanel&&this.hidePanel()},updateZindex:function(){var e=this.reactData;e.panelIndex<(0,_utils.getLastZIndex)()&&(e.panelIndex=(0,_utils.nextZIndex)())},updatePlacement:function(){function e(){var e=(0,_dom.updatePanelPlacement)(i,l,{placement:n,teleportTo:o}),t=Object.assign(e.style,{zIndex:r});a.panelStyle=t,a.panelPlacement=e.placement}var t=this,a=t.reactData,n=t.placement,r=a.panelIndex,i=t.$refs.refInputTarget,l=t.$refs.refInputPanel,o=t.computeBtnTransfer;return e(),t.$nextTick().then(e)},showPanel:function(){var e=this,t=e.reactData,a=e.internalData,n=t.visiblePanel,r=e.computeBtnTransfer,i=e.$refs.refInputPanel;return e.computeIsDisabled||n?e.$nextTick():(t.initialized||(t.initialized=!0,r&&i&&document.body.appendChild(i)),a.hpTimeout&&(clearTimeout(a.hpTimeout),a.hpTimeout=void 0),a.selectStatus=!1,t.isActivated=!0,t.isAniVisible=!0,setTimeout(function(){t.visiblePanel=!0},10),e.updateZindex(),e.updatePlacement())},dateRangePickerOpenEvent:function(e){this.computeFormReadonly||(e.preventDefault(),this.showPanel())},clickEvent:function(e){this.triggerEvent(e)},handleShortcutEvent:function(e){var t=e.option,a=e.$event,n=this,e=n.reactData,r=n.type,i=n.computeShortcutOpts,l=i.autoClose,o=t.code,u=t.clickMethod,s=e.startValue,c=n.getRangeValue(s,m=e.endValue),d={$dateRangePicker:n,option:t,value:c,startValue:s,endValue:m,code:o};if(!u&&o){e=_ui.commands.get(o),t=e?e.dateRangePickerCommandMethod:null;if(t)t(d);else{var p=n.computeDateValueFormat,f=n.computeFirstDayOfWeek;switch(o){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":var m,v=(0,_util.getRangeDateByCode)(o,c,r,{valueFormat:p,firstDay:f}),s=v.startValue,c=n.getRangeValue(s,m=v.endValue);d.value=c,d.startValue=s,d.endValue=m,n.handleChange(s,m,a);break;default:(0,_log.errLog)("vxe.error.notCommands",[o])}}}else{e=u||i.clickMethod;e&&e(d)}l&&n.hidePanel(),n.dispatchEvent("shortcut-click",d,a)},setModelValue:function(e,t){var a=this.reactData,a=(a.startValue=e||"",a.endValue=t||"",this.getRangeValue(e,t));this.emitModel(a)},setModelValueByEvent:function(e,t,a){this.handleChange(t||"",a||"",e)},focus:function(){var e=this.reactData,t=this.$refs.refInputTarget;return e.isActivated=!0,t.focus(),this.$nextTick()},blur:function(){var e=this.reactData;return this.$refs.refInputTarget.blur(),e.isActivated=!1,this.$nextTick()},select:function(){var e=this.reactData;return this.$refs.refInputTarget.select(),e.isActivated=!1,this.$nextTick()},renderShortcutBtn:function(e,t,a){var n=this.computeShortcutOpts,r=n.position,i=n.align,l=n.mode,o=this.computeShortcutList;return(0,_utils.isEnableConf)(n)&&o.length&&(r||"left")===t?e("div",{class:"vxe-date-range-picker--layout-".concat(t,"-wrapper")},[e(_buttonGroup.default,{props:{options:o,mode:l,align:i,vertical:a},on:{click:this.handleShortcutEvent}})]):(0,_ui.renderEmptyElement)(this)},renderPanel:function(e){var t=this,a=t,n=t.$scopedSlots,r=t.reactData,i=a.type,l=a.separator,o=a.showConfirmButton,u=a.showClearButton,s=r.initialized,c=r.isAniVisible,d=r.visiblePanel,p=r.panelPlacement,f=r.panelStyle,m=r.startValue,r=r.endValue,v=t.computeSize,h=t.computeBtnTransfer,g=t.computePanelLabelObj,y=g.startLabel,g=g.endLabel,b=t.computeShortcutOpts.position,D=n.header,_=n.footer,P=n.top,x=n.bottom,V=n.left,n=n.right,E=0<t.computeShortcutList.length,o=null===o?t.computeIsDateTimeType||!a.autoClose:o,u=null===u?t.computeIsClearable:u;return e("div",{ref:"refInputPanel",class:["vxe-table--ignore-clear vxe-date-range-picker--panel","type--".concat(i),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"size--".concat(v),v),"is--transfer",h),"ani--leave",c),"ani--enter",d),"show--top",!!(P||D||E&&("top"===b||"header"===b))),"show--bottom",!!(x||_||E&&("bottom"===b||"footer"===b))),"show--left",!!(V||E&&"left"===b)),"show--right",!!(n||E&&"right"===b))],attrs:{placement:p},style:f},s&&(d||c)?[e("div",{ref:"refPanelWrapper",class:["vxe-date-range-picker--layout-all-wrapper","type--".concat(i),_defineProperty({},"size--".concat(v),v)]},[P?e("div",{class:"vxe-date-range-picker--layout-top-wrapper"},P({})):t.renderShortcutBtn(e,"top"),e("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[V?e("div",{class:"vxe-date-range-picker--layout-left-wrapper"},V({})):t.renderShortcutBtn(e,"left",!0),e("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[D?e("div",{class:"vxe-date-range-picker--layout-header-wrapper"},D({})):t.renderShortcutBtn(e,"header"),e("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[e(_datePanel.default,{ref:"refStartDatePanel",props:{value:m,type:a.type,className:a.className,minDate:a.minDate,maxDate:a.maxDate,startDay:a.startDay,endDate:r,labelFormat:a.labelFormat,valueFormat:a.valueFormat,festivalMethod:a.festivalMethod,disabledMethod:a.disabledMethod,selectDay:a.selectDay},on:{change:t.startPanelChangeEvent}}),e(_datePanel.default,{ref:"refEndDatePanel",props:{value:r,type:a.type,className:a.className,minDate:a.minDate,maxDate:a.maxDate,startDay:a.startDay,startDate:m,labelFormat:a.labelFormat,valueFormat:a.valueFormat,festivalMethod:a.festivalMethod,disabledMethod:a.disabledMethod,selectDay:a.selectDay},on:{change:t.endPanelChangeEvent}})]),e("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[e("div",{class:"vxe-date-range-picker--layout-footer-label"},y||g?[e("span",y),e("span","".concat(l||"")),e("span",g)]:[]),e("div",{class:"vxe-date-range-picker--layout-footer-custom"},_?_({}):[t.renderShortcutBtn(e,"footer")]),e("div",{class:"vxe-date-range-picker--layout-footer-btns"},[u?e(_button.default,{props:{size:"mini",disabled:!(m||r),content:(0,_ui.getI18n)("vxe.button.clear")},on:{click:t.clearValueEvent}}):(0,_ui.renderEmptyElement)(t),o?e(_button.default,{props:{size:"mini",status:"primary",content:(0,_ui.getI18n)("vxe.button.confirm")},on:{click:t.confirmEvent}}):(0,_ui.renderEmptyElement)(t)])])]),n?e("div",{class:"vxe-date-range-picker--layout-right-wrapper"},n({})):t.renderShortcutBtn(e,"right",!0)]),x?e("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},x({})):t.renderShortcutBtn(e,"bottom")])]:[])},renderPrefixIcon:function(e){var t=this.$scopedSlots,a=this.prefixIcon,t=t.prefix;return t||a?e("div",{class:"vxe-date-range-picker--prefix",on:{click:this.clickPrefixEvent}},[e("div",{class:"vxe-date-range-picker--prefix-icon"},t?(0,_vn.getSlotVNs)(t({})):[e("i",{class:a})])]):null},renderSuffixIcon:function(e){var t=this,a=t.$scopedSlots,n=t.reactData,r=t.suffixIcon,i=n.startValue,a=a.suffix,l=t.computeIsClearable;return e("div",{class:["vxe-date-range-picker--suffix",{"is--clear":l&&!t.computeIsDisabled&&(i||n.endValue)}]},[l?e("div",{class:"vxe-date-range-picker--clear-icon",on:{click:t.clearValueEvent}},[e("i",{class:(0,_ui.getIcon)().INPUT_CLEAR})]):(0,_ui.renderEmptyElement)(t),t.renderExtraSuffixIcon(e),a||r?e("div",{class:"vxe-date-range-picker--suffix-icon",on:{click:t.clickSuffixEvent}},a?(0,_vn.getSlotVNs)(a({})):[e("i",{class:r})]):(0,_ui.renderEmptyElement)(t)])},renderExtraSuffixIcon:function(e){return e("div",{class:"vxe-date-range-picker--control-icon",on:{click:this.dateRangePickerOpenEvent}},[e("i",{class:["vxe-date-range-picker--date-picker-icon",(0,_ui.getIcon)().DATE_PICKER_DATE]})])},renderVN:function(e){var t,a,n,r,i=this,l=i.reactData,o=i.className,u=i.type,s=i.name,c=i.autoComplete,d=l.startValue,p=l.endValue,f=l.visiblePanel,l=l.isActivated,m=i.computeSize,v=i.computeIsDisabled,h=i.computeInputLabel;return i.computeFormReadonly?e("div",{ref:"refElem",class:["vxe-date-range-picker--readonly","type--".concat(u),o]},h):(t=i.computeInpPlaceholder,a=i.computeIsClearable,n=i.renderPrefixIcon(e),r=i.renderSuffixIcon(e),e("div",{ref:"refElem",class:["vxe-date-range-picker","type--".concat(u),o,_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"size--".concat(m),m),"is--prefix",!!n),"is--suffix",!!r),"is--visible",f),"is--disabled",v),"is--active",l),"show--clear",a&&!v&&(d||p))],attrs:{spellcheck:!1}},[n||(0,_ui.renderEmptyElement)(i),e("div",{class:"vxe-date-range-picker--wrapper"},[e("input",{ref:"refInputTarget",class:"vxe-date-range-picker--inner",domProps:{value:h},attrs:{name:s,type:"text",placeholder:t,readonly:!0,disabled:v,autocomplete:c},on:{keydown:i.keydownEvent,keyup:i.keyupEvent,click:i.clickEvent,change:i.changeEvent,focus:i.focusEvent,blur:i.blurEvent}})]),r||(0,_ui.renderEmptyElement)(i),i.renderPanel(e)]))}},watch:{value:function(){this.updateModelValue(!0)},computeMVal:function(){this.updateModelValue(!1)}},created:function(){var e=this;e.updateModelValue(!0),_ui.globalEvents.on(e,"mousewheel",e.handleGlobalMousewheelEvent),_ui.globalEvents.on(e,"mousedown",e.handleGlobalMousedownEvent),_ui.globalEvents.on(e,"blur",e.handleGlobalBlurEvent)},deactivated:function(){this.checkValue()},beforeDestroy:function(){var e=this,t=e.$refs.refInputPanel;t&&t.parentNode&&t.parentNode.removeChild(t),e.checkValue(),_ui.globalEvents.off(e,"mousewheel"),_ui.globalEvents.off(e,"mousedown"),_ui.globalEvents.off(e,"blur")},render:function(e){return this.renderVN(e)}});