function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.VxeDrawer=exports.DrawerController=exports.Drawer=void 0;var _core=require("@vxe-ui/core"),_xeUtils=_interopRequireDefault(require("xe-utils")),_drawer=_interopRequireWildcard(require("./src/drawer")),_dynamics=require("../dynamics");function _getRequireWildcardCache(e){var r,t;return"function"!=typeof WeakMap?null:(r=new WeakMap,t=new WeakMap,(_getRequireWildcardCache=function(e){return e?t:r})(e))}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};r=_getRequireWildcardCache(r);if(r&&r.has(e))return r.get(e);var t,n,a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=o?Object.getOwnPropertyDescriptor(e,t):null)&&(n.get||n.set)?Object.defineProperty(a,t,n):a[t]=e[t]);return a.default=e,r&&r.set(e,a),a}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleDrawer(e){return(0,_dynamics.checkDynamic)(),new Promise(function(t){var n,a,r=Object.assign({},e);r.id&&_drawer.allActiveDrawers.some(function(e){return e.id===r.id})?t("exist"):(n=Object.assign({},r.events),a={key:_xeUtils.default.uniqueId(),props:Object.assign(r,{value:!0}),on:Object.assign(Object.assign({},n),{hide:function(e){var r=_dynamics.dynamicStore.modals;n.hide&&n.hide.call(this,e),_dynamics.dynamicStore.modals=r.filter(function(e){return e.key!==a.key}),t(e.type)}})},_dynamics.dynamicStore.drawers.push(a))})}function getDrawer(r){return _xeUtils.default.find(_drawer.allActiveDrawers,function(e){return e.id===r})}function closeDrawer(e){var e=e?[getDrawer(e)]:_drawer.allActiveDrawers,r=[];return e.forEach(function(e){e&&r.push(e.close())}),Promise.all(r)}function openDrawer(e){return handleDrawer(Object.assign({},e))}var DrawerController=exports.DrawerController={get:getDrawer,close:closeDrawer,open:openDrawer},VxeDrawer=exports.VxeDrawer=Object.assign(_drawer.default,{install:function(e){e.component(_drawer.default.name,_drawer.default)}}),Drawer=(_core.VxeUI.drawer=DrawerController,_dynamics.dynamicApp.use(VxeDrawer),_core.VxeUI.component(_drawer.default),exports.Drawer=VxeDrawer),_default=exports.default=VxeDrawer;