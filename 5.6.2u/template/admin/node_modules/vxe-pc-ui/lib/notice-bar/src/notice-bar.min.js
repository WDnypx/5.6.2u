Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _comp=require("../../ui/src/comp"),_xeUtils=_interopRequireDefault(require("xe-utils")),_ui=require("../../ui"),_dom=require("../../ui/src/dom");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}var _default2=exports.default=(0,_comp.defineVxeComponent)({name:"VxeNoticeBar",mixins:[_ui.globalMixins.sizeMixin],props:{duration:[String,Number],direction:{type:String,default:function(){return(0,_ui.getConfig)().noticeBar.direction}},speed:{type:String,default:function(){return(0,_ui.getConfig)().noticeBar.speed}},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:function(){return(0,_ui.getConfig)().noticeBar.size||(0,_ui.getConfig)().size}}},data:function(){return{xID:_xeUtils.default.uniqueId(),reactData:{animationDuration:0}}},computed:Object.assign(Object.assign({},{}),{computeNoticeText:function(){var e=this.content;return"".concat(e||"")}}),methods:{dispatchEvent:function(e,t,i){this.$emit(e,(0,_ui.createEvent)(i,{$noticeBar:this},t))},updateAnimationStyle:function(){var e,t=this.reactData,i=this.speed,n=this.$refs.refContentElem;n&&(e=46,"fast"===i?e=118:"slow"===i&&(e=18),t.animationDuration=Math.ceil(n.scrollWidth/e))},renderVN:function(e){var t=this,i=t.$scopedSlots,n=t.vertical,r=t.duration,o=t.direction,u=t.reactData.animationDuration,a=t.computeSize,c=t.computeNoticeText,s=i.default,f=i.prefix,i=i.suffix;return e("div",{ref:"refElem",class:["vxe-notice-bar","is--".concat(n?"vertical":"horizontal"),"dir--".concat(o||"left"),_defineProperty({},"size--".concat(a),a)]},[f?e("div",{class:"vxe-notice-bar--prefix"},f({})):(0,_ui.renderEmptyElement)(t),e("div",{class:"vxe-notice-bar--content"},[e("div",{ref:"refContentElem",class:"vxe-notice-bar--inner"},[e("div",{class:"vxe-notice-bar--wrapper",style:{animationDuration:"".concat(r?(0,_dom.toCssUnit)(r,"s"):u,"s")}},s?s({}):c)])]),i?e("div",{class:"vxe-notice-bar--suffix"},i({})):(0,_ui.renderEmptyElement)(t)])}},mounted:function(){var e=this;_ui.globalEvents.on(e,"resize",e.updateAnimationStyle),e.updateAnimationStyle()},beforeDestroy:function(){_ui.globalEvents.off(this,"resize")},render:function(e){return this.renderVN(e)}});