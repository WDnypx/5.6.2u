Object.defineProperty(exports,"__esModule",{value:!0}),exports.formItemProps=exports.default=void 0;var _comp=require("../../ui/src/comp"),_xeUtils=_interopRequireDefault(require("xe-utils")),_ui=require("../../ui"),_utils=require("../../ui/src/utils"),_util=require("./util"),_render=require("./render");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var formItemProps=exports.formItemProps={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},formItemPropKeys=Object.keys(formItemProps),_default=exports.default=(0,_comp.defineVxeComponent)({name:"VxeFormItem",mixins:[_ui.globalMixins.sizeMixin],props:formItemProps,inject:{$xeForm:{default:null},$xeFormGroup:{default:null}},data:function(){return{xID:_xeUtils.default.uniqueId(),formItem:{},reactData:{}}},computed:Object.assign({},{}),methods:{renderItem:function(e,t,l){var r=t.$xeGrid,n=t.data,i=t.readonly,o=t.disabled,u=l.visible,a=l.field,s=l.itemRender,m=l.contentStyle,d=l.showContent,s=(0,_utils.isEnableConf)(s)?_ui.renderer.get(s.name):null,f=s?s.formItemStyle||s.itemStyle:null,s=s?s.formItemContentStyle||s.itemContentStyle:null,n={data:n,disabled:o,readonly:i,field:a,property:a,item:l,$form:t,$grid:r};return!1===u?(0,_ui.renderEmptyElement)(this):e("div",{ref:"refElem",key:l.id,class:(0,_render.getItemClass)(t,l),style:_xeUtils.default.isFunction(f)?f(n):f||{}},[(0,_render.renderTitle)(e,t,l),!1===d?(0,_ui.renderEmptyElement)(this):e("div",{class:(0,_render.getItemContentClass)(t,l),style:Object.assign({},_xeUtils.default.isFunction(s)?s(n):s,_xeUtils.default.isFunction(m)?m(n):m)},[(0,_render.renderItemContent)(e,t,l)])])},renderVN:function(e){var t=this,l=t.$xeForm;return!!l&&l.customLayout?t.renderItem(e,l,t.formItem):e("div",{ref:"refElem"})}},provide:function(){return{$xeFormGroup:null,$xeFormItem:this,xeFormItemInfo:{itemConfig:this.formItem}}},created:function(){var e=this,t=e.$xeForm,t=(0,_util.createItem)(t,e);e.formItem=t,(0,_util.watchItem)(e,formItemPropKeys,t)},mounted:function(){var e=this,t=e.$scopedSlots,l=e.formItem,r=e.$xeForm,n=e.$xeFormGroup,t=(l.slots=t,e.$refs.refElem);(0,_util.assembleItem)(r,t,l,n)},beforeDestroy:function(){var e=this.formItem,t=this.$xeForm;(0,_util.destroyItem)(t,e)},render:function(e){return this.renderVN(e)}});