Object.defineProperty(exports,"__esModule",{value:!0}),exports.assembleItem=assembleItem,exports.createItem=createItem,exports.destroyItem=destroyItem,exports.handleFieldOrItem=handleFieldOrItem,exports.isActiveItem=isActiveItem,exports.isFormItem=isFormItem,exports.isHiddenItem=isHiddenItem,exports.watchItem=watchItem;var _ui=require("../../ui"),_xeUtils=_interopRequireDefault(require("xe-utils")),_itemInfo=require("./itemInfo"),_utils=require("../../ui/src/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isFormItem(e){return e instanceof _itemInfo.ItemInfo}function createItem(e,t){return isFormItem(t)?t:new _itemInfo.ItemInfo(e,t)}function handleFieldOrItem(e,t){return t?_xeUtils.default.isString(t)?e.getItemByField(t):t:null}function isHiddenItem(e,t){var e=e.reactData.collapseAll,i=t.folding;return!1===t.visible||i&&e}function isActiveItem(e,t){var i=e.$xeGrid,r=t.visibleMethod,n=t.itemRender,s=t.visible,o=t.field;return!1===s?s:(n=(s=(0,_utils.isEnableConf)(n)?_ui.renderer.get(n.name):null)?s.formItemVisibleMethod||s.itemVisibleMethod:null,!(r=!r&&n?n:r)||r({data:e.data,field:o,property:o,item:t,$form:e,$grid:i}))}function watchItem(e,t,i){t.forEach(function(t){e.$watch(t,function(e){i.update(t,e)})})}function assembleItem(e,t,i,r){var n=e.reactData,s=n.staticItems;e.customLayout?s.some(function(e){return e.id===i.id})||s.push(i):t&&(e=t.parentNode,r=(r=r?r.formItem:null)?r.children:s,e)&&(r.splice(_xeUtils.default.arrayIndexOf(e.children,t),0,i),n.staticItems=s.slice(0))}function destroyItem(e,t){var e=e.reactData,i=e.staticItems,r=_xeUtils.default.findIndexOf(i,function(e){return e.id===t.id});-1<r&&i.splice(r,1),e.staticItems=i.slice(0)}